/*! For license information please see main.e1fa6416.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function $(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(gd){return e.body}}function G(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ce=null,Se=null;function Ee(e){if(e=_i(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function ke(e){Ce?Se?Se.push(e):Se=[e]:Ce=e}function Te(){if(Ce){var e=Ce,t=Se;if(Se=Ce=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Pe=!1;function je(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==Ce||null!==Se)&&(Ne(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(c)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ce){Re=!1}function De(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Le=!1,Me=null,Fe=!1,Ue=null,ze={onError:function(e){Le=!0,Me=e}};function $e(e,t,n,r,i,s,o,a,l){Le=!1,Me=null,De.apply(ze,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(s(188))}function Ve(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Ct,St,Et,kt=!1,Tt=[],It=null,Nt=null,Pt=null,jt=new Map,Ot=new Map,Rt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Et(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function zt(){kt=!1,null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Pt&&Ft(Pt)&&(Pt=null),jt.forEach(Ut),Ot.forEach(Ut)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function qt(e){function t(t){return $t(t,e)}if(0<Tt.length){$t(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&$t(It,e),null!==Nt&&$t(Nt,e),null!==Pt&&$t(Pt,e),jt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var Bt=b.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var i=_t,s=Bt.transition;Bt.transition=null;try{_t=1,Qt(e,t,n,r)}finally{_t=i,Bt.transition=s}}function Wt(e,t,n,r){var i=_t,s=Bt.transition;Bt.transition=null;try{_t=4,Qt(e,t,n,r)}finally{_t=i,Bt.transition=s}}function Qt(e,t,n,r){if(Ht){var i=Gt(e,t,n,r);if(null===i)Hr(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return jt.set(s,Lt(jt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ot.set(s,Lt(Ot.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==i;){var s=_i(i);if(null!==s&&wt(s),null===(s=Gt(e,t,n,r))&&Hr(e,t,r,Kt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Kt=null;function Gt(e,t,n,r){if(Kt=null,null!==(e=yi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=M({},un,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),gn=sn(M({},fn,{dataTransfer:0})),mn=sn(M({},hn,{relatedTarget:0})),vn=sn(M({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(yn),bn=sn(M({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function En(){return Sn}var kn=M({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(kn),In=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=sn(M({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(jn),Rn=[9,13,27,32],An=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Dn,Mn=c&&(!An||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Vn(e,t,n,r){ke(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Qn=null;function Kn(e){Fr(e,0)}function Gn(e){if(Q(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Qn=Wn=null)}function nr(e){if("value"===e.propertyName&&Gn(Qn)){var t=[];Vn(t,Qn,e,we(e)),je(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Qn)}function sr(e,t){if("click"===e)return Gn(t)}function or(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Cr={},Sr={};function Er(e){if(Cr[e])return Cr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Cr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var kr=Er("animationend"),Tr=Er("animationiteration"),Ir=Er("animationstart"),Nr=Er("transitionend"),Pr=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Pr.set(e,t),l(t,[e])}for(var Rr=0;Rr<jr.length;Rr++){var Ar=jr[Rr];Or(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Or(kr,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Ir,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if($e.apply(this,arguments),Le){if(!Le)throw Error(s(198));var c=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,u),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[$r]){e[$r]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,zr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Yt(t)){case 1:var i=Vt;break;case 4:i=Wt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}je((function(){var r=s,i=we(n),o=[];e:{var a=Pr.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case kr:case Tr:case Ir:l=vn;break;case Nr:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Oe(p,d))&&c.push(Vr(p,g,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(h=qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==u?a:bi(u),(a=new c(g,p+"leave",l,n,i)).target=h,a.relatedTarget=f,g=null,yi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,g=c),h=g,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Qr(f))p++;for(f=0,g=d;g;g=Qr(g))f++;for(;0<p-f;)c=Qr(c),p--;for(;0<f-p;)d=Qr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Qr(c),d=Qr(d)}c=null}else c=null;null!==l&&Kr(o,a,l,c,!1),null!==u&&null!==h&&Kr(o,h,u,c,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Yn;else if(Hn(a))if(Xn)m=or;else{m=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sr);switch(m&&(m=m(e,r))?Vn(o,m,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(An)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else qn?zn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Mn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==_?"onCompositionEnd"===_&&qn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(v=Wr(r,_)).length&&(_=new bn(_,e,null,n,i),o.push({event:_,listeners:v}),y?_.data=y:null!==(y=$n(n))&&(_.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!An&&zn(e,t)?(e=en(),Zt=Jt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Oe(e,n))&&r.unshift(Vr(e,s,i)),null!=(s=Oe(e,t))&&r.push(Vr(e,s,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Oe(n,s))&&o.unshift(Vr(n,l,a)):i||null!=(l=Oe(n,s))&&o.push(Vr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[fi]||null}var xi=[],Ci=-1;function Si(e){return{current:e}}function Ei(e){0>Ci||(e.current=xi[Ci],xi[Ci]=null,Ci--)}function ki(e,t){Ci++,xi[Ci]=e.current,e.current=t}var Ti={},Ii=Si(Ti),Ni=Si(!1),Pi=Ti;function ji(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Ni),Ei(Ii)}function Ai(e,t,n){if(Ii.current!==Ti)throw Error(s(168));ki(Ii,t),ki(Ni,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,B(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ii.current,ki(Ii,e),ki(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Di(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ii),ki(Ii,e)):Ei(Ni),ki(Ni,n)}var Fi=null,Ui=!1,zi=!1;function $i(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!zi&&null!==Fi){zi=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Qe(Ze,qi),i}finally{_t=t,zi=!1}}return null}var Bi=[],Hi=0,Vi=null,Wi=0,Qi=[],Ki=0,Gi=null,Yi=1,Xi="";function Ji(e,t){Bi[Hi++]=Wi,Bi[Hi++]=Vi,Vi=e,Wi=t}function Zi(e,t,n){Qi[Ki++]=Yi,Qi[Ki++]=Xi,Qi[Ki++]=Gi,Gi=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=s+e}else Yi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Vi;)Vi=Bi[--Hi],Bi[Hi]=null,Wi=Bi[--Hi],Bi[Hi]=null;for(;e===Gi;)Gi=Qi[--Ki],Qi[Ki]=null,Xi=Qi[--Ki],Qi[Ki]=null,Yi=Qi[--Ki],Qi[Ki]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=ju(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=ju(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ui(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var gs=b.ReactCurrentBatchConfig;function ms(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function _s(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ru(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===C?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&ys(s)===t.type)?((r=i(t,n.props)).ref=ms(e,t,n),r.return=e,r):((r=Au(n.type,n.key,n.props,null,e.mode,r)).ref=ms(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Du(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Au(t.type,t.key,t.props,null,e.mode,n)).ref=ms(e,null,t),n.return=e,n;case x:return(t=Fu(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Du(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function g(i,s,a,l){for(var u=null,c=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(i,h,a[g],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,g),null===c?u=v:c.sibling=v,c=v,h=m}if(g===a.length)return n(i,h),is&&Ji(i,g),u;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],l))&&(s=o(h,s,g),null===c?u=h:c.sibling=h,c=h);return is&&Ji(i,g),u}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}function m(i,a,l,u){var c=D(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var _=f(i,g,y.value,u);if(null===_){null===g&&(g=v);break}e&&g&&null===_.alternate&&t(i,g),a=o(_,a,m),null===h?c=_:h.sibling=_,h=_,g=v}if(y.done)return n(i,g),is&&Ji(i,m),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(i,y.value,u))&&(a=o(y,a,m),null===h?c=y:h.sibling=y,h=y);return is&&Ji(i,m),c}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?c=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===C){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===O&&ys(u)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=ms(r,c,o),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===C?((s=Du(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Au(o.type,o.key,o.props,null,r.mode,l)).ref=ms(r,s,o),l.return=r,r=l)}return a(r);case x:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fu(o,r.mode,l)).return=r,r=s}return a(r);case O:return e(r,s,(c=o._init)(o._payload),l)}if(te(o))return g(r,s,o,l);if(D(o))return m(r,s,o,l);vs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Mu(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var bs=_s(!0),ws=_s(!1),xs=Si(null),Cs=null,Ss=null,Es=null;function ks(){Es=Ss=Cs=null}function Ts(e){var t=xs.current;Ei(xs),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){Cs=e,Es=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_a=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===Cs)throw Error(s(308));Ss=e,Cs.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var js=null;function Os(e){null===js?js=[e]:js.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Os(t)):(n.next=i.next,i.next=n),t.interleaved=n,As(e,r)}function As(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,As(e,n)}return null===(i=r.interleaved)?(t.next=t,Os(r)):(t.next=i.next,i.next=t),r.interleaved=t,As(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function $s(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qs(e,t,n,r){var i=e.updateQueue;Ds=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:Ds=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=h}}function Bs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},Vs=Si(Hs),Ws=Si(Hs),Qs=Si(Hs);function Ks(e){if(e===Hs)throw Error(s(174));return e}function Gs(e,t){switch(ki(Qs,t),ki(Ws,e),ki(Vs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Vs),ki(Vs,t)}function Ys(){Ei(Vs),Ei(Ws),Ei(Qs)}function Xs(e){Ks(Qs.current);var t=Ks(Vs.current),n=le(t,e.type);t!==n&&(ki(Ws,e),ki(Vs,n))}function Js(e){Ws.current===e&&(Ei(Vs),Ei(Ws))}var Zs=Si(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,io=b.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,uo=!1,co=!1,ho=0,fo=0;function po(){throw Error(s(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function mo(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(co)}if(ro.current=Jo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,uo=!1,t)throw Error(s(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function _o(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=_o(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((so&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,oo.lanes|=h,Ll|=h}c=c.next}while(null!==c&&c!==o);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(_a=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ll|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=_o(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(_a=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Co(){}function So(e,t){var n=oo,r=_o(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,_a=!0),r=r.queue,Lo(To.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,jo(9,ko.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&so)||Eo(n,t,i)}return i}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ko(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&No(e)}function To(e,t,n){return n((function(){Io(t)&&No(e)}))}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function No(e){var t=As(e,1);null!==t&&nu(t,e,1,-1)}function Po(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oo(){return _o().memoizedState}function Ro(e,t,n,r){var i=yo();oo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Ao(e,t,n,r){var i=_o();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&go(r,o.deps))return void(i.memoizedState=jo(t,n,s,r))}oo.flags|=e,i.memoizedState=jo(1|t,n,s,r)}function Do(e,t){return Ro(8390656,8,e,t)}function Lo(e,t){return Ao(2048,8,e,t)}function Mo(e,t){return Ao(4,2,e,t)}function Fo(e,t){return Ao(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ao(4,4,Uo.bind(null,t,e),n)}function $o(){}function qo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),oo.lanes|=n,Ll|=n,e.baseState=!0),t)}function Vo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{_t=n,io.transition=r}}function Wo(){return _o().memoizedState}function Qo(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Go(e))Yo(t,n);else if(null!==(n=Rs(e,t,n,r))){nu(n,e,r,eu()),Xo(n,t,r)}}function Ko(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Go(e))Yo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Os(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Rs(e,t,i,r))&&(nu(n,e,r,i=eu()),Xo(n,t,r))}}function Go(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Yo(e,t){co=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Ps,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ps,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Do,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Po,useDebugValue:$o,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Vo.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=yo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nl)throw Error(s(349));0!==(30&so)||Eo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Do(To.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,ko.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Nl.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ps,useCallback:qo,useContext:Ps,useEffect:Lo,useImperativeHandle:zo,useInsertionEffect:Mo,useLayoutEffect:Fo,useMemo:Bo,useReducer:wo,useRef:Oo,useState:function(){return wo(bo)},useDebugValue:$o,useDeferredValue:function(e){return Ho(_o(),ao.memoizedState,e)},useTransition:function(){return[wo(bo)[0],_o().memoizedState]},useMutableSource:Co,useSyncExternalStore:So,useId:Wo,unstable_isNewReconciler:!1},ta={readContext:Ps,useCallback:qo,useContext:Ps,useEffect:Lo,useImperativeHandle:zo,useInsertionEffect:Mo,useLayoutEffect:Fo,useMemo:Bo,useReducer:xo,useRef:Oo,useState:function(){return xo(bo)},useDebugValue:$o,useDeferredValue:function(e){var t=_o();return null===ao?t.memoizedState=e:Ho(t,ao.memoizedState,e)},useTransition:function(){return[xo(bo)[0],_o().memoizedState]},useMutableSource:Co,useSyncExternalStore:So,useId:Wo,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nu(t,e,i,r),zs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nu(t,e,i,r),zs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(nu(t,e,r,n),zs(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(i=Oi(t)?Pi:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ps(s):(s=Oi(t)?Pi:Ii.current,i.context=ji(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),qs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Vl=r),ha(0,t)},n}function pa(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=b.ReactCurrentOwner,_a=!1;function ba(e,t,n,r){t.child=null===e?ws(t,null,n,r):bs(t,e.child,n,r)}function wa(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=mo(e,t,n,r,s,i),n=vo(),null===e||_a?(is&&n&&es(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function xa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ou(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Au(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ca(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Ru(s,r)).ref=t.ref,e.return=t,t.child=e}function Ca(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(_a=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(_a=!0)}}return ka(e,t,n,r,i)}function Sa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Rl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Rl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Rl,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Rl,Ol),Ol|=r;return ba(e,t,i,n),t.child}function Ea(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,i){var s=Oi(n)?Pi:Ii.current;return s=ji(t,s),Ns(t,i),n=mo(e,t,n,r,s,i),r=vo(),null===e||_a?(is&&r&&es(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ta(e,t,n,r,i){if(Oi(n)){var s=!0;Li(t)}else s=!1;if(Ns(t,i),null===t.stateNode)Ba(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ps(u):u=ji(t,u=Oi(n)?Pi:Ii.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&aa(t,o,r,u),Ds=!1;var d=t.memoizedState;o.state=d,qs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ni.current||Ds?("function"===typeof c&&(ra(t,n,c,r),l=t.memoizedState),(a=Ds||sa(t,n,a,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ms(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:na(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ps(l):l=ji(t,l=Oi(n)?Pi:Ii.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,r,l),Ds=!1,d=t.memoizedState,o.state=d,qs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ni.current||Ds?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(u=Ds||sa(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,s,i)}function Ia(e,t,n,r,i,s){Ea(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ha(e,t,s);r=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,a,s)):ba(e,t,a,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),Gs(e,t.containerInfo)}function Pa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,ba(e,t,n,r),t.child}var ja,Oa,Ra,Aa,Da={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ma(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(Zs,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Lu(l,i,0,null),e=Du(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=Da,e):Fa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ca(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lu({mode:"visible",children:r.children},i,0,null),(o=Du(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=Da,o);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ca(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),_a||l){if(null!==(r=Nl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,As(e,i),nu(r,e,i,-1))}return gu(),Ua(e,t,a,r=ca(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Qi[Ki++]=Yi,Qi[Ki++]=Xi,Qi[Ki++]=Gi,Yi=e.id,Xi=e.overflow,Gi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ru(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Ru(r,a):(a=Du(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Da,i}return e=(a=e.child).sibling,i=Ru(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=Lu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&ps(r),bs(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function $a(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$a(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$a(t,!0,n,null,s);break;case"together":$a(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ba(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ru(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ru(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Va(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Wa(t),null;case 3:return r=t.stateNode,Ys(),Ei(Ni),Ei(Ii),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ou(ss),ss=null))),Oa(e,t),Wa(t),null;case 5:Js(t);var i=Ks(Qs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wa(t),null}if(e=Ks(Vs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,ja(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=G(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ur("scroll",e):null!=c&&_(e,o,c,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wa(t),null;case 6:if(e&&null!=t.stateNode)Aa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ks(Qs.current),Ks(Vs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Wa(t),null;case 13:if(Ei(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wa(t),o=!1}else null!==ss&&(ou(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Al&&(Al=3):gu())),null!==t.updateQueue&&(t.flags|=4),Wa(t),null);case 4:return Ys(),Oa(e,t),null===e&&qr(t.stateNode.containerInfo),Wa(t),null;case 10:return Ts(t.type._context),Wa(t),null;case 19:if(Ei(Zs),null===(o=t.memoizedState))return Wa(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Va(o,!1);else{if(0!==Al||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Va(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>ql&&(t.flags|=128,r=!0,Va(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Va(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Wa(t),null}else 2*Xe()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Va(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Zs.current,ki(Zs,r?1&n|2:1&n),t):(Wa(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Wa(t),6&t.subtreeFlags&&(t.flags|=8192)):Wa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ka(e,t){switch(ts(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),Ei(Ni),Ei(Ii),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Ei(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(Zs),null;case 4:return Ys(),null;case 10:return Ts(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}ja=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Ra=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ks(Vs.current);var s,o=null;switch(n){case"input":i=G(e,i),r=G(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ur("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Aa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ga=!1,Ya=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Su(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Su(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var r=cl,i=hl;cl=null,dl(e,t,n),hl=i,null!==(cl=r)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),qt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=hl,cl=n.stateNode.containerInfo,hl=!0,dl(e,t,n),cl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Su(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,dl(e,t,n),Ya=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Iu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(s(160));fl(o,a,i),cl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Su(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Su(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Su(e,e.return,m)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Su(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),_e(l,a);var c=_e(l,o);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):_(i,h,d,c)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(m){Su(e,e.return,m)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Su(e,e.return,m)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Su(e,e.return,m)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||($l=Xe())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(c=Ya)||h,gl(t,e),Ya=c):gl(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Ja=e,h=e.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Su(r,n,m)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==p?(p.return=f,Ja=p):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",a))}catch(m){Su(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Su(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){Su(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ja=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ga;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Ga;var u=Ya;if(Ga=o,(Ya=l)&&!u)for(Ja=i;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?xl(i):null!==l?(l.return=o,Ja=l):xl(i);for(;null!==s;)Ja=s,_l(s,t,n),s=s.sibling;Ja=i,Ga=a,Ya=u}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ja=s):bl(e)}}function bl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Bs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&qt(d)}}}break;default:throw Error(s(163))}Ya||512&t.flags&&il(t)}catch(f){Su(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function wl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function xl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Su(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Su(t,i,l)}}var s=t.return;try{il(t)}catch(l){Su(t,s,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Su(t,o,l)}}}catch(l){Su(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Cl,Sl=Math.ceil,El=b.ReactCurrentDispatcher,kl=b.ReactCurrentOwner,Tl=b.ReactCurrentBatchConfig,Il=0,Nl=null,Pl=null,jl=0,Ol=0,Rl=Si(0),Al=0,Dl=null,Ll=0,Ml=0,Fl=0,Ul=null,zl=null,$l=0,ql=1/0,Bl=null,Hl=!1,Vl=null,Wl=null,Ql=!1,Kl=null,Gl=0,Yl=0,Xl=null,Jl=-1,Zl=0;function eu(){return 0!==(6&Il)?Xe():-1!==Jl?Jl:Jl=Xe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==jl?jl&-jl:null!==gs.transition?(0===Zl&&(Zl=gt()),Zl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yl)throw Yl=0,Xl=null,Error(s(185));vt(e,n,r),0!==(2&Il)&&e===Nl||(e===Nl&&(0===(2&Il)&&(Ml|=n),4===Al&&au(e,jl)),ru(e,r),1===n&&0===Il&&0===(1&t.mode)&&(ql=Xe()+500,Ui&&qi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Nl?jl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ui=!0,$i(e)}(lu.bind(null,e)):$i(lu.bind(null,e)),oi((function(){0===(6&Il)&&qi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jl=-1,Zl=0,0!==(6&Il))throw Error(s(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=dt(e,e===Nl?jl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=Il;Il|=2;var o=pu();for(Nl===e&&jl===t||(Bl=null,ql=Xe()+500,du(e,t));;)try{yu();break}catch(l){fu(e,l)}ks(),El.current=o,Il=i,null!==Pl?t=0:(Nl=null,jl=0,t=Al)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=su(e,i))),1===t)throw n=Dl,du(e,0),au(e,r),ru(e,Xe()),n;if(6===t)au(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,r))&&(0!==(o=pt(e))&&(r=o,t=su(e,o))),1===t))throw n=Dl,du(e,0),au(e,r),ru(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wu(e,zl,Bl);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=$l+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wu.bind(null,e,zl,Bl),t);break}wu(e,zl,Bl);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(wu.bind(null,e,zl,Bl),r);break}wu(e,zl,Bl);break;default:throw Error(s(329))}}}return ru(e,Xe()),e.callbackNode===n?iu.bind(null,e):null}function su(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=mu(e,t))&&(t=zl,zl=n,null!==t&&ou(t)),e}function ou(e){null===zl?zl=e:zl.push.apply(zl,e)}function au(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Il))throw Error(s(327));xu();var t=dt(e,0);if(0===(1&t))return ru(e,Xe()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Dl,du(e,0),au(e,t),ru(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,zl,Bl),ru(e,Xe()),null}function uu(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(ql=Xe()+500,Ui&&qi())}}function cu(e){null!==Kl&&0===Kl.tag&&0===(6&Il)&&xu();var t=Il;Il|=1;var n=Tl.transition,r=_t;try{if(Tl.transition=null,_t=1,e)return e()}finally{_t=r,Tl.transition=n,0===(6&(Il=t))&&qi()}}function hu(){Ol=Rl.current,Ei(Rl)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Ys(),Ei(Ni),Ei(Ii),no();break;case 5:Js(r);break;case 4:Ys();break;case 13:case 19:Ei(Zs);break;case 10:Ts(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Nl=e,Pl=e=Ru(e.current,null),jl=Ol=t,Al=0,Dl=null,Fl=Ml=Ll=0,zl=Ul=null,null!==js){for(t=0;t<js.length;t++)if(null!==(r=(n=js[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}js=null}return e}function fu(e,t){for(;;){var n=Pl;try{if(ks(),ro.current=Jo,uo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}uo=!1}if(so=0,lo=ao=oo=null,co=!1,ho=0,kl.current=null,null===n||null===n.return){Al=1,Dl=t,Pl=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=jl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ma(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ga(o,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(0===(1&t)){ga(o,c,t),gu();break e}u=Error(s(426))}else if(is&&1&l.mode){var v=ma(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),ps(ua(u,l));break e}}o=u=ua(u,l),4!==Al&&(Al=2),null===Ul?Ul=[o]:Ul.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,$s(o,fa(0,u,t));break e;case 1:l=u;var y=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Wl||!Wl.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,$s(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}bu(n)}catch(b){t=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pu(){var e=El.current;return El.current=Jo,null===e?Jo:e}function gu(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Nl||0===(268435455&Ll)&&0===(268435455&Ml)||au(Nl,jl)}function mu(e,t){var n=Il;Il|=2;var r=pu();for(Nl===e&&jl===t||(Bl=null,du(e,t));;)try{vu();break}catch(i){fu(e,i)}if(ks(),Il=n,El.current=r,null!==Pl)throw Error(s(261));return Nl=null,jl=0,Al}function vu(){for(;null!==Pl;)_u(Pl)}function yu(){for(;null!==Pl&&!Ge();)_u(Pl)}function _u(e){var t=Cl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?bu(e):Pl=t,kl.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Ol)))return void(Pl=n)}else{if(null!==(n=Ka(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Al=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Al&&(Al=5)}function wu(e,t,n){var r=_t,i=Tl.transition;try{Tl.transition=null,_t=1,function(e,t,n,r){do{xu()}while(null!==Kl);if(0!==(6&Il))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Nl&&(Pl=Nl=null,jl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Nu(tt,(function(){return xu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var a=_t;_t=1;var l=Il;Il|=4,kl.current=null,function(e,t){if(ei=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===o&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(w){Su(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}g=tl,tl=!1}(e,n),ml(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ye(),Il=l,_t=a,Tl.transition=o}else e.current=n;if(Ql&&(Ql=!1,Kl=e,Gl=i),o=e.pendingLanes,0===o&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;0!==(1&Gl)&&0!==e.tag&&xu(),o=e.pendingLanes,0!==(1&o)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,qi()}(e,t,n,r)}finally{Tl.transition=i,_t=r}return null}function xu(){if(null!==Kl){var e=bt(Gl),t=Tl.transition,n=_t;try{if(Tl.transition=null,_t=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Gl=0,0!==(6&Il))throw Error(s(331));var i=Il;for(Il|=4,Ja=e.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ja=c;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var f=(h=Ja).sibling,p=h.return;if(sl(h),h===c){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ja=y;break e}Ja=o.return}}var _=e.current;for(Ja=_;null!==Ja;){var b=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Ja=b;else e:for(a=_;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){Su(l,l.return,x)}if(l===a){Ja=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ja=w;break e}Ja=l.return}}if(Il=i,qi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{_t=n,Tl.transition=t}}return!1}function Cu(e,t,n){e=Us(e,t=fa(0,t=ua(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function Su(e,t,n){if(3===e.tag)Cu(e,e,n);else for(;null!==t;){if(3===t.tag){Cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Us(t,e=pa(t,e=ua(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(jl&n)===n&&(4===Al||3===Al&&(130023424&jl)===jl&&500>Xe()-$l?du(e,0):Fl|=n),ru(e,t)}function ku(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=As(e,t))&&(vt(e,t,n),ru(e,n))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ku(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),ku(e,n)}function Nu(e,t){return Qe(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ju(e,t,n,r){return new Pu(e,t,n,r)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,t){var n=e.alternate;return null===n?((n=ju(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Au(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Ou(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case C:return Du(n.children,i,o,t);case S:a=8,i|=8;break;case E:return(e=ju(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=ju(13,n,t,i)).elementType=N,e.lanes=o,e;case P:return(e=ju(19,n,t,i)).elementType=P,e.lanes=o,e;case R:return Lu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case T:a=9;break e;case I:a=11;break e;case j:a=14;break e;case O:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=ju(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Du(e,t,n,r){return(e=ju(7,e,r,t)).lanes=n,e}function Lu(e,t,n,r){return(e=ju(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mu(e,t,n){return(e=ju(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=ju(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zu(e,t,n,r,i,s,o,a,l){return e=new Uu(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=ju(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function $u(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Di(e,n,t)}return t}function qu(e,t,n,r,i,s,o,a,l){return(e=zu(n,r,!0,e,0,s,0,a,l)).context=$u(null),n=e.current,(s=Fs(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,vt(e,i,r),ru(e,r),e}function Bu(e,t,n,r){var i=t.current,s=eu(),o=tu(i);return n=$u(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,o))&&(nu(e,i,o,s),zs(e,i,o)),o}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)_a=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:Na(t),fs();break;case 5:Xs(t);break;case 1:Oi(t.type)&&Li(t);break;case 4:Gs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(xs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ma(e,t,n):(ki(Zs,1&Zs.current),null!==(e=Ha(e,t,n))?e.sibling:null);ki(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return Ha(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ba(e,t),e=t.pendingProps;var i=ji(t,Ii.current);Ns(t,n),i=mo(null,t,r,e,i,n);var o=vo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ia(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ba(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===j)return 14}return 2}(r),e=na(r,e),i){case 0:t=ka(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=xa(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ms(e,t),qs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pa(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ha(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ea(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&us(t),null;case 13:return Ma(e,t,n);case 4:return Gs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(xs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=Ha(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Fs(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Is(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=Ps(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),xa(e,t,r,i=na(r.type,i),n);case 15:return Ca(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ba(e,t),t.tag=1,Oi(r)?(e=!0,Li(t)):e=!1,Ns(t,n),oa(t,r,i),la(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return Sa(e,t,n)}throw Error(s(156,t.tag))};var Qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Gu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Zu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Hu(o);a.call(e)}}Bu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hu(o);s.call(e)}}var o=qu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hu(l);a.call(e)}}var l=zu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pi]=l.current,qr(8===e.nodeType?e.parentNode:e),cu((function(){Bu(t,l,n,r)})),l}(n,t,e,i,r);return Hu(o)}Gu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Bu(e,t,null,null)},Gu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Bu(null,e,null,null)})),t[pi]=null}},Gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Xe()),0===(6&Il)&&(ql=Xe()+500,qi()))}break;case 13:cu((function(){var t=As(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Wu(e,1)}},xt=function(e){if(13===e.tag){var t=As(e,134217728);if(null!==t)nu(t,e,134217728,eu());Wu(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tu(e),n=As(e,t);if(null!==n)nu(n,e,t,eu());Wu(e,t)}},St=function(){return _t},Et=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));Q(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uu,Ne=cu;var ec={usingClientEntryPoint:!1,Events:[_i,bi,wi,ke,Te,uu]},tc={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),st=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(s(299));var n=!1,r="",i=Qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(s(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qu(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(s(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(s(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:a.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=_.prototype=new y;b.constructor=_,g(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,C={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:C.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+I(l,0):s,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var u=0;u<e.length;u++){var c=s+I(a=e[u],u);l+=N(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,c=s+I(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},A={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:C};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=C.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)x.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(m=!1,b(e),!g)if(null!==r(u))g=!0,R(x);else{var t=r(c);null!==t&&A(w,t.startTime-e)}}function x(e,n){g=!1,m&&(m=!1,y(k),k=-1),p=!0;var s=f;try{for(b(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(u)&&i(u),b(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&A(w,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,S=!1,E=null,k=-1,T=5,I=-1;function N(){return!(t.unstable_now()-I<T)}function P(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?C():(S=!1,E=null)}}else S=!1}if("function"===typeof _)C=function(){_(P)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,O=j.port2;j.port1.onmessage=P,C=function(){O.postMessage(null)}}else C=function(){v(P,0)};function R(e){E=e,S||(S=!0,C())}function A(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(m?(y(k),k=-1):m=!0,A(w,s-o))):(e.sortIndex=a,n(u,e),g||p||(g=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".1d44eca4.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="projectdelta:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Integrated-Business-Software-for-Delta-Apparels/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],u=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)s=o[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkprojectdelta=self.webpackChunkprojectdelta||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r,i=n(43),s=n.t(i,2),o=n(391),a=n(950),l=n.t(a,2);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const c="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,l=r.Pop,d=null,m=v();function v(){return(a.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-m;m=e,d&&d({action:l,location:b.location,delta:t})}function _(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,a.replaceState(u({},a.state,{idx:m}),""));let b={get action(){return l},get location(){return e(s,a)},listen(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(c,y),d=e,()=>{s.removeEventListener(c,y),d=null}},createHref:e=>t(s,e),createURL:_,encodeLocation(e){let t=_(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(b.location,e,t);n&&n(i,e),m=v()+1;let u=f(i,m),c=b.createHref(i);try{a.pushState(u,"",c)}catch(Oo){if(Oo instanceof DOMException&&"DataCloneError"===Oo.name)throw Oo;s.location.assign(c)}o&&d&&d({action:l,location:b.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(b.location,e,t);n&&n(i,e),m=v();let s=f(i,m),u=b.createHref(i);a.replaceState(s,"",u),o&&d&&d({action:l,location:b.location,delta:0})},go:e=>a.go(e)};return b}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function _(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let i=A(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let s=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=R(i);o=j(s[a],e,r)}return o}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(h(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=U([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),w(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:P(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of x(e.path))i(e,t,r);else i(e,t)})),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=x(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const C=/^:[\w-]+$/,S=3,E=2,k=1,T=10,I=-2,N=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(N)&&(r+=I),t&&(r+=E),n.filter((e=>!N(e))).reduce(((e,t)=>e+(C.test(t)?S:""===t?k:T)),r)}function j(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,u="/"===s?t:t.slice(s.length)||"/",c=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),h=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:U([s,c.pathname]),pathnameBase:z(U([s,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(s=U([s,c.pathnameBase]))}return o}function O(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function R(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(Oo){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Oo+")."),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t){let n=L(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=u({},e),h(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:$(r),hash:q(i)}}(i,s),c=a&&"/"!==a&&a.endsWith("/"),d=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const U=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],V=(new Set(H),["get",...H]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const Q=i.createContext(null);const K=i.createContext(null);const G=i.createContext(null);const Y=i.createContext(null);const X=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function Z(){return null!=i.useContext(Y)}function ee(){return Z()||h(!1),i.useContext(Y).location}function te(e){i.useContext(G).static||i.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=i.useContext(X);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=fe(ce.UseNavigateStable),n=i.useRef(!1);return te((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))}),[e,t])}():function(){Z()||h(!1);let e=i.useContext(Q),{basename:t,future:n,navigator:r}=i.useContext(G),{matches:s}=i.useContext(X),{pathname:o}=ee(),a=JSON.stringify(M(s,n.v7_relativeSplatPath)),l=i.useRef(!1);return te((()=>{l.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=F(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:U([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,a,o,e])}()}function re(e,t,n,s){Z()||h(!1);let{navigator:o}=i.useContext(G),{matches:a}=i.useContext(X),l=a[a.length-1],u=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=ee();if(t){var p;let e="string"===typeof t?m(t):t;"/"===c||(null==(p=e.pathname)?void 0:p.startsWith(c))||h(!1),d=e}else d=f;let g=d.pathname||"/",v=g;if("/"!==c){let e=c.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=_(e,{pathname:v});let b=le(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:U([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:U([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,s);return t&&b?i.createElement(Y.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},b):b}function ie(){let e=function(){var e;let t=i.useContext(J),n=de(ce.UseRouteError),r=fe(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const se=i.createElement(ie,null);class oe extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(X.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(Q);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(X.Provider,{value:t},r)}function le(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||h(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight(((e,r,s)=>{let o,h=!1,d=null,f=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||se,u&&(c<0&&0===s?(p="route-fallback",!1||pe[p]||(pe[p]=!0),h=!0,f=null):c===s&&(h=!0,f=r.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,s+1)),m=()=>{let t;return t=o?d:h?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ae,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(oe,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function he(e){let t=i.useContext(Q);return t||h(!1),t}function de(e){let t=i.useContext(K);return t||h(!1),t}function fe(e){let t=function(){let e=i.useContext(X);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const pe={};s.startTransition;function ge(e){h(!1)}function me(e){let{basename:t="/",children:n=null,location:s,navigationType:o=r.Pop,navigator:a,static:l=!1,future:u}=e;Z()&&h(!1);let c=t.replace(/^\/*/,"/"),d=i.useMemo((()=>({basename:c,navigator:a,static:l,future:W({v7_relativeSplatPath:!1},u)})),[c,u,a,l]);"string"===typeof s&&(s=m(s));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=s,_=i.useMemo((()=>{let e=A(f,c);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:o}}),[c,f,p,g,v,y,o]);return null==_?null:i.createElement(G.Provider,{value:d},i.createElement(Y.Provider,{children:n,value:_}))}function ve(e){let{children:t,location:n}=e;return re(ye(t),n)}new Promise((()=>{}));i.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,ye(e.props.children,s));e.type!==ge&&h(!1),e.props.index&&e.props.children&&h(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ye(e.props.children,s)),n.push(o)})),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Ap){}new Map;const _e=s.startTransition;l.flushSync,s.useId;function be(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),v((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=m(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:g(t))}),(function(e,t){d("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),a)));let l=o.current,[u,c]=i.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},f=i.useCallback((e=>{h&&_e?_e((()=>c(e))):c(e)}),[c,h]);return i.useLayoutEffect((()=>l.listen(f)),[l,f]),i.createElement(me,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var we,xe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(we||(we={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(xe||(xe={}));const Ce=n.p+"static/media/pic.594ba2033b8ad9474df6.png";var Se=n(579);function Ee(){return(0,Se.jsx)("div",{className:"pic",children:(0,Se.jsx)("img",{src:Ce,alt:"Description of the image",className:"title"})})}function ke(){const e=ne();return(0,Se.jsx)("div",{children:(0,Se.jsx)("button",{className:"login",onClick:()=>e("/pages/Login"),children:"Login"})})}function Te(){return(0,Se.jsxs)("div",{className:"wrapper3",children:[(0,Se.jsx)("div",{className:"all",children:(0,Se.jsx)("div",{className:"back",children:(0,Se.jsx)(ke,{})})}),(0,Se.jsx)("div",{className:"logo-box"}),(0,Se.jsx)("div",{className:"footer",children:(0,Se.jsx)("p",{children:"\xa9 2024 Delta Apparels"})})]})}const Ie=!1,Ne=!1,Pe="${JSCORE_VERSION}",je=function(e,t){if(!e)throw Oe(t)},Oe=function(e){return new Error("Firebase Database ("+Pe+") INTERNAL ASSERT FAILED: "+e)},Re=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Re(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new De;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Le=function(e){const t=Re(e);return Ae.encodeByteArray(t,!0)},Me=function(e){return Le(e).replace(/\./g,"")},Fe=function(e){try{return Ae.decodeString(e,!0)}catch(Ap){console.error("base64Decode failed: ",Ap)}return null};function Ue(e){return ze(void 0,e)}function ze(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ze(e[n],t[n]));return e}const $e=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,qe=()=>{try{return $e()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Integrated-Business-Software-for-Delta-Apparels",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Ap){return}const t=e&&Fe(e[1]);return t&&JSON.parse(t)})()}catch(Ap){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ap}`)}},Be=e=>{var t,n;return null===(n=null===(t=qe())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},He=e=>{const t=Be(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ve=()=>{var e;return null===(e=qe())||void 0===e?void 0:e.config},We=e=>{var t;return null===(t=qe())||void 0===t?void 0:t[`_${e}`]};class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ke(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(s)),""].join(".")}function Ge(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ye(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Xe(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Je(){return!0===Ie||!0===Ne}function Ze(){try{return"object"===typeof indexedDB}catch(Ap){return!1}}class et extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tt.prototype.create)}}class tt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(nt,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new et(n,s,t)}}const nt=/\{\$([^}]+)}/g;function rt(e){return JSON.parse(e)}function it(e){return JSON.stringify(e)}const st=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=rt(Fe(s[0])||""),n=rt(Fe(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(Ap){}return{header:t,claims:n,data:r,signature:i}};function ot(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function at(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function lt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ut(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function ct(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(ht(n)&&ht(s)){if(!ct(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ht(e){return null!==e&&"object"===typeof e}function dt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ft(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function pt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class gt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let c=0;c<16;c++)n[c]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let c=0;c<16;c++)n[c]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let c=16;c<80;c++){const e=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(let c=0;c<80;c++){c<40?c<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):c<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+u+i+n[c]&4294967295;u=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class mt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=vt),void 0===r.error&&(r.error=vt),void 0===r.complete&&(r.complete=vt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Ap){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Ap){"undefined"!==typeof console&&console.error&&console.error(Ap)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function vt(){}function yt(e,t){return`${e} failed: ${t} argument `}const _t=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function bt(e){return e&&e._delegate?e._delegate:e}class wt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xt="[DEFAULT]";class Ct{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Qe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Ap){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Ap){if(r)return null;throw Ap}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xt})}catch(Ap){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Ap){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===xt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt;return this.component?this.component.multipleInstances?e:xt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class St{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ct(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Et=[];var kt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(kt||(kt={}));const Tt={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},It=kt.INFO,Nt={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},Pt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Nt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class jt{constructor(e){this.name=e,this._logLevel=It,this._logHandler=Pt,this._userLogHandler=null,Et.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Tt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}let Ot,Rt;const At=new WeakMap,Dt=new WeakMap,Lt=new WeakMap,Mt=new WeakMap,Ft=new WeakMap;let Ut={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Dt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Lt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function zt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Rt||(Rt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Bt(this),n),qt(At.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qt(e.apply(Bt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Bt(this),t,...r);return Lt.set(s,t.sort?t.sort():[t]),qt(s)}}function $t(e){return"function"===typeof e?zt(e):(e instanceof IDBTransaction&&function(e){if(Dt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Dt.set(e,t)}(e),t=e,(Ot||(Ot=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Ut):e);var t}function qt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(qt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&At.set(t,e)})).catch((()=>{})),Ft.set(t,e),t}(e);if(Mt.has(e))return Mt.get(e);const t=$t(e);return t!==e&&(Mt.set(e,t),Ft.set(t,e)),t}const Bt=e=>Ft.get(e);const Ht=["get","getKey","getAll","getAllKeys","count"],Vt=["put","add","delete","clear"],Wt=new Map;function Qt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Wt.get(t))return Wt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Vt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ht.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Wt.set(t,s),s}Ut=(e=>({...e,get:(t,n,r)=>Qt(t,n)||e.get(t,n,r),has:(t,n)=>!!Qt(t,n)||e.has(t,n)}))(Ut);class Kt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Gt="@firebase/app",Yt="0.10.11",Xt=new jt("@firebase/app"),Jt="@firebase/app-compat",Zt="@firebase/analytics-compat",en="@firebase/analytics",tn="@firebase/app-check-compat",nn="@firebase/app-check",rn="@firebase/auth",sn="@firebase/auth-compat",on="@firebase/database",an="@firebase/database-compat",ln="@firebase/functions",un="@firebase/functions-compat",cn="@firebase/installations",hn="@firebase/installations-compat",dn="@firebase/messaging",fn="@firebase/messaging-compat",pn="@firebase/performance",gn="@firebase/performance-compat",mn="@firebase/remote-config",vn="@firebase/remote-config-compat",yn="@firebase/storage",_n="@firebase/storage-compat",bn="@firebase/firestore",wn="@firebase/vertexai-preview",xn="@firebase/firestore-compat",Cn="firebase",Sn="[DEFAULT]",En={[Gt]:"fire-core",[Jt]:"fire-core-compat",[en]:"fire-analytics",[Zt]:"fire-analytics-compat",[nn]:"fire-app-check",[tn]:"fire-app-check-compat",[rn]:"fire-auth",[sn]:"fire-auth-compat",[on]:"fire-rtdb",[an]:"fire-rtdb-compat",[ln]:"fire-fn",[un]:"fire-fn-compat",[cn]:"fire-iid",[hn]:"fire-iid-compat",[dn]:"fire-fcm",[fn]:"fire-fcm-compat",[pn]:"fire-perf",[gn]:"fire-perf-compat",[mn]:"fire-rc",[vn]:"fire-rc-compat",[yn]:"fire-gcs",[_n]:"fire-gcs-compat",[bn]:"fire-fst",[xn]:"fire-fst-compat",[wn]:"fire-vertex","fire-js":"fire-js",[Cn]:"fire-js-all"},kn=new Map,Tn=new Map,In=new Map;function Nn(e,t){try{e.container.addComponent(t)}catch(Ap){Xt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,Ap)}}function Pn(e){const t=e.name;if(In.has(t))return Xt.debug(`There were multiple attempts to register component ${t}.`),!1;In.set(t,e);for(const n of kn.values())Nn(n,e);for(const n of Tn.values())Nn(n,e);return!0}function jn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function On(e){return void 0!==e.settings}const Rn=new tt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class An{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new wt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}const Dn="10.13.2";function Ln(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Sn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Rn.create("bad-app-name",{appName:String(i)});if(n||(n=Ve()),!n)throw Rn.create("no-options");const s=kn.get(i);if(s){if(ct(n,s.options)&&ct(r,s.config))return s;throw Rn.create("duplicate-app",{appName:i})}const o=new St(i);for(const l of In.values())o.addComponent(l);const a=new An(n,r,o);return kn.set(i,a),a}function Mn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;const t=kn.get(e);if(!t&&e===Sn&&Ve())return Ln();if(!t)throw Rn.create("no-app",{appName:e});return t}function Fn(e,t,n){var r;let i=null!==(r=En[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Xt.warn(e.join(" "))}Pn(new wt(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Un="firebase-heartbeat-store";let zn=null;function $n(){return zn||(zn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=qt(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(qt(o.result),e.oldVersion,e.newVersion,qt(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Un)}catch(Ap){console.warn(Ap)}}}).catch((e=>{throw Rn.create("idb-open",{originalErrorMessage:e.message})}))),zn}async function qn(e,t){try{const n=(await $n()).transaction(Un,"readwrite"),r=n.objectStore(Un);await r.put(t,Bn(e)),await n.done}catch(Ap){if(Ap instanceof et)Xt.warn(Ap.message);else{const t=Rn.create("idb-set",{originalErrorMessage:null===Ap||void 0===Ap?void 0:Ap.message});Xt.warn(t.message)}}}function Bn(e){return`${e.name}!${e.options.appId}`}class Hn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Wn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Vn();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(Ap){Xt.warn(Ap)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Vn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Qn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Qn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Me(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Ap){return Xt.warn(Ap),""}}}function Vn(){return(new Date).toISOString().substring(0,10)}class Wn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ze()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Oo){t(Oo)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await $n()).transaction(Un),n=await t.objectStore(Un).get(Bn(e));return await t.done,n}catch(Ap){if(Ap instanceof et)Xt.warn(Ap.message);else{const t=Rn.create("idb-get",{originalErrorMessage:null===Ap||void 0===Ap?void 0:Ap.message});Xt.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return qn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return qn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Qn(e){return Me(JSON.stringify({version:2,heartbeats:e})).length}var Kn;Kn="",Pn(new wt("platform-logger",(e=>new Kt(e)),"PRIVATE")),Pn(new wt("heartbeat",(e=>new Hn(e)),"PRIVATE")),Fn(Gt,Yt,Kn),Fn(Gt,Yt,"esm2017"),Fn("fire-js","");Fn("firebase","10.13.2","app");function Gn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Yn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Xn=Yn,Jn=new tt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Zn=new jt("@firebase/auth");function er(e){if(Zn.logLevel<=kt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Zn.error(`Auth (${Dn}): ${e}`,...n)}}function tr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw sr(e,...n)}function nr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return sr(e,...n)}function rr(e,t,n){const r=Object.assign(Object.assign({},Xn()),{[t]:n});return new tt("auth","Firebase",r).create(t,{appName:e.name})}function ir(e){return rr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Jn.create(e,...n)}function or(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw sr(t,...r)}}function ar(e){const t="INTERNAL ASSERTION FAILED: "+e;throw er(t),new Error(t)}function lr(e,t){e||ar(t)}function ur(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function cr(){return"http:"===hr()||"https:"===hr()}function hr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function dr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(cr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class fr{constructor(e,t){this.shortDelay=e,this.longDelay=t,lr(t>e,"Short delay should be less than long delay!"),this.isMobile=Ye()||Xe()}get(){return dr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pr(e,t){lr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class gr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vr=new fr(3e4,6e4);function yr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function _r(e,t,n,r){return br(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=dt(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),gr.fetch()(xr(e,e.config.apiHost,n,o),l)}))}async function br(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},mr),t);try{const t=new Sr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Er(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Er(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Er(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Er(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw rr(e,a,o);tr(e,a)}}catch(Ap){if(Ap instanceof et)throw Ap;tr(e,"network-request-failed",{message:String(Ap)})}}async function wr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await _r(e,t,n,r,i);return"mfaPendingCredential"in s&&tr(e,"multi-factor-auth-required",{_serverResponse:s}),s}function xr(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?pr(e.config,i):`${e.config.apiScheme}://${i}`}function Cr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Sr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(nr(this.auth,"network-request-failed"))),vr.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Er(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=nr(e,t,r);return i.customData._tokenResponse=n,i}function kr(e){return void 0!==e&&void 0!==e.enterprise}class Tr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Cr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Ir(e,t){return _r(e,"GET","/v2/recaptchaConfig",yr(e,t))}async function Nr(e,t){return _r(e,"POST","/v1/accounts:lookup",t)}function Pr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Ap){}}function jr(e){return 1e3*Number(e)}function Or(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return er("JWT malformed, contained fewer than 3 sections"),null;try{const e=Fe(n);return e?JSON.parse(e):(er("Failed to decode base64 JWT payload"),null)}catch(Ap){return er("Caught error parsing JWT payload as JSON",null===Ap||void 0===Ap?void 0:Ap.toString()),null}}function Rr(e){const t=Or(e);return or(t,"internal-error"),or("undefined"!==typeof t.exp,"internal-error"),or("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Ar(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Ap){throw Ap instanceof et&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(Ap)&&e.auth.currentUser===e&&await e.auth.signOut(),Ap}}class Dr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Ap){return void("auth/network-request-failed"===(null===Ap||void 0===Ap?void 0:Ap.code)&&this.schedule(!0))}this.schedule()}}class Lr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pr(this.lastLoginAt),this.creationTime=Pr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Mr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ar(e,Nr(n,{idToken:r}));or(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Fr(s.providerUserInfo):[],a=(l=e.providerData,u=o,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Lr(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Fr(e){return e.map((e=>{var{providerId:t}=e,n=Gn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Ur{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){or(e.idToken,"internal-error"),or("undefined"!==typeof e.idToken,"internal-error"),or("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Rr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){or(0!==e.length,"internal-error");const t=Rr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(or(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await br(e,{},(async()=>{const n=dt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=xr(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",gr.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Ur;return n&&(or("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(or("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(or("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ur,this.toJSON())}_performRefresh(){return ar("not implemented")}}function zr(e,t){or("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class $r{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Gn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Lr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ar(this,this.stsTokenManager.getToken(this.auth,e));return or(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=bt(e),r=await n.getIdToken(t),i=Or(r);or(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Pr(jr(i.auth_time)),issuedAtTime:Pr(jr(i.iat)),expirationTime:Pr(jr(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=bt(e);await Mr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(or(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){or(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Mr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(ir(this.auth));const e=await this.getIdToken();return await Ar(this,async function(e,t){return _r(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:x}=t;or(y&&x,e,"internal-error");const C=Ur.fromJSON(this.name,x);or("string"===typeof y,e,"internal-error"),zr(c,e.name),zr(h,e.name),or("boolean"===typeof _,e,"internal-error"),or("boolean"===typeof b,e,"internal-error"),zr(d,e.name),zr(f,e.name),zr(p,e.name),zr(g,e.name),zr(m,e.name),zr(v,e.name);const S=new $r({uid:y,auth:e,email:h,emailVerified:_,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:C,createdAt:m,lastLoginAt:v});return w&&Array.isArray(w)&&(S.providerData=w.map((e=>Object.assign({},e)))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Ur;r.updateFromServerResponse(t);const i=new $r({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Mr(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];or(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Fr(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new Ur;o.updateFromIdToken(n);const a=new $r({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Lr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const qr=new Map;function Br(e){lr(e instanceof Function,"Expected a class definition");let t=qr.get(e);return t?(lr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,qr.set(e,t),t)}class Hr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Hr.type="NONE";const Vr=Hr;function Wr(e,t,n){return`firebase:${e}:${t}:${n}`}class Qr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Wr(this.userKey,r.apiKey,i),this.fullPersistenceKey=Wr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$r._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Qr(Br(Vr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Br(Vr);const s=Wr(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const t=await u._get(s);if(t){const n=$r._fromJSON(e,t);u!==i&&(o=n),i=u;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new Qr(i,e,n)):new Qr(i,e,n)}}function Kr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Gr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ei(t))return"Blackberry";if(ti(t))return"Webos";if(Yr(t))return"Safari";if((t.includes("chrome/")||Xr(t))&&!t.includes("edge/"))return"Chrome";if(Zr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/firefox\//i.test(e)}function Yr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/crios\//i.test(e)}function Jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/iemobile/i.test(e)}function Zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/android/i.test(e)}function ei(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/blackberry/i.test(e)}function ti(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/webos/i.test(e)}function ni(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ri(){return function(){const e=Ge();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ii(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return ni(e)||Zr(e)||ti(e)||ei(e)||/windows phone/i.test(e)||Jr(e)}function si(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Kr(Ge());break;case"Worker":t=`${Kr(Ge())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Dn}/${r}`}class oi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Ap){r(Ap)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Ap){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Ap||void 0===Ap?void 0:Ap.message})}}}class ai{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class li{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ci(this),this.idTokenSubscription=new ci(this),this.beforeStateQueue=new oi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Br(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Qr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Ap){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Nr(this,{idToken:e}),n=await $r._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(On(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Ap){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Ap)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return or(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Ap){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mr(e)}catch(Ap){if("auth/network-request-failed"!==(null===Ap||void 0===Ap?void 0:Ap.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(ir(this));const t=e?bt(e):null;return t&&or(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&or(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return On(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(ir(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Br(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return _r(e,"GET","/v2/passwordPolicy",yr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ai(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return _r(e,"POST","/v2/accounts:revokeToken",yr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Br(e)||this._popupRedirectResolver;or(t,this,"argument-error"),this.redirectPersistenceManager=await Qr.create(this,[Br(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(or(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return or(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=si(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Zn.logLevel<=kt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Zn.warn(`Auth (${Dn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function ui(e){return bt(e)}class ci{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new mt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return or(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function di(e){return hi.loadJS(e)}function fi(e){return`__${e}${Math.floor(1e6*Math.random())}`}class pi{constructor(e){this.type="recaptcha-enterprise",this.auth=ui(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;kr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ir(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Tr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&kr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=hi.recaptchaEnterpriseScript;0!==t.length&&(t+=i),di(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function gi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new pi(e);let s;try{s=await i.verify(n)}catch(Oo){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function mi(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await gi(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await gi(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function vi(e,t,n){const r=ui(e);or(r._canInitEmulator,r,"emulator-config-failed"),or(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=yi(t),{host:o,port:a}=function(e){const t=yi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:_i(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:_i(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function yi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function _i(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class bi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ar("not implemented")}_getIdTokenResponse(e){return ar("not implemented")}_linkToIdToken(e,t){return ar("not implemented")}_getReauthenticationResolver(e){return ar("not implemented")}}async function wi(e,t){return _r(e,"POST","/v1/accounts:signUp",t)}async function xi(e,t){return wr(e,"POST","/v1/accounts:signInWithPassword",yr(e,t))}async function Ci(e,t){return _r(e,"POST","/v1/accounts:sendOobCode",yr(e,t))}async function Si(e,t){return Ci(e,t)}class Ei extends bi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ei(e,t,"password")}static _fromEmailAndCode(e,t){return new Ei(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return mi(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",xi);case"emailLink":return async function(e,t){return wr(e,"POST","/v1/accounts:signInWithEmailLink",yr(e,t))}(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return mi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wi);case"emailLink":return async function(e,t){return wr(e,"POST","/v1/accounts:signInWithEmailLink",yr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ki(e,t){return wr(e,"POST","/v1/accounts:signInWithIdp",yr(e,t))}class Ti extends bi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ti(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Gn(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Ti(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ki(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ki(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ki(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=dt(t)}return e}}const Ii={USER_NOT_FOUND:"user-not-found"};class Ni extends bi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ni({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ni({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return wr(e,"POST","/v1/accounts:signInWithPhoneNumber",yr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await wr(e,"POST","/v1/accounts:signInWithPhoneNumber",yr(e,t));if(n.temporaryProof)throw Er(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return wr(e,"POST","/v1/accounts:signInWithPhoneNumber",yr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ii)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ni({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Pi{constructor(e){var t,n,r,i,s,o;const a=ft(pt(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);or(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=ft(pt(e)).link,n=t?ft(pt(t)).deep_link_id:null,r=ft(pt(e)).deep_link_id;return(r?ft(pt(r)).link:null)||r||n||t||e}(e);try{return new Pi(t)}catch(n){return null}}}class ji{constructor(){this.providerId=ji.PROVIDER_ID}static credential(e,t){return Ei._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Pi.parseLink(t);return or(n,"argument-error"),Ei._fromEmailAndCode(e,n.code,n.tenantId)}}ji.PROVIDER_ID="password",ji.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ji.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Oi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ri extends Oi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ai extends Ri{constructor(){super("facebook.com")}static credential(e){return Ti._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ai.credential(t.oauthAccessToken)}catch(n){return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ai.PROVIDER_ID="facebook.com";class Di extends Ri{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ti._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Di.credential(n,r)}catch(i){return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com",Di.PROVIDER_ID="google.com";class Li extends Ri{constructor(){super("github.com")}static credential(e){return Ti._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Li.credential(t.oauthAccessToken)}catch(n){return null}}}Li.GITHUB_SIGN_IN_METHOD="github.com",Li.PROVIDER_ID="github.com";class Mi extends Ri{constructor(){super("twitter.com")}static credential(e,t){return Ti._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Mi.credential(n,r)}catch(i){return null}}}async function Fi(e,t){return wr(e,"POST","/v1/accounts:signUp",yr(e,t))}Mi.TWITTER_SIGN_IN_METHOD="twitter.com",Mi.PROVIDER_ID="twitter.com";class Ui{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await $r._fromIdTokenResponse(e,n,r),s=zi(n);return new Ui({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=zi(n);return new Ui({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function zi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class $i extends et{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,$i.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new $i(e,t,n,r)}}function qi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw $i._fromErrorAndOperation(e,n,t,r);throw n}))}async function Bi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Ar(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ui._forOperation(e,"link",r)}async function Hi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(On(r.app))return Promise.reject(ir(r));const i="reauthenticate";try{const s=await Ar(e,qi(r,i,t,e),n);or(s.idToken,r,"internal-error");const o=Or(s.idToken);or(o,r,"internal-error");const{sub:a}=o;return or(e.uid===a,r,"user-mismatch"),Ui._forOperation(e,i,s)}catch(Ap){throw"auth/user-not-found"===(null===Ap||void 0===Ap?void 0:Ap.code)&&tr(r,"user-mismatch"),Ap}}async function Vi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(On(e.app))return Promise.reject(ir(e));const r="signIn",i=await qi(e,r,t),s=await Ui._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Wi(e,t){return Vi(ui(e),t)}function Qi(e,t,n){var r;or((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),or("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(or(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(or(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Ki(e){const t=ui(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Gi(e,t,n){const r=ui(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Qi(r,i,n),await mi(r,i,"getOobCode",Si)}function Yi(e,t,n){return On(e.app)?Promise.reject(ir(e)):Wi(bt(e),ji.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Ki(e),t}))}new WeakMap;const Xi="__sak";class Ji{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xi,"1"),this.storage.removeItem(Xi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Zi extends Ji{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ii(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ri()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zi.type="LOCAL";const es=Zi;class ts extends Ji{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ts.type="SESSION";const ns=ts;class rs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new rs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function is(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}rs.receivers=[];class ss{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=is("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function os(){return window}function as(){return"undefined"!==typeof os().WorkerGlobalScope&&"function"===typeof os().importScripts}const ls="firebaseLocalStorageDb",us="firebaseLocalStorage",cs="fbase_key";class hs{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ds(e,t){return e.transaction([us],t?"readwrite":"readonly").objectStore(us)}function fs(){const e=indexedDB.open(ls,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(us,{keyPath:cs})}catch(Ap){n(Ap)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(us)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ls);return new hs(e).toPromise()}(),t(await fs()))}))}))}async function ps(e,t,n){const r=ds(e,!0).put({[cs]:t,value:n});return new hs(r).toPromise()}function gs(e,t){const n=ds(e,!0).delete(t);return new hs(n).toPromise()}class ms{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await fs()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Ap){if(t++>3)throw Ap;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return as()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rs._getInstance(as()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ss(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fs();return await ps(e,Xi,"1"),await gs(e,Xi),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ps(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ds(e,!1).get(t),r=await new hs(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>gs(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ds(e,!1).getAll();return new hs(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ms.type="LOCAL";const vs=ms;fi("rcb"),new fr(3e4,6e4);const ys="recaptcha";async function _s(e,t,n){var r;const i=await n.verify();try{let s;if(or("string"===typeof i,e,"argument-error"),or(n.type===ys,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){or("enroll"===t.type,e,"internal-error");const n=await function(e,t){return _r(e,"POST","/v2/accounts/mfaEnrollment:start",yr(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{or("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;or(n,e,"missing-multi-factor-info");const o=await function(e,t){return _r(e,"POST","/v2/accounts/mfaSignIn:start",yr(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return _r(e,"POST","/v1/accounts:sendVerificationCode",yr(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class bs{constructor(e){this.providerId=bs.PROVIDER_ID,this.auth=ui(e)}verifyPhoneNumber(e,t){return _s(this.auth,e,bt(t))}static credential(e,t){return Ni._fromVerification(e,t)}static credentialFromResult(e){const t=e;return bs.credentialFromTaggedObject(t)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ni._fromTokenResponse(n,r):null}}function ws(e,t){return t?Br(t):(or(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}bs.PROVIDER_ID="phone",bs.PHONE_SIGN_IN_METHOD="phone";class xs extends bi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ki(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ki(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ki(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Cs(e){return Vi(e.auth,new xs(e),e.bypassAuthState)}function Ss(e){const{auth:t,user:n}=e;return or(n,t,"internal-error"),Hi(n,new xs(e),e.bypassAuthState)}async function Es(e){const{auth:t,user:n}=e;return or(n,t,"internal-error"),Bi(n,new xs(e),e.bypassAuthState)}class ks{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Ap){this.reject(Ap)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(Ap){this.reject(Ap)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cs;case"linkViaPopup":case"linkViaRedirect":return Es;case"reauthViaPopup":case"reauthViaRedirect":return Ss;default:tr(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ts=new fr(2e3,1e4);class Is extends ks{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return or(e,this.auth,"internal-error"),e}async onExecution(){lr(1===this.filter.length,"Popup operations only handle one event");const e=is();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(nr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ts.get())};e()}}Is.currentPopupAction=null;const Ns=new Map;class Ps extends ks{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ns.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Rs(t),r=Os(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Ap){e=()=>Promise.reject(Ap)}Ns.set(this.auth._key(),e)}return this.bypassAuthState||Ns.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function js(e,t){Ns.set(e._key(),t)}function Os(e){return Br(e._redirectPersistence)}function Rs(e){return Wr("pendingRedirect",e.config.apiKey,e.name)}async function As(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(On(e.app))return Promise.reject(ir(e));const r=ui(e),i=ws(r,t),s=new Ps(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Ds{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ms(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ms(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(nr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ls(e))}saveEventToCache(e){this.cachedEventUids.add(Ls(e)),this.lastProcessedEventTime=Date.now()}}function Ls(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ms(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Fs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Us=/^https?/;async function zs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return _r(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if($s(r))return}catch(n){}tr(e,"unauthorized-domain")}function $s(e){const t=ur(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Us.test(n))return!1;if(Fs.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const qs=new fr(3e4,6e4);function Bs(){const e=os().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Hs(e){return new Promise(((t,n)=>{var r,i,s;function o(){Bs(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Bs(),n(nr(e,"network-request-failed"))},timeout:qs.get()})}if(null===(i=null===(r=os().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=os().gapi)||void 0===s?void 0:s.load)){const t=fi("iframefcb");return os()[t]=()=>{gapi.load?o():n(nr(e,"network-request-failed"))},di(`${hi.gapiScript}?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw Vs=null,e}))}let Vs=null;const Ws=new fr(5e3,15e3),Qs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ks=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gs(e){const t=e.config;or(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?pr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Dn},i=Ks.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${dt(r).slice(1)}`}async function Ys(e){const t=await function(e){return Vs=Vs||Hs(e),Vs}(e),n=os().gapi;return or(n,e,"internal-error"),t.open({where:document.body,url:Gs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qs,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=nr(e,"network-request-failed"),s=os().setTimeout((()=>{r(i)}),Ws.get());function o(){os().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const Xs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Js{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Ap){}}}function Zs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Xs),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ge().toLowerCase();n&&(a=Xr(u)?"_blank":n),Gr(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return ni(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Js(null);const h=window.open(t||"",a,c);or(h,e,"popup-blocked");try{h.focus()}catch(Ap){}return new Js(h)}const eo="__/auth/handler",to="emulator/auth/handler",no=encodeURIComponent("fac");async function ro(e,t,n,r,i,s){or(e.config.authDomain,e,"auth-domain-config-required"),or(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Dn,eventId:i};if(t instanceof Oi){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",lt(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Ri){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${no}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${eo}`;return pr(t,to)}(e)}?${dt(a).slice(1)}${u}`}const io="webStorageSupport";const so=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ns,this._completeRedirectFn=As,this._overrideRedirectResult=js}async _openPopup(e,t,n,r){var i;lr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Zs(e,await ro(e,t,n,ur(),r),is())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){os().location.href=e}(await ro(e,t,n,ur(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(lr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Ys(e),n=new Ds(e);return t.register("authEvent",(t=>{or(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(io,{type:io},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[io];void 0!==i&&t(!!i),tr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ii()||Yr()||ni()}};var oo="@firebase/auth",ao="1.7.9";class lo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){or(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const uo=We("authIdTokenMaxAge")||300;let co=null;var ho,fo;ho={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=nr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},hi=ho,fo="Browser",Pn(new wt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;or(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:fo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:si(fo)},u=new li(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Br);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Pn(new wt("auth-internal",(e=>(e=>new lo(e))(ui(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Fn(oo,ao,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(fo)),Fn(oo,ao,"esm2017");const po="@firebase/database",go="1.0.8";let mo="";function vo(e){mo=e}class yo{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),it(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:rt(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class _o{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ot(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const bo=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new yo(t)}}catch(Ap){}return new _o},wo=bo("localStorage"),xo=bo("sessionStorage"),Co=new jt("@firebase/database"),So=function(){let e=1;return function(){return e++}}(),Eo=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,je(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new gt;n.update(t);const r=n.digest();return Ae.encodeByteArray(r)},ko=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=ko.apply(null,n):e+="object"===typeof n?it(n):n,e+=" "}return e};let To=null,Io=!0;const No=function(e,t){je(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Co.logLevel=kt.VERBOSE,To=Co.log.bind(Co),t&&xo.set("logging_enabled",!0)):"function"===typeof e?To=e:(To=null,xo.remove("logging_enabled"))},Po=function(){if(!0===Io&&(Io=!1,null===To&&!0===xo.get("logging_enabled")&&No(!0)),To){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=ko.apply(null,t);To(r)}},jo=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Po(e,...n)}},Oo=function(){const e="FIREBASE INTERNAL ERROR: "+ko(...arguments);Co.error(e)},Ro=function(){const e=`FIREBASE FATAL ERROR: ${ko(...arguments)}`;throw Co.error(e),new Error(e)},Ao=function(){const e="FIREBASE WARNING: "+ko(...arguments);Co.warn(e)},Do=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Lo="[MIN_NAME]",Mo="[MAX_NAME]",Fo=function(e,t){if(e===t)return 0;if(e===Lo||t===Mo)return-1;if(t===Lo||e===Mo)return 1;{const n=Wo(e),r=Wo(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Uo=function(e,t){return e===t?0:e<t?-1:1},zo=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+it(t))},$o=function(e){if("object"!==typeof e||null===e)return it(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=it(t[r]),n+=":",n+=$o(e[t[r]]);return n+="}",n},qo=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Bo(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Ho=function(e){je(!Do(e),"Invalid JSON number");const t=1023;let n,r,i,s,o;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let u="";for(o=0;o<64;o+=8){let e=parseInt(l.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),u+=e}return u.toLowerCase()};const Vo=new RegExp("^-?(0*)\\d{1,10}$"),Wo=function(e){if(Vo.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Qo=function(e){try{e()}catch(Ap){setTimeout((()=>{const t=Ap.stack||"";throw Ao("Exception was thrown by user callback.",t),Ap}),Math.floor(0))}},Ko=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Go{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){Ao(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Yo{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(Po("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ao(e)}}class Xo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Xo.OWNER="owner";const Jo="5",Zo=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ea="ac",ta="websocket",na="long_polling";class ra{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wo.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&wo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function ia(e,t,n){let r;if(je("string"===typeof t,"typeof type must == string"),je("object"===typeof n,"typeof params must == object"),t===ta)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==na)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Bo(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class sa{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;ot(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Ue(this.counters_)}}const oa={},aa={};function la(e){const t=e.toString();return oa[t]||(oa[t]=new sa),oa[t]}class ua{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Qo((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const ca="start";class ha{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jo(e),this.stats_=la(t),this.urlFn=e=>(this.appCheckToken&&(e[ea]=this.appCheckToken),ia(t,na,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ua(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Je()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new da((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s,o,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===ca)n.id=s,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[ca]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Jo,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[ea]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Zo.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ha.forceAllow_=!0}static forceDisallow(){ha.forceDisallow_=!0}static isAvailable(){return!Je()&&(!!ha.forceAllow_||!ha.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=it(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Le(t),r=qo(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Je())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=it(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class da{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Je())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=So(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=da.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(Ap){Po("frame writing exception"),Ap.stack&&Po(Ap.stack),Po(Ap)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Po("No IE domain setting required")}catch(Ap){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){Je()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Po("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(Ap){}}),Math.floor(1))}}let fa=null;"undefined"!==typeof MozWebSocket?fa=MozWebSocket:"undefined"!==typeof WebSocket&&(fa=WebSocket);class pa{constructor(e,t,n,r,i,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jo(this.connId),this.stats_=la(t),this.connURL=pa.connectionURL_(t,s,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s.v=Jo,!Je()&&"undefined"!==typeof location&&location.hostname&&Zo.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[ea]=r),i&&(s.p=i),ia(e,ta,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wo.set("previous_websocket_failure",!0);try{let e;if(Je()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/${Jo}/${mo}/${process.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/Integrated-Business-Software-for-Delta-Apparels",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new fa(this.connURL,[],e)}catch(Ap){this.log_("Error instantiating WebSocket.");const t=Ap.message||Ap.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){pa.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==fa&&!pa.forceDisallow_}static previouslyFailed(){return wo.isInMemoryStorage||!0===wo.get("previous_websocket_failure")}markConnectionHealthy(){wo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=rt(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(je(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=it(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=qo(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(Ap){this.log_("Exception thrown from WebSocket.send():",Ap.message||Ap.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}pa.responsesRequiredToBeHealthy=2,pa.healthyTimeout=3e4;class ga{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ha,pa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=pa&&pa.isAvailable();let n=t&&!pa.previouslyFailed();if(e.webSocketOnly&&(t||Ao("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[pa];else{const e=this.transports_=[];for(const t of ga.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);ga.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ga.globalTransportInitialized_=!1;class ma{constructor(e,t,n,r,i,s,o,a,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jo("c:"+this.id+":"),this.transportManager_=new ga(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ko((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=zo("t",e),n=zo("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=zo("t",e),n=zo("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=zo("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Oo("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Oo("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Jo!==n&&Ao("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Ko((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ko((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class va{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class ya{constructor(e){this.allowedEvents_=e,this.listeners_={},je(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){je(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class _a extends ya{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Ye()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new _a}getInitialEvent(e){return je("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ba{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function wa(){return new ba("")}function xa(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ca(e){return e.pieces_.length-e.pieceNum_}function Sa(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ba(e.pieces_,t)}function Ea(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ka(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Ta(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ba(t,0)}function Ia(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ba)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new ba(n,0)}function Na(e){return e.pieceNum_>=e.pieces_.length}function Pa(e,t){const n=xa(e),r=xa(t);if(null===n)return t;if(n===r)return Pa(Sa(e),Sa(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ja(e,t){const n=ka(e,0),r=ka(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=Fo(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function Oa(e,t){if(Ca(e)!==Ca(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ra(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Ca(e)>Ca(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Aa{constructor(e,t){this.errorPrefix_=t,this.parts_=ka(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=_t(this.parts_[n]);Da(this)}}function Da(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+La(e))}function La(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Ma extends ya{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Ma}getInitialEvent(e){return je("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Fa=1e3;class Ua extends va{constructor(e,t,n,r,i,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=Ua.nextPersistentConnectionId_++,this.log_=jo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fa,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Je())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ma.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&_a.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(it(i)),je(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Qe,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),je(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),je(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const s=i.d,o=i.s;Ua.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,s))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&ot(e,"w")){const n=at(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Ao(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=st(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=st(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),je(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+it(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Oo("Unrecognized action received from server: "+it(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){je(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Fa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Fa),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Ua.nextConnectionId_++,i=this.lastSessionId;let s=!1,o=null;const a=function(){o?o.close():(s=!0,n())},l=function(e){je(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?Po("getToken() completed but was canceled"):(Po("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,o=new ma(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{Ao(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(Oo){this.log_("Failed to get token: "+Oo),s||(this.repoInfo_.nodeAdmin&&Ao(Oo),a())}}}interrupt(e){Po("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Po("Resuming connection for reason: "+e),delete this.interruptReasons_[e],lt(this.interruptReasons_)&&(this.reconnectDelay_=Fa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>$o(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new ba(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Po("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Po("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Je()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+mo.replace(/\./g,"-")]=1,Ye()?e["framework.cordova"]=1:Xe()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=_a.getInstance().currentlyOnline();return lt(this.interruptReasons_)&&e}}Ua.nextPersistentConnectionId_=0,Ua.nextConnectionId_=0;class za{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new za(e,t)}}class $a{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new za(Lo,e),r=new za(Lo,t);return 0!==this.compare(n,r)}minPost(){return za.MIN}}let qa;class Ba extends $a{static get __EMPTY_NODE(){return qa}static set __EMPTY_NODE(e){qa=e}compare(e,t){return Fo(e.name,t.name)}isDefinedOn(e){throw Oe("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return za.MIN}maxPost(){return new za(Mo,qa)}makePost(e,t){return je("string"===typeof e,"KeyIndex indexValue must always be a string."),new za(e,qa)}toString(){return".key"}}const Ha=new Ba;class Va{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Wa{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Wa.RED,this.left=null!=r?r:Qa.EMPTY_NODE,this.right=null!=i?i:Qa.EMPTY_NODE}copy(e,t,n,r,i){return new Wa(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qa.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Qa.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Wa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Wa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Wa.RED=!0,Wa.BLACK=!1;class Qa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qa.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Qa(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Wa.BLACK,null,null))}remove(e){return new Qa(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Wa.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Va(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Va(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Va(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Va(this.root_,null,this.comparator_,!0,e)}}function Ka(e,t){return Fo(e.name,t.name)}function Ga(e,t){return Fo(e,t)}let Ya;Qa.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Wa(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Xa=function(e){return"number"===typeof e?"number:"+Ho(e):"string:"+e},Ja=function(e){if(e.isLeafNode()){const t=e.val();je("string"===typeof t||"number"===typeof t||"object"===typeof t&&ot(t,".sv"),"Priority must be a string or number.")}else je(e===Ya||e.isEmpty(),"priority of unexpected type.");je(e===Ya||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Za,el,tl;class nl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nl.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,je(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ja(this.priorityNode_)}static set __childrenNodeConstructor(e){Za=e}static get __childrenNodeConstructor(){return Za}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new nl(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:nl.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Na(e)?this:".priority"===xa(e)?this.priorityNode_:nl.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:nl.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=xa(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(je(".priority"!==n||1===Ca(e),".priority must be the last token in a path"),this.updateImmediateChild(n,nl.__childrenNodeConstructor.EMPTY_NODE.updateChild(Sa(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Xa(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Ho(this.value_):this.value_,this.lazyHash_=Eo(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===nl.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof nl.__childrenNodeConstructor?-1:(je(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=nl.VALUE_TYPE_ORDER.indexOf(t),i=nl.VALUE_TYPE_ORDER.indexOf(n);return je(r>=0,"Unknown leaf type: "+t),je(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}nl.VALUE_TYPE_ORDER=["object","boolean","number","string"];const rl=new class extends $a{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Fo(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return za.MIN}maxPost(){return new za(Mo,new nl("[PRIORITY-POST]",tl))}makePost(e,t){const n=el(e);return new za(t,new nl("[PRIORITY-POST]",n))}toString(){return".priority"}},il=Math.log(2);class sl{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/il,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ol=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Wa(a,o.node,Wa.BLACK,null,null);{const l=parseInt(s/2,10)+t,u=i(t,l),c=i(l+1,r);return o=e[l],a=n?n(o):o,new Wa(a,o.node,Wa.BLACK,u,c)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const u=i(s+1,a),c=e[s],h=n?n(c):c;l(new Wa(h,c.node,r,null,u))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Wa.BLACK):(a(r,Wa.BLACK),a(r,Wa.RED))}return s}(new sl(e.length));return new Qa(r||t,s)};let al;const ll={};class ul{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return je(ll&&rl,"ChildrenNode.ts has not been loaded"),al=al||new ul({".priority":ll},{".priority":rl}),al}get(e){const t=at(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Qa?t:null}hasIndex(e){return ot(this.indexSet_,e.toString())}addIndex(e,t){je(e!==Ha,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(za.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?ol(n,e.getCompare()):ll;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const u=Object.assign({},this.indexes_);return u[a]=s,new ul(u,l)}addToIndexes(e,t){const n=ut(this.indexes_,((n,r)=>{const i=at(this.indexSet_,r);if(je(i,"Missing index implementation for "+r),n===ll){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(za.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),ol(n,i.getCompare())}return ll}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new za(e.name,r))),i.insert(e,e.node)}}));return new ul(n,this.indexSet_)}removeFromIndexes(e,t){const n=ut(this.indexes_,(n=>{if(n===ll)return n;{const r=t.get(e.name);return r?n.remove(new za(e.name,r)):n}}));return new ul(n,this.indexSet_)}}let cl;class hl{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ja(this.priorityNode_),this.children_.isEmpty()&&je(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return cl||(cl=new hl(new Qa(Ga),null,ul.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cl}updatePriority(e){return this.children_.isEmpty()?this:new hl(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?cl:t}}getChild(e){const t=xa(e);return null===t?this:this.getImmediateChild(t).getChild(Sa(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(je(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new za(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?cl:this.priorityNode_;return new hl(r,s,i)}}updateChild(e,t){const n=xa(e);if(null===n)return t;{je(".priority"!==xa(e)||1===Ca(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Sa(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(rl,((s,o)=>{t[s]=o.val(e),n++,i&&hl.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Xa(this.getPriority().val())+":"),this.forEachChild(rl,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Eo(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new za(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new za(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new za(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,za.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,za.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===dl?-1:0}withIndex(e){if(e===Ha||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new hl(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ha||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(rl),n=t.getIterator(rl);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Ha?null:this.indexMap_.get(e.toString())}}hl.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const dl=new class extends hl{constructor(){super(new Qa(Ga),hl.EMPTY_NODE,ul.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return hl.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(za,{MIN:{value:new za(Lo,hl.EMPTY_NODE)},MAX:{value:new za(Mo,dl)}}),Ba.__EMPTY_NODE=hl.EMPTY_NODE,nl.__childrenNodeConstructor=hl,Ya=dl,function(e){tl=e}(dl);function fl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return hl.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),je(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new nl(e,fl(t))}if(e instanceof Array){let n=hl.EMPTY_NODE;return Bo(e,((t,r)=>{if(ot(e,t)&&"."!==t.substring(0,1)){const e=fl(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(fl(t))}{const n=[];let r=!1;if(Bo(e,((e,t)=>{if("."!==e.substring(0,1)){const i=fl(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new za(e,i)))}})),0===n.length)return hl.EMPTY_NODE;const i=ol(n,Ka,(e=>e.name),Ga);if(r){const e=ol(n,rl.getCompare());return new hl(i,fl(t),new ul({".priority":e},{".priority":rl}))}return new hl(i,fl(t),ul.Default)}}!function(e){el=e}(fl);class pl extends $a{constructor(e){super(),this.indexPath_=e,je(!Na(e)&&".priority"!==xa(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Fo(e.name,t.name):i}makePost(e,t){const n=fl(e),r=hl.EMPTY_NODE.updateChild(this.indexPath_,n);return new za(t,r)}maxPost(){const e=hl.EMPTY_NODE.updateChild(this.indexPath_,dl);return new za(Mo,e)}toString(){return ka(this.indexPath_,0).join("/")}}const gl=new class extends $a{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Fo(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return za.MIN}maxPost(){return za.MAX}makePost(e,t){const n=fl(e);return new za(t,n)}toString(){return".value"}};function ml(e){return{type:"value",snapshotNode:e}}function vl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function yl(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function _l(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class bl{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){je(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(yl(t,o)):je(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(vl(t,n)):s.trackChildChange(_l(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(rl,((e,r)=>{t.hasChild(e)||n.trackChildChange(yl(e,r))})),t.isLeafNode()||t.forEachChild(rl,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(_l(t,r,i))}else n.trackChildChange(vl(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?hl.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class wl{constructor(e){this.indexedFilter_=new bl(e.getIndex()),this.index_=e.getIndex(),this.startPost_=wl.getStartPost_(e),this.endPost_=wl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,s){return this.matches(new za(t,n))||(n=hl.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=hl.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(hl.EMPTY_NODE);const i=this;return t.forEachChild(rl,((e,t)=>{i.matches(new za(e,t))||(r=r.updateImmediateChild(e,hl.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class xl{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new wl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,s){return this.rangedFilter_.matches(new za(t,n))||(n=hl.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=hl.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=hl.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(hl.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,hl.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const o=e;je(o.numChildren()===this.limit_,"");const a=new za(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),u=this.rangedFilter_.matches(a);if(o.hasChild(t)){const e=o.getImmediateChild(t);let c=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=c&&(c.name===t||o.hasChild(c.name));)c=r.getChildAfterChild(this.index_,c,this.reverse_);const h=null==c?1:s(c,a);if(u&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(_l(t,n,e)),o.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(yl(t,e));const n=o.updateImmediateChild(t,hl.EMPTY_NODE);return null!=c&&this.rangedFilter_.matches(c)?(null!=i&&i.trackChildChange(vl(c.name,c.node)),n.updateImmediateChild(c.name,c.node)):n}}return n.isEmpty()?e:u&&s(l,a)>=0?(null!=i&&(i.trackChildChange(yl(l.name,l.node)),i.trackChildChange(vl(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,hl.EMPTY_NODE)):e}}class Cl{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rl}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return je(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return je(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Lo}hasEnd(){return this.endSet_}getIndexEndValue(){return je(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return je(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Mo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return je(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rl}copy(){const e=new Cl;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Sl(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function El(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function kl(e,t){const n=e.copy();return n.index_=t,n}function Tl(e){const t={};if(e.isDefault())return t;let n;if(e.index_===rl?n="$priority":e.index_===gl?n="$value":e.index_===Ha?n="$key":(je(e.index_ instanceof pl,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=it(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=it(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+it(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=it(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+it(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Il(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==rl&&(t.i=e.index_.toString()),t}class Nl extends va{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=jo("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(je(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=Nl.getListenId_(e,n),o={};this.listens_[s]=o;const a=Tl(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),at(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=Nl.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Tl(e._queryParams),n=e._path.toString(),r=new Qe;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,s]=r;i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+dt(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=rt(a.responseText)}catch(Ap){Ao("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&Ao("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class Pl{constructor(){this.rootNode_=hl.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function jl(){return{value:null,children:new Map}}function Ol(e,t,n){if(Na(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=xa(t);e.children.has(r)||e.children.set(r,jl());Ol(e.children.get(r),t=Sa(t),n)}}function Rl(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{Rl(r,new ba(t.toString()+"/"+e),n)}))}class Al{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Bo(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class Dl{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Al(e);const n=1e4+2e4*Math.random();Ko(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Bo(e,((e,r)=>{r>0&&ot(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Ko(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ll;function Ml(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ll||(Ll={}));class Fl{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Ll.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Na(this.path)){if(null!=this.affectedTree.value)return je(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ba(e));return new Fl(wa(),t,this.revert)}}return je(xa(this.path)===e,"operationForChild called for unrelated child."),new Fl(Sa(this.path),this.affectedTree,this.revert)}}class Ul{constructor(e,t){this.source=e,this.path=t,this.type=Ll.LISTEN_COMPLETE}operationForChild(e){return Na(this.path)?new Ul(this.source,wa()):new Ul(this.source,Sa(this.path))}}class zl{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Ll.OVERWRITE}operationForChild(e){return Na(this.path)?new zl(this.source,wa(),this.snap.getImmediateChild(e)):new zl(this.source,Sa(this.path),this.snap)}}class $l{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Ll.MERGE}operationForChild(e){if(Na(this.path)){const t=this.children.subtree(new ba(e));return t.isEmpty()?null:t.value?new zl(this.source,wa(),t.value):new $l(this.source,wa(),t)}return je(xa(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new $l(this.source,Sa(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ql{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Na(e))return this.isFullyInitialized()&&!this.filtered_;const t=xa(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Bl{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Hl(e,t,n,r,i,s){const o=r.filter((e=>e.type===n));o.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Oe("Should only compare child_ events.");const r=new za(t.childName,t.snapshotNode),i=new za(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),o.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Vl(e,t){return{eventCache:e,serverCache:t}}function Wl(e,t,n,r){return Vl(new ql(t,n,r),e.serverCache)}function Ql(e,t,n,r){return Vl(e.eventCache,new ql(t,n,r))}function Kl(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Gl(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Yl;class Xl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Yl||(Yl=new Qa(Uo)),Yl);this.value=e,this.children=t}static fromObject(e){let t=new Xl(null);return Bo(e,((e,n)=>{t=t.set(new ba(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:wa(),value:this.value};if(Na(e))return null;{const n=xa(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Sa(e),t);if(null!=i){return{path:Ia(new ba(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Na(e))return this;{const t=xa(e),n=this.children.get(t);return null!==n?n.subtree(Sa(e)):new Xl(null)}}set(e,t){if(Na(e))return new Xl(t,this.children);{const n=xa(e),r=(this.children.get(n)||new Xl(null)).set(Sa(e),t),i=this.children.insert(n,r);return new Xl(this.value,i)}}remove(e){if(Na(e))return this.children.isEmpty()?new Xl(null):new Xl(null,this.children);{const t=xa(e),n=this.children.get(t);if(n){const r=n.remove(Sa(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Xl(null):new Xl(this.value,i)}return this}}get(e){if(Na(e))return this.value;{const t=xa(e),n=this.children.get(t);return n?n.get(Sa(e)):null}}setTree(e,t){if(Na(e))return t;{const n=xa(e),r=(this.children.get(n)||new Xl(null)).setTree(Sa(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Xl(this.value,i)}}fold(e){return this.fold_(wa(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(Ia(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,wa(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Na(e))return null;{const r=xa(e),i=this.children.get(r);return i?i.findOnPath_(Sa(e),Ia(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,wa(),t)}foreachOnPath_(e,t,n){if(Na(e))return this;{this.value&&n(t,this.value);const r=xa(e),i=this.children.get(r);return i?i.foreachOnPath_(Sa(e),Ia(t,r),n):new Xl(null)}}foreach(e){this.foreach_(wa(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(Ia(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class Jl{constructor(e){this.writeTree_=e}static empty(){return new Jl(new Xl(null))}}function Zl(e,t,n){if(Na(t))return new Jl(new Xl(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=Pa(i,t);return s=s.updateChild(o,n),new Jl(e.writeTree_.set(i,s))}{const r=new Xl(n),i=e.writeTree_.setTree(t,r);return new Jl(i)}}}function eu(e,t,n){let r=e;return Bo(n,((e,n)=>{r=Zl(r,Ia(t,e),n)})),r}function tu(e,t){if(Na(t))return Jl.empty();{const n=e.writeTree_.setTree(t,new Xl(null));return new Jl(n)}}function nu(e,t){return null!=ru(e,t)}function ru(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Pa(n.path,t)):null}function iu(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(rl,((e,n)=>{t.push(new za(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new za(e,n.value))})),t}function su(e,t){if(Na(t))return e;{const n=ru(e,t);return new Jl(null!=n?new Xl(n):e.writeTree_.subtree(t))}}function ou(e){return e.writeTree_.isEmpty()}function au(e,t){return lu(wa(),e.writeTree_,t)}function lu(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(je(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=lu(Ia(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ia(e,".priority"),r)),n}}function uu(e,t){return xu(t,e)}function cu(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));je(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&hu(t,r.path)?i=!1:Ra(r.path,t.path)&&(s=!0)),o--}if(i){if(s)return function(e){e.visibleWrites=fu(e.allWrites,du,wa()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=tu(e.visibleWrites,r.path);else{Bo(r.children,(t=>{e.visibleWrites=tu(e.visibleWrites,Ia(r.path,t))}))}return!0}return!1}function hu(e,t){if(e.snap)return Ra(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ra(Ia(e.path,n),t))return!0;return!1}function du(e){return e.visible}function fu(e,t,n){let r=Jl.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)Ra(n,e)?(t=Pa(n,e),r=Zl(r,t,s.snap)):Ra(e,n)&&(t=Pa(e,n),r=Zl(r,wa(),s.snap.getChild(t)));else{if(!s.children)throw Oe("WriteRecord should have .snap or .children");if(Ra(n,e))t=Pa(n,e),r=eu(r,t,s.children);else if(Ra(e,n))if(t=Pa(e,n),Na(t))r=eu(r,wa(),s.children);else{const e=at(s.children,xa(t));if(e){const n=e.getChild(Sa(t));r=Zl(r,wa(),n)}}}}}return r}function pu(e,t,n,r,i){if(r||i){const s=su(e.visibleWrites,t);if(!i&&ou(s))return n;if(i||null!=n||nu(s,wa())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ra(e.path,t)||Ra(t,e.path))};return au(fu(e.allWrites,s,t),n||hl.EMPTY_NODE)}return null}{const r=ru(e.visibleWrites,t);if(null!=r)return r;{const r=su(e.visibleWrites,t);if(ou(r))return n;if(null!=n||nu(r,wa())){return au(r,n||hl.EMPTY_NODE)}return null}}}function gu(e,t,n,r){return pu(e.writeTree,e.treePath,t,n,r)}function mu(e,t){return function(e,t,n){let r=hl.EMPTY_NODE;const i=ru(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(rl,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=su(e.visibleWrites,t);return n.forEachChild(rl,((e,t)=>{const n=au(su(i,new ba(e)),t);r=r.updateImmediateChild(e,n)})),iu(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return iu(su(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function vu(e,t,n,r){return function(e,t,n,r,i){je(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ia(t,n);if(nu(e.visibleWrites,s))return null;{const t=su(e.visibleWrites,s);return ou(t)?i.getChild(n):au(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function yu(e,t){return function(e,t){return ru(e.visibleWrites,t)}(e.writeTree,Ia(e.treePath,t))}function _u(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const l=su(e.visibleWrites,t),u=ru(l,wa());if(null!=u)a=u;else{if(null==n)return[];a=au(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}function bu(e,t,n){return function(e,t,n,r){const i=Ia(t,n),s=ru(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n))return au(su(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function wu(e,t){return xu(Ia(e.treePath,t),e.writeTree)}function xu(e,t){return{treePath:e,writeTree:t}}class Cu{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;je("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),je(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,_l(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,yl(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,vl(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Oe("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,_l(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Su=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Eu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new ql(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bu(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Gl(this.viewCache_),i=_u(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function ku(e,t,n,r,i){const s=new Cu;let o,a;if(n.type===Ll.OVERWRITE){const l=n;l.source.fromUser?o=Nu(e,t,l.path,l.snap,r,i,s):(je(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Na(l.path),o=Iu(e,t,l.path,l.snap,r,i,a,s))}else if(n.type===Ll.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach(((r,l)=>{const u=Ia(n,r);Pu(t,xa(u))&&(a=Nu(e,a,u,l,i,s,o))})),r.foreach(((r,l)=>{const u=Ia(n,r);Pu(t,xa(u))||(a=Nu(e,a,u,l,i,s,o))})),a}(e,t,l.path,l.children,r,i,s):(je(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=Ou(e,t,l.path,l.children,r,i,a,s))}else if(n.type===Ll.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=yu(r,n))return t;{const a=new Eu(r,t,i),l=t.eventCache.getNode();let u;if(Na(n)||".priority"===xa(n)){let n;if(t.serverCache.isFullyInitialized())n=gu(r,Gl(t));else{const e=t.serverCache.getNode();je(e instanceof hl,"serverChildren would be complete if leaf node"),n=mu(r,e)}u=e.filter.updateFullNode(l,n,s)}else{const i=xa(n);let c=bu(r,i,t.serverCache);null==c&&t.serverCache.isCompleteForChild(i)&&(c=l.getImmediateChild(i)),u=null!=c?e.filter.updateChild(l,i,c,Sa(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,hl.EMPTY_NODE,Sa(n),a,s):l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=gu(r,Gl(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=yu(r,wa()),Wl(t,u,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=yu(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Na(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Iu(e,t,n,l.getNode().getChild(n),i,s,a,o);if(Na(n)){let r=new Xl(null);return l.getNode().forEachChild(Ha,((e,t)=>{r=r.set(new ba(e),t)})),Ou(e,t,n,r,i,s,a,o)}return t}{let u=new Xl(null);return r.foreach(((e,t)=>{const r=Ia(n,e);l.isCompleteForPath(r)&&(u=u.set(e,l.getNode().getChild(r)))})),Ou(e,t,n,u,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==Ll.LISTEN_COMPLETE)throw Oe("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache,o=Ql(t,s.getNode(),s.isFullyInitialized()||Na(n),s.isFiltered());return Tu(e,o,n,r,Su,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Kl(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(ml(Kl(t)))}}(t,o,l),{viewCache:o,changes:l}}function Tu(e,t,n,r,i,s){const o=t.eventCache;if(null!=yu(r,n))return t;{let a,l;if(Na(n))if(je(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Gl(t),i=mu(r,n instanceof hl?n:hl.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=gu(r,Gl(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const u=xa(n);if(".priority"===u){je(1===Ca(n),"Can't have a priority with additional path components");const i=o.getNode();l=t.serverCache.getNode();const s=vu(r,n,i,l);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const c=Sa(n);let h;if(o.isCompleteForChild(u)){l=t.serverCache.getNode();const e=vu(r,n,o.getNode(),l);h=null!=e?o.getNode().getImmediateChild(u).updateChild(c,e):o.getNode().getImmediateChild(u)}else h=bu(r,u,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),u,h,c,i,s):o.getNode()}}return Wl(t,a,o.isFullyInitialized()||Na(n),e.filter.filtersNodes())}}function Iu(e,t,n,r,i,s,o,a){const l=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(Na(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),e,null)}else{const e=xa(n);if(!l.isCompleteForPath(n)&&Ca(n)>1)return t;const i=Sa(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);u=".priority"===e?c.updatePriority(l.getNode(),s):c.updateChild(l.getNode(),e,s,i,Su,null)}const h=Ql(t,u,l.isFullyInitialized()||Na(n),c.filtersNodes());return Tu(e,h,n,i,new Eu(i,h,s),a)}function Nu(e,t,n,r,i,s,o){const a=t.eventCache;let l,u;const c=new Eu(i,t,s);if(Na(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=Wl(t,u,!0,e.filter.filtersNodes());else{const i=xa(n);if(".priority"===i)u=e.filter.updatePriority(t.eventCache.getNode(),r),l=Wl(t,u,a.isFullyInitialized(),a.isFiltered());else{const s=Sa(n),u=a.getNode().getImmediateChild(i);let h;if(Na(s))h=r;else{const e=c.getCompleteChild(i);h=null!=e?".priority"===Ea(s)&&e.getChild(Ta(s)).isEmpty()?e:e.updateChild(s,r):hl.EMPTY_NODE}if(u.equals(h))l=t;else{l=Wl(t,e.filter.updateChild(a.getNode(),i,h,s,c,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Pu(e,t){return e.eventCache.isCompleteForChild(t)}function ju(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Ou(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,u=t;l=Na(n)?r:new Xl(null).setTree(n,r);const c=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(c.hasChild(n)){const l=ju(0,t.serverCache.getNode().getImmediateChild(n),r);u=Iu(e,u,new ba(n),l,i,s,o,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!l){const l=ju(0,t.serverCache.getNode().getImmediateChild(n),r);u=Iu(e,u,new ba(n),l,i,s,o,a)}})),u}class Ru{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new bl(n.getIndex()),i=(s=n).loadsAllData()?new bl(s.getIndex()):s.hasLimit()?new xl(s):new wl(s);var s;this.processor_=function(e){return{filter:e}}(i);const o=t.serverCache,a=t.eventCache,l=r.updateFullNode(hl.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(hl.EMPTY_NODE,a.getNode(),null),c=new ql(l,o.isFullyInitialized(),r.filtersNodes()),h=new ql(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Vl(h,c),this.eventGenerator_=new Bl(this.query_)}get query(){return this.query_}}function Au(e,t){const n=Gl(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Na(t)&&!n.getImmediateChild(xa(t)).isEmpty())?n.getChild(t):null}function Du(e){return 0===e.eventRegistrations_.length}function Lu(e,t,n){const r=[];if(n){je(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Mu(e,t,n,r){t.type===Ll.MERGE&&null!==t.source.queryId&&(je(Gl(e.viewCache_),"We should always have a full cache before handling merges"),je(Kl(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=ku(e.processor_,i,t,n,r);var o,a;return o=e.processor_,a=s.viewCache,je(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),je(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),je(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Fu(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Fu(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Hl(e,i,"child_removed",t,r,n),Hl(e,i,"child_added",t,r,n),Hl(e,i,"child_moved",s,r,n),Hl(e,i,"child_changed",t,r,n),Hl(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Uu,zu;class $u{constructor(){this.views=new Map}}function qu(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return je(null!=s,"SyncTree gave us an op for an invalid query."),Mu(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(Mu(s,t,n,r));return i}}function Bu(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let e=gu(n,i?r:null),s=!1;e?s=!0:r instanceof hl?(e=mu(n,r),s=!1):(e=hl.EMPTY_NODE,s=!1);const o=Vl(new ql(e,s,!1),new ql(r,i,!1));return new Ru(t,o)}return o}function Hu(e,t,n,r,i,s){const o=Bu(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(rl,((e,t)=>{r.push(vl(e,t))}));return n.isFullyInitialized()&&r.push(ml(n.getNode())),Fu(e,r,n.getNode(),t)}(o,n)}function Vu(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=Yu(e);if("default"===i)for(const[l,u]of e.views.entries())o=o.concat(Lu(u,n,r)),Du(u)&&(e.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const t=e.views.get(i);t&&(o=o.concat(Lu(t,n,r)),Du(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!Yu(e)&&s.push(new(je(Uu,"Reference.ts has not been loaded"),Uu)(t._repo,t._path)),{removed:s,events:o}}function Wu(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Qu(e,t){let n=null;for(const r of e.views.values())n=n||Au(r,t);return n}function Ku(e,t){if(t._queryParams.loadsAllData())return Xu(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Gu(e,t){return null!=Ku(e,t)}function Yu(e){return null!=Xu(e)}function Xu(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Ju=1;class Zu{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Xl(null),this.pendingWriteTree_={visibleWrites:Jl.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ec(e,t,n,r,i){return function(e,t,n,r,i){je(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Zl(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?uc(e,new zl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function tc(e,t,n,r){!function(e,t,n,r){je(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=eu(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=Xl.fromObject(n);return uc(e,new $l({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function nc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(cu(e.pendingWriteTree_,t)){let t=new Xl(null);return null!=r.snap?t=t.set(wa(),!0):Bo(r.children,(e=>{t=t.set(new ba(e),!0)})),uc(e,new Fl(r.path,t,n))}return[]}function rc(e,t,n){return uc(e,new zl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function ic(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&("default"===t._queryIdentifier||Gu(o,t))){const l=Vu(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const n=-1!==u.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(s,((e,t)=>Yu(t)));if(n&&!i){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&Yu(t)){return[Xu(t)]}{let e=[];return t&&(e=Wu(t)),Bo(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,s=dc(e,r);e.listenProvider_.startListening(yc(i),fc(e,i),s.hashFn,s.onComplete)}}}if(!i&&u.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(yc(t),n)}else u.forEach((t=>{const n=e.queryToTagMap.get(pc(t));e.listenProvider_.stopListening(yc(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=pc(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,u)}return a}function sc(e,t,n,r){const i=gc(e,r);if(null!=i){const r=mc(i),s=r.path,o=r.queryId,a=Pa(s,t);return vc(e,s,new zl(Ml(o),a,n))}return[]}function oc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=Pa(e,i);s=s||Qu(t,n),o=o||Yu(t)}));let a,l=e.syncPointTree_.get(i);if(l?(o=o||Yu(l),s=s||Qu(l,wa())):(l=new $u,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=s)a=!0;else{a=!1,s=hl.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=Qu(t,wa());n&&(s=s.updateImmediateChild(e,n))}))}const u=Gu(l,t);if(!u&&!t._queryParams.loadsAllData()){const n=pc(t);je(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Ju++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let c=Hu(l,t,n,uu(e.pendingWriteTree_,i),s,a);if(!u&&!o&&!r){const n=Ku(l,t);c=c.concat(function(e,t,n){const r=t._path,i=fc(e,t),s=dc(e,n),o=e.listenProvider_.startListening(yc(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)je(!Yu(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!Na(e)&&t&&Yu(t))return[Xu(t).query];{let e=[];return t&&(e=e.concat(Wu(t).map((e=>e.query)))),Bo(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(yc(r),fc(e,r))}}return o}(e,t,n))}return c}function ac(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=Qu(n,Pa(e,t));if(r)return r}));return pu(r,t,i,n,!0)}function lc(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=Pa(e,n);r=r||Qu(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||Qu(i,wa()):(i=new $u,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=null!=r,o=s?new ql(r,!0,!1):null;return function(e){return Kl(e.viewCache_)}(Bu(i,t,uu(e.pendingWriteTree_,t._path),s?o.getNode():hl.EMPTY_NODE,s))}function uc(e,t){return cc(t,e.syncPointTree_,null,uu(e.pendingWriteTree_,wa()))}function cc(e,t,n,r){if(Na(e.path))return hc(e,t,n,r);{const i=t.get(wa());null==n&&null!=i&&(n=Qu(i,wa()));let s=[];const o=xa(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=wu(r,o);s=s.concat(cc(a,l,e,t))}return i&&(s=s.concat(qu(i,e,r,n))),s}}function hc(e,t,n,r){const i=t.get(wa());null==n&&null!=i&&(n=Qu(i,wa()));let s=[];return t.children.inorderTraversal(((t,i)=>{const o=n?n.getImmediateChild(t):null,a=wu(r,t),l=e.operationForChild(t);l&&(s=s.concat(hc(l,i,o,a)))})),i&&(s=s.concat(qu(i,e,r,n))),s}function dc(e,t){const n=t.query,r=fc(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||hl.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=gc(e,n);if(r){const n=mc(r),i=n.path,s=n.queryId,o=Pa(i,t);return vc(e,i,new Ul(Ml(s),o))}return[]}(e,n._path,r):function(e,t){return uc(e,new Ul({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return ic(e,n,null,r)}}}}function fc(e,t){const n=pc(t);return e.queryToTagMap.get(n)}function pc(e){return e._path.toString()+"$"+e._queryIdentifier}function gc(e,t){return e.tagToQueryMap.get(t)}function mc(e){const t=e.indexOf("$");return je(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ba(e.substr(0,t))}}function vc(e,t,n){const r=e.syncPointTree_.get(t);je(r,"Missing sync point for query tag that we're tracking");return qu(r,n,uu(e.pendingWriteTree_,t),null)}function yc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(je(zu,"Reference.ts has not been loaded"),zu)(e._repo,e._path):e}class _c{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new _c(t)}node(){return this.node_}}class bc{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ia(this.path_,e);return new bc(this.syncTree_,t)}node(){return ac(this.syncTree_,this.path_)}}const wc=function(e,t,n){return e&&"object"===typeof e?(je(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?xc(e[".sv"],t,n):"object"===typeof e[".sv"]?Cc(e[".sv"],t):void je(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},xc=function(e,t,n){if("timestamp"===e)return n.timestamp;je(!1,"Unexpected server value: "+e)},Cc=function(e,t,n){e.hasOwnProperty("increment")||je(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&je(!1,"Unexpected increment value: "+r);const i=t.node();if(je(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!==typeof s?r:s+r},Sc=function(e,t,n,r){return kc(t,new bc(n,e),r)},Ec=function(e,t,n){return kc(e,new _c(t),n)};function kc(e,t,n){const r=e.getPriority().val(),i=wc(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=wc(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new nl(s,fl(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new nl(i))),r.forEachChild(rl,((e,r)=>{const i=kc(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))})),s}}class Tc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Ic(e,t){let n=t instanceof ba?t:new ba(t),r=e,i=xa(n);for(;null!==i;){const e=at(r.node.children,i)||{children:{},childCount:0};r=new Tc(i,r,e),n=Sa(n),i=xa(n)}return r}function Nc(e){return e.node.value}function Pc(e,t){e.node.value=t,Dc(e)}function jc(e){return e.node.childCount>0}function Oc(e,t){Bo(e.node.children,((n,r)=>{t(new Tc(n,e,r))}))}function Rc(e,t,n,r){n&&!r&&t(e),Oc(e,(e=>{Rc(e,t,!0,r)})),n&&r&&t(e)}function Ac(e){return new ba(null===e.parent?e.name:Ac(e.parent)+"/"+e.name)}function Dc(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Nc(e)&&!jc(e)}(n),i=ot(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Dc(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Dc(e))}(e.parent,e.name,e)}const Lc=/[\[\].#$\/\u0000-\u001F\u007F]/,Mc=/[\[\].#$\u0000-\u001F\u007F]/,Fc=10485760,Uc=function(e){return"string"===typeof e&&0!==e.length&&!Lc.test(e)},zc=function(e){return"string"===typeof e&&0!==e.length&&!Mc.test(e)},$c=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Do(e)||e&&"object"===typeof e&&ot(e,".sv")},qc=function(e,t,n,r){r&&void 0===t||Bc(yt(e,"value"),t,n)},Bc=function(e,t,n){const r=n instanceof ba?new Aa(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+La(r));if("function"===typeof t)throw new Error(e+"contains a function "+La(r)+" with contents = "+t.toString());if(Do(t))throw new Error(e+"contains "+t.toString()+" "+La(r));if("string"===typeof t&&t.length>Fc/3&&_t(t)>Fc)throw new Error(e+"contains a string greater than "+Fc+" utf8 bytes "+La(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(Bo(t,((t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Uc(t)))throw new Error(e+" contains an invalid key ("+t+") "+La(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=_t(t),Da(e)}(r,t),Bc(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=_t(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+La(r)+" in addition to actual children.")}},Hc=function(e,t,n,r){if(r&&void 0===t)return;const i=yt(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];Bo(t,((e,t)=>{const r=new ba(e);if(Bc(i,t,Ia(n,r)),".priority"===Ea(r)&&!$c(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)})),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=ka(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!Uc(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(ja);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&Ra(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},Vc=function(e,t,n,r){if((!r||void 0!==n)&&!Uc(n))throw new Error(yt(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Wc=function(e,t,n,r){if((!r||void 0!==n)&&!zc(n))throw new Error(yt(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Qc=function(e,t){if(".info"===xa(t))throw new Error(e+" failed = Can't modify data under /.info/")},Kc=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Uc(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),zc(e)}(n))throw new Error(yt(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Gc{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yc(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||Oa(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function Xc(e,t,n){Yc(e,n),Zc(e,(e=>Oa(e,t)))}function Jc(e,t,n){Yc(e,n),Zc(e,(e=>Ra(e,t)||Ra(t,e)))}function Zc(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(eh(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function eh(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();To&&Po("event: "+n.toString()),Qo(r)}}}const th="repo_interrupt";class nh{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Gc,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jl(),this.transactionQueueTree_=new Tc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rh(e,t,n){if(e.stats_=la(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Nl(e.repoInfo_,((t,n,r,i)=>{oh(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>ah(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{it(n)}catch(Ap){throw new Error("Invalid authOverride provided: "+Ap)}}e.persistentConnection_=new Ua(e.repoInfo_,t,((t,n,r,i)=>{oh(e,t,n,r,i)}),(t=>{ah(e,t)}),(t=>{!function(e,t){Bo(t,((t,n)=>{lh(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return aa[n]||(aa[n]=t()),aa[n]}(e.repoInfo_,(()=>new Dl(e.stats_,e.server_))),e.infoData_=new Pl,e.infoSyncTree_=new Zu({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=rc(e.infoSyncTree_,t._path,o),setTimeout((()=>{i("ok")}),0)),s},stopListening:()=>{}}),lh(e,"connected",!1),e.serverSyncTree_=new Zu({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const s=i(n,r);Jc(e.eventQueue_,t._path,s)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function ih(e){const t=e.infoData_.getNode(new ba(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function sh(e){return(t=(t={timestamp:ih(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function oh(e,t,n,r,i){e.dataUpdateCount++;const s=new ba(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=ut(n,(e=>fl(e)));o=function(e,t,n,r){const i=gc(e,r);if(i){const r=mc(i),s=r.path,o=r.queryId,a=Pa(s,t),l=Xl.fromObject(n);return vc(e,s,new $l(Ml(o),a,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=fl(n);o=sc(e.serverSyncTree_,s,t,i)}else if(r){const t=ut(n,(e=>fl(e)));o=function(e,t,n){const r=Xl.fromObject(n);return uc(e,new $l({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=fl(n);o=rc(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=vh(e,s)),Jc(e.eventQueue_,a,o)}function ah(e,t){lh(e,"connected",t),!1===t&&function(e){fh(e,"onDisconnectEvents");const t=sh(e),n=jl();Rl(e.onDisconnect_,wa(),((r,i)=>{const s=Sc(r,i,e.serverSyncTree_,t);Ol(n,r,s)}));let r=[];Rl(n,wa(),((t,n)=>{r=r.concat(rc(e.serverSyncTree_,t,n));const i=xh(e,t);vh(e,i)})),e.onDisconnect_=jl(),Jc(e.eventQueue_,wa(),r)}(e)}function lh(e,t,n){const r=new ba("/.info/"+t),i=fl(n);e.infoData_.updateSnapshot(r,i);const s=rc(e.infoSyncTree_,r,i);Jc(e.eventQueue_,r,s)}function uh(e){return e.nextWriteId_++}function ch(e,t,n,r,i){fh(e,"set",{path:t.toString(),value:n,priority:r});const s=sh(e),o=fl(n,r),a=ac(e.serverSyncTree_,t),l=Ec(o,a,s),u=uh(e),c=ec(e.serverSyncTree_,t,l,u,!0);Yc(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),((n,r)=>{const s="ok"===n;s||Ao("set at "+t+" failed: "+n);const o=nc(e.serverSyncTree_,u,!s);Jc(e.eventQueue_,t,o),ph(e,i,n,r)}));const h=xh(e,t);vh(e,h),Jc(e.eventQueue_,h,[])}function hh(e,t,n){let r;r=".info"===xa(t._path)?ic(e.infoSyncTree_,t,n):ic(e.serverSyncTree_,t,n),Xc(e.eventQueue_,t._path,r)}function dh(e){e.persistentConnection_&&e.persistentConnection_.interrupt(th)}function fh(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Po(t,...r)}function ph(e,t,n,r){t&&Qo((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}}))}function gh(e,t,n){return ac(e.serverSyncTree_,t,n)||hl.EMPTY_NODE}function mh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||wh(e,t),Nc(t)){const n=_h(e,t);je(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=gh(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const e=n[u];je(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Pa(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{fh(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(nc(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();wh(e,Ic(e.transactionQueueTree_,t)),mh(e,e.transactionQueueTree_),Jc(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Qo(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Ao("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}vh(e,t)}}),o)}(e,Ac(t),n)}else jc(t)&&Oc(t,(t=>{mh(e,t)}))}function vh(e,t){const n=yh(e,t),r=Ac(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter((e=>0===e.status)),o=s.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const s=t[l],u=Pa(n,s.path);let c,h=!1;if(je(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)h=!0,c=s.abortReason,i=i.concat(nc(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)h=!0,c="maxretry",i=i.concat(nc(e.serverSyncTree_,s.currentWriteId,!0));else{const n=gh(e,s.path,o);s.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){Bc("transaction failed: Data returned ",r,s.path);let t=fl(r);"object"===typeof r&&null!=r&&ot(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=s.currentWriteId,l=sh(e),u=Ec(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=u,s.currentWriteId=uh(e),o.splice(o.indexOf(a),1),i=i.concat(ec(e.serverSyncTree_,s.path,u,s.currentWriteId,s.applyLocally)),i=i.concat(nc(e.serverSyncTree_,a,!0))}else h=!0,c="nodata",i=i.concat(nc(e.serverSyncTree_,s.currentWriteId,!0))}Jc(e.eventQueue_,n,i),i=[],h&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===c?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(c),!1,null)))))}var a;wh(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Qo(r[l]);mh(e,e.transactionQueueTree_)}(e,_h(e,n),r),r}function yh(e,t){let n,r=e.transactionQueueTree_;for(n=xa(t);null!==n&&void 0===Nc(r);)r=Ic(r,n),n=xa(t=Sa(t));return r}function _h(e,t){const n=[];return bh(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function bh(e,t,n){const r=Nc(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Oc(t,(t=>{bh(e,t,n)}))}function wh(e,t){const n=Nc(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Pc(t,n.length>0?n:void 0)}Oc(t,(t=>{wh(e,t)}))}function xh(e,t){const n=Ac(yh(e,t)),r=Ic(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{Ch(e,t)})),Ch(e,r),Rc(r,(t=>{Ch(e,t)})),n}function Ch(e,t){const n=Nc(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(je(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(je(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(nc(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Pc(t,void 0):n.length=s+1,Jc(e.eventQueue_,Ac(t),i);for(let e=0;e<r.length;e++)Qo(r[e])}}const Sh=function(e,t){const n=Eh(e),r=n.namespace;"firebase.com"===n.domain&&Ro(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Ro("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ao("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ra(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ba(n.pathString)}},Eh=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"===typeof e){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");-1===c&&(c=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(Ap){}t+="/"+e}return t}(e.substring(c,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ao(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,h)));u=t.indexOf(":"),u>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(u+1),10)):u=t.length;const f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},kh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Th=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=kh.charAt(n%64),n=Math.floor(n/64);je(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=kh.charAt(t[i]);return je(20===o.length,"nextPushId: Length should be 20."),o}}();class Ih{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+it(this.snapshot.exportVal())}}class Nh{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ph{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return je(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class jh{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Na(this._path)?null:Ea(this._path)}get ref(){return new Dh(this._repo,this._path)}get _queryIdentifier(){const e=Il(this._queryParams),t=$o(e);return"{}"===t?"default":t}get _queryObject(){return Il(this._queryParams)}isEqual(e){if(!((e=bt(e))instanceof jh))return!1;const t=this._repo===e._repo,n=Oa(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function Oh(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Rh(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ha){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Lo)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Mo)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===rl){if(null!=t&&!$c(t)||null!=n&&!$c(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(je(e.getIndex()instanceof pl||e.getIndex()===gl,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ah(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Dh extends jh{constructor(e,t){super(e,t,new Cl,!1)}get parent(){const e=Ta(this._path);return null===e?null:new Dh(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Lh{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ba(e),n=Fh(this.ref,e);return new Lh(this._node.getChild(t),n,rl)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new Lh(n,Fh(this.ref,t),rl))))}hasChild(e){const t=new ba(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Mh(e,t){return(e=bt(e))._checkNotDeleted("ref"),void 0!==t?Fh(e._root,t):e._root}function Fh(e,t){var n,r,i,s;return null===xa((e=bt(e))._path)?(n="child",r="path",s=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Wc(n,r,i,s)):Wc("child","path",t,!1),new Dh(e._repo,Ia(e._path,t))}function Uh(e,t){e=bt(e),Qc("push",e._path),qc("push",t,e._path,!0);const n=ih(e._repo),r=Th(n),i=Fh(e,r),s=Fh(e,r);let o;return o=null!=t?$h(s,t).then((()=>s)):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function zh(e){return Qc("remove",e._path),$h(e,null)}function $h(e,t){e=bt(e),Qc("set",e._path),qc("set",t,e._path,!1);const n=new Qe;return ch(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function qh(e,t){Hc("update",t,e._path,!1);const n=new Qe;return function(e,t,n,r){fh(e,"update",{path:t.toString(),value:n});let i=!0;const s=sh(e),o={};if(Bo(n,((n,r)=>{i=!1,o[n]=Sc(Ia(t,n),fl(r),e.serverSyncTree_,s)})),i)Po("update() called with empty data.  Don't do anything."),ph(0,r,"ok",void 0);else{const i=uh(e),s=tc(e.serverSyncTree_,t,o,i);Yc(e.eventQueue_,s),e.server_.merge(t.toString(),n,((n,s)=>{const o="ok"===n;o||Ao("update at "+t+" failed: "+n);const a=nc(e.serverSyncTree_,i,!o),l=a.length>0?vh(e,t):t;Jc(e.eventQueue_,l,a),ph(0,r,n,s)})),Bo(n,(n=>{const r=xh(e,Ia(t,n));vh(e,r)})),Jc(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function Bh(e){e=bt(e);const t=new Ph((()=>{})),n=new Hh(t);return function(e,t,n){const r=lc(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=fl(r).withIndex(t._queryParams.getIndex());let s;if(oc(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())s=rc(e.serverSyncTree_,t._path,i);else{const n=fc(e.serverSyncTree_,t);s=sc(e.serverSyncTree_,t._path,i,n)}return Jc(e.eventQueue_,t._path,s),ic(e.serverSyncTree_,t,n,null,!0),i}),(n=>(fh(e,"get for query "+it(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new Lh(t,new Dh(e._repo,e._path),e._queryParams.getIndex())))}class Hh{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Ih("value",this,new Lh(e.snapshotNode,new Dh(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Nh(this,e,t):null}matches(e){return e instanceof Hh&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Vh{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Nh(this,e,t):null}createEvent(e,t){je(null!=e.childName,"Child events should have a childName.");const n=Fh(new Dh(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ih(e.type,this,new Lh(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Vh&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Wh(e,t,n,r,i){let s;if("object"===typeof r&&(s=void 0,i=r),"function"===typeof r&&(s=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{hh(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const o=new Ph(n,s||void 0),a="value"===t?new Hh(o):new Vh(t,o);return function(e,t,n){let r;r=".info"===xa(t._path)?oc(e.infoSyncTree_,t,n):oc(e.serverSyncTree_,t,n),Xc(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>hh(e._repo,e,a)}function Qh(e,t,n,r){return Wh(e,"value",t,n,r)}class Kh{}class Gh extends Kh{constructor(e,t){super(),this._value=e,this._key=t,this.type="endAt"}_apply(e){qc("endAt",this._value,e._path,!0);const t=El(e._queryParams,this._value,this._key);if(Ah(t),Rh(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new jh(e._repo,e._path,t,e._orderByCalled)}}class Yh extends Kh{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAt"}_apply(e){qc("startAt",this._value,e._path,!0);const t=Sl(e._queryParams,this._value,this._key);if(Ah(t),Rh(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new jh(e._repo,e._path,t,e._orderByCalled)}}class Xh extends Kh{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Oh(e,"orderByChild");const t=new ba(this._path);if(Na(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new pl(t),r=kl(e._queryParams,n);return Rh(r),new jh(e._repo,e._path,r,!0)}}function Jh(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Wc("orderByChild","path",e,!1),new Xh(e)}class Zh extends Kh{constructor(e,t){super(),this._value=e,this._key=t,this.type="equalTo"}_apply(e){if(qc("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Gh(this._value,this._key)._apply(new Yh(this._value,this._key)._apply(e))}}function ed(e,t){return Vc("equalTo","key",t,!0),new Zh(e,t)}function td(e){let t=bt(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const s of r)t=s._apply(t);return t}!function(e){je(!Uu,"__referenceConstructor has already been defined"),Uu=e}(Dh),function(e){je(!zu,"__referenceConstructor has already been defined"),zu=e}(Dh);const nd={};let rd=!1;function id(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||Ro("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Po("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o,a,l=Sh(s,i),u=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"/Integrated-Business-Software-for-Delta-Apparels",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s=`http://${a}?ns=${u.namespace}`,l=Sh(s,i),u=l.repoInfo):o=!l.repoInfo.secure;const c=i&&o?new Xo(Xo.OWNER):new Yo(e.name,e.options,t);Kc("Invalid Firebase Database URL",l),Na(l.path)||Ro("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=nd[t.name];i||(i={},nd[t.name]=i);let s=i[e.toURLString()];s&&Ro("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new nh(e,rd,n,r),i[e.toURLString()]=s,s}(u,e,c,new Go(e.name,n));return new sd(h,e)}class sd{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rh(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dh(this._repo,wa())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=nd[t];n&&n[e.key]===e||Ro(`Database ${t}(${e.repoInfo_}) has already been deleted.`),dh(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ro("Cannot call "+e+" on a deleted database.")}}const od={".sv":"timestamp"};function ad(){return od}Ua.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ua.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){vo(Dn),Pn(new wt("database",((e,t)=>{let{instanceIdentifier:n}=t;return id(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Fn(po,go,e),Fn(po,go,"esm2017")}();var ld,ud="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},cd={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),u=s(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(c(t))throw Error("division by zero");if(c(e))return new g(a,a);if(h(e))return t=m(d(e),t),new g(d(t.g),d(t.h));if(h(t))return t=m(e,d(t)),new g(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!c(r);){var u=s.add(r);0>=u.l(e)&&(i=i.add(n),s=u),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new g(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(s=o(n)).j(t);h(u)||0<u.l(e);)u=(s=o(n-=r)).j(t);c(s)&&(s=l),i=i.add(s),e=f(e,u)}return new g(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(u)&&0>e.l(u))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),g=e.i(s)>>>16,m=65535&e.i(s);n[2*i+2*s]+=f*m,p(n,2*i+2*s),n[2*i+2*s+1]+=l*m,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*g,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*g,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,cd.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(u))):i=(i=i.j(r)).add(o(u))}return i},ld=cd.Integer=r}).apply("undefined"!==typeof ud?ud:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var hd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},dd={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof hd&&hd];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var v=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function _(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function x(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function C(e){i.setTimeout((()=>{throw e}),0)}function S(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new k),(e=>e.reset()));class k{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,I=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(j)}};var j=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){C(n)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function O(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function D(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{m(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}h(D,R);var L={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $(e){this.src=e,this.g={},this.h=0}function q(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function B(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}$.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=B(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),V={};function W(e,t,n,r,i){if(r&&r.once)return K(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,o(r)?!!r.capture:!!r,i):Q(e,t,n,!1,r,i)}function Q(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new $(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)A||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,o(r)?!!r.capture:!!r,i):Q(e,t,n,!0,r,i)}function G(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=B(s=e.g[t],n,r,i))&&(z(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=B(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(q(n,e),0==n.h&&(n.src=null,t[H]=null)):z(e)}}}function X(e){return e in V?V[e]:V[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof $?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){O.call(this),this.i=new $(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;w(t=new R(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&q(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,O),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){G(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){O.call(this),this.h=e,this.g={}}h(le,O);var ue=[];function ce(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ce(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){R.call(this,"d")}function _e(){R.call(this,"c")}h(ye,R),h(_e,R);var be={},we=null;function xe(){return we=we||new ne}function Ce(e){R.call(this,be.La,e)}function Se(e){const t=xe();re(t,new Ce(t))}function Ee(e,t){R.call(this,be.STAT_EVENT,e),this.stat=t}function ke(e){const t=xe();re(t,new Ee(t,e))}function Te(e,t){R.call(this,be.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ne(){this.g=!0}function Pe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return he(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",h(Ce,R),be.STAT_EVENT="statevent",h(Ee,R),be.Ma="timingevent",h(Te,R),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var je,Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ae(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}h(Ae,pe),Ae.prototype.g=function(){return new XMLHttpRequest},Ae.prototype.i=function(){return{}},je=new Ae;var Me={},Fe={};function Ue(e,t,n){e.L=1,e.v=ht(ot(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),Be(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ue[0]=i.toString()),i=ue);for(var s=0;s<i.length;s++){var o=W(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?_(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function $e(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function qe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function Be(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(u(e.ba,e),t)}function Ve(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Qe(e){Ve(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Yt(n)}rn(n),ke(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(u(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ct(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(Ve(a),Be(a)),r.g=o}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=u[0]&&"close"!=u[0]||cn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?cn(n,7):Gt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}Se()}catch(c){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Vt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const d=Vt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=d||7==t||Se(),Ve(this);var n=this.g.Z();this.X=n;t:if($e(this)){var r=Wt(this.g);e="";var s=r.length,o=4==Vt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Qe(this),We(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,ke(12),Qe(this),We(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=qe(this,a),e==Fe){4==d&&(this.s=4,ke(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,ke(15),Pe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Ke(this,e)}if($e(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,ke(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(h),h.M=!0,ke(11))}}else Pe(this.i,this.l,a,"[Invalid Chunked Response]"),Qe(this),We(this)}else Pe(this.i,this.l,a,null),Ke(this,a);4==d&&Qe(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,Be(this)))}else(function(e){const t={};e=(e.g&&2<=Vt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=x(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),Qe(this),We(this)}}}catch(d){}},De.prototype.cancel=function(){this.J=!0,Qe(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Se(),ke(17)),Qe(this),this.s=2,We(this)):He(this,this.S-e)};var Ge=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ut(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ut(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ut(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ct(this,t),Et(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,_t)),e.i=new wt(t,e.h))}function ct(e,t,n){e.i.set(t,n)}function ht(e){return ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var gt,mt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,_t=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ct(e,t){xt(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return xt(e),t=kt(e,t),e.g.has(t)}function Et(e,t,n){Ct(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),d(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function It(){this.g=new fe}function Nt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Ap){throw t.push(r+"type="+encodeURIComponent("_badmap")),Ap}}function Pt(e){this.l=e.Ub||null,this.j=e.eb||!1}function jt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,At(e)}function At(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ct(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){xt(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,St(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},h(Pt,pe),Pt.prototype.g=function(){return new jt(this.l,this.j)},Pt.prototype.i=(gt={},function(){return gt}),h(jt,ne),(e=jt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,At(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,At(this)),this.g&&(this.readyState=3,At(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):At(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(jt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Mt,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),Bt(e)}function $t(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function qt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Vt(e)||2!=e.Z()))if(e.u&&4==Vt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Vt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Ft.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Vt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",$t(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Ap){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Vt(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(gd){return null}}function Qt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qt("baseRetryDelayMs",5e3,e),this.cb=Qt("retryDelaySeedMs",1e4,e),this.Wa=Qt("forwardChannelMaxRetries",2,e),this.wa=Qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if(Xt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ct(n,"SID",e.K),ct(n,"RID",t),ct(n,"TYPE","terminate"),en(e,n),(t=new De(e,e.j,t)).L=2,t.v=ht(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Be(t)}hn(e)}function Yt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Xt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||P(),I||(T(),I=!0),N.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ct(r,"SID",e.K),ct(r,"RID",n),ct(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ct(t,n,e)})),e.l&&rt({},(function(e,n){ct(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Nt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||P(),I||(T(),I=!0),N.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(u(e.Fa,e),un(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ct(t,"RID","rpc"),ct(t,"SID",e.K),ct(t,"AID",e.T),ct(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ct(t,"TO",e.ja),ct(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(ot(t)),n.m=null,n.P=!0,ze(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=xe(),new Te(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(u(e.Ga,e,t),un(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function un(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),ht(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=c(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Tt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout((()=>{n.abort(),Tt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Tt(0,0,!1,t)}))}(r.toString(),n)}else ke(2);e.G=0,e.l&&e.l.sa(t),hn(e),Xt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ct(r,n,t),ct(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new Pt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function gn(){}function mn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _n(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){_e.call(this),this.status=1}function _n(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():je.g(),this.v=this.o?ge(this.o):ge(je),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void zt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){zt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?qt(this):this.bb())},e.bb=function(){qt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Vt(this)?this.g.status:-1}catch(gt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(gt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){ke(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=_(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ct(n=ot(this.I),"RID",e),ct(n,"CVER",22),this.D&&ct(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Dt(s)))+"&"+t:this.m&&Lt(n,this.m,s)),et(this.h,i),this.Ua&&ct(n,"TYPE","init"),this.P?(ct(n,"$req",t),ct(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),Yt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),ke(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},gn.prototype.g=function(e,t){return new mn(e,t)},h(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Gt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Ge(t.Ya++,e)),3==t.G&&Jt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,mn.aa.N.call(this)},h(vn,ye),h(yn,_e),h(_n,pn),_n.prototype.ua=function(){re(this.g,"a")},_n.prototype.ta=function(e){re(this.g,new vn(e))},_n.prototype.sa=function(e){re(this.g,new yn)},_n.prototype.ra=function(){re(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,dd.createWebChannelTransport=function(){return new gn},dd.getStatEventTarget=function(){return xe()},dd.Event=be,dd.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,dd.ErrorCode=Oe,Re.COMPLETE="complete",dd.EventType=Re,me.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,dd.WebChannel=me,dd.FetchXmlHttpFactory=Pt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,dd.XhrIo=Mt}).apply("undefined"!==typeof hd?hd:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const fd="@firebase/firestore";class pd{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pd.UNAUTHENTICATED=new pd(null),pd.GOOGLE_CREDENTIALS=new pd("google-credentials-uid"),pd.FIRST_PARTY=new pd("first-party-uid"),pd.MOCK_USER=new pd("mock-user");let gd="10.13.2";const md=new jt("@firebase/firestore");function vd(e){if(md.logLevel<=kt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bd);md.debug(`Firestore (${gd}): ${e}`,...i)}}function yd(e){if(md.logLevel<=kt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bd);md.error(`Firestore (${gd}): ${e}`,...i)}}function _d(e){if(md.logLevel<=kt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bd);md.warn(`Firestore (${gd}): ${e}`,...i)}}function bd(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function wd(){const e=`FIRESTORE (${gd}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw yd(e),new Error(e)}function xd(e,t){e||wd()}const Cd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Sd extends et{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ed{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class kd{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Td{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(pd.UNAUTHENTICATED)))}shutdown(){}}class Id{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Nd{constructor(e){this.t=e,this.currentUser=pd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ed;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ed,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{vd("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(vd("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ed)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(vd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(xd("string"==typeof t.accessToken),new kd(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xd(null===e||"string"==typeof e),new pd(e)}}class Pd{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=pd.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jd{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Pd(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(pd.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Od{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rd{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&vd("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,vd("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{vd("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):vd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(xd("string"==typeof e.token),this.R=e.token,new Od(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ad(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Dd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Ad(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ld(e,t){return e<t?-1:e>t?1:0}class Md{constructor(e,t,n){void 0===t?t=0:t>e.length&&wd(),void 0===n?n=e.length-t:n>e.length-t&&wd(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Md.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Md?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Fd extends Md{construct(e,t,n){return new Fd(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Sd(Cd.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Fd(e)}static emptyPath(){return new Fd([])}}class Ud{constructor(e){this.path=e}static fromPath(e){return new Ud(Fd.fromString(e))}static fromName(e){return new Ud(Fd.fromString(e).popFirst(5))}static empty(){return new Ud(Fd.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Fd.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Fd.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ud(new Fd(e.slice()))}}class zd{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}zd.UNKNOWN_ID=-1;function $d(e){return"IndexedDbTransactionError"===e.name}class qd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Bd(e){return 0===e&&1/e==-1/0}qd.oe=-1;const Hd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Vd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wd=Vd,Qd=[...Wd,"indexConfiguration","indexState","indexEntries"];class Kd{constructor(e,t){this.comparator=e,this.root=t||Yd.EMPTY}insert(e,t){return new Kd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yd.BLACK,null,null))}remove(e){return new Kd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gd(this.root,e,this.comparator,!0)}}class Gd{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Yd.RED,this.left=null!=r?r:Yd.EMPTY,this.right=null!=i?i:Yd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Yd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Yd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Yd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wd();if(this.right.isRed())throw wd();const e=this.left.check();if(e!==this.right.check())throw wd();return e+(this.isRed()?0:1)}}Yd.EMPTY=null,Yd.RED=!0,Yd.BLACK=!1,Yd.EMPTY=new class{constructor(){this.size=0}get key(){throw wd()}get value(){throw wd()}get color(){throw wd()}get left(){throw wd()}get right(){throw wd()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Yd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xd{constructor(e){this.comparator=e,this.data=new Kd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jd(this.data.getIterator())}getIteratorFrom(e){return new Jd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Xd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Xd(this.comparator);return t.data=e,t}}class Jd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ef{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Zd("Invalid base64 string: "+e):e}}(e);return new ef(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ef(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ld(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ef.EMPTY_BYTE_STRING=new ef("");const tf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nf(e){if(xd(!!e),"string"==typeof e){let t=0;const n=tf.exec(e);if(xd(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:rf(e.seconds),nanos:rf(e.nanos)}}function rf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function sf(e){return"string"==typeof e?ef.fromBase64String(e):ef.fromUint8Array(e)}class of{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class af{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new af("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof af&&e.projectId===this.projectId&&e.database===this.database}}function lf(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function uf(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}new Kd(Ud.comparator);new Kd(Ud.comparator);new Kd(Ud.comparator),new Xd(Ud.comparator);new Xd(Ld);var cf,hf;(hf=cf||(cf={}))[hf.OK=0]="OK",hf[hf.CANCELLED=1]="CANCELLED",hf[hf.UNKNOWN=2]="UNKNOWN",hf[hf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hf[hf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hf[hf.NOT_FOUND=5]="NOT_FOUND",hf[hf.ALREADY_EXISTS=6]="ALREADY_EXISTS",hf[hf.PERMISSION_DENIED=7]="PERMISSION_DENIED",hf[hf.UNAUTHENTICATED=16]="UNAUTHENTICATED",hf[hf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hf[hf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hf[hf.ABORTED=10]="ABORTED",hf[hf.OUT_OF_RANGE=11]="OUT_OF_RANGE",hf[hf.UNIMPLEMENTED=12]="UNIMPLEMENTED",hf[hf.INTERNAL=13]="INTERNAL",hf[hf.UNAVAILABLE=14]="UNAVAILABLE",hf[hf.DATA_LOSS=15]="DATA_LOSS";new ld([4294967295,4294967295],0);Error;class df{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(rf(e.integerValue));else if("doubleValue"in e){const n=rf(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Bd(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=nf(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(sf(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?uf(e)?this.dt(t,Number.MAX_SAFE_INTEGER):lf(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):wd()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(rf(o)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),Ud.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}df.vt=new df;new Uint8Array(0);class ff{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ff(e,ff.DEFAULT_COLLECTION_PERCENTILE,ff.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ff.DEFAULT_COLLECTION_PERCENTILE=10,ff.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ff.DEFAULT=new ff(41943040,ff.DEFAULT_COLLECTION_PERCENTILE,ff.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ff.DISABLED=new ff(-1,0,0);function pf(){return"undefined"!=typeof document?document:null}class gf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&vd("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class mf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ed,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new mf(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Sd(Cd.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vf(e,t){if(yd("AsyncQueue",`${t}: ${e}`),$d(e))return new Sd(Cd.UNAVAILABLE,`${t}: ${e}`);throw e}var yf,_f;(_f=yf||(yf={})).ea="default",_f.Cache="cache";class bf{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=pd.UNAUTHENTICATED,this.clientId=Dd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{vd("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(vd("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Sd(Cd.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ed;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=vf(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}function wf(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const xf=new Map;function Cf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":wd()}function Sf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Sd(Cd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cf(e);throw new Sd(Cd.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class Ef{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Sd(Cd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Sd(Cd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Sd(Cd.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wf(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Sd(Cd.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Sd(Cd.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Sd(Cd.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ef({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Sd(Cd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Sd(Cd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ef(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Td;switch(e.type){case"firstParty":return new jd(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Sd(Cd.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=xf.get(e);t&&(vd("ComponentProvider","Removing Datastore"),xf.delete(e),t.terminate())}(this),Promise.resolve()}}class Tf{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new gf(this,"async_queue_retry"),this.Eu=()=>{const e=pf();e&&vd("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()};const e=pf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const t=pf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise((()=>{}));const t=new Ed;return this.Au((()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.uu.push(e),this.Ru())))}async Ru(){if(0!==this.uu.length){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(Ap){if(!$d(Ap))throw Ap;vd("AsyncQueue","Operation failed with retryable error: "+Ap)}this.uu.length>0&&this.t_.Go((()=>this.Ru()))}}Au(e){const t=this.au.then((()=>(this.Pu=!0,e().catch((e=>{this.hu=e,this.Pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw yd("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Pu=!1,e))))));return this.au=t,t}enqueueAfterDelay(e,t,n){this.du(),this.Tu.indexOf(e)>-1&&(t=0);const r=mf.createAndSchedule(this,e,t,n,(e=>this.Vu(e)));return this.lu.push(r),r}du(){this.hu&&wd()}verifyOperationInProgress(){}async mu(){let e;do{e=this.au,await e}while(e!==this.au)}fu(e){for(const t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then((()=>{this.lu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.lu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.mu()}))}pu(e){this.Tu.push(e)}Vu(e){const t=this.lu.indexOf(e);this.lu.splice(t,1)}}class If extends kf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Tf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Nf(this),this._firestoreClient.terminate()}}function Nf(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new of(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,wf(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new bf(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}new RegExp("[~\\*/\\[\\]]");new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){gd=e}(Dn),Pn(new wt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new If(new Nd(e.getProvider("auth-internal")),new Rd(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Sd(Cd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new af(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Fn(fd,"4.7.2",e),Fn(fd,"4.7.2","esm2017")}();const Pf=Ln({apiKey:"AIzaSyD9ZiyXZ2iyNWEJxxEJ5yjKt9GZ2N3N3rU",authDomain:"delta-aperal.firebaseapp.com",databaseURL:"https://delta-aperal-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"delta-aperal",storageBucket:"delta-aperal.appspot.com",messagingSenderId:"1002041964384",appId:"1:1002041964384:web:ef57dbeb43e60dd01b1005",measurementId:"G-XVQDWVM27Z"}),jf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn();const t=jn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=jn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ct(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;tr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:so,persistence:[vs,es,ns]}),r=We("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>uo)return;const r=null===t||void 0===t?void 0:t.token;co!==r&&(co=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){bt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){bt(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=Be("auth");return s&&vi(n,`http://${s}`),n}(Pf),Of=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn(),t=arguments.length>1?arguments[1]:void 0;const n=jn(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=He("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=bt(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Ro("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ro('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Xo(Xo.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:Ke(r.mockUserToken,e.app.options.projectId);s=new Xo(t)}!function(e,t,n,r){e.repoInfo_=new ra(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,s)}(n,...e)}return n}(Pf),Rf=(function(e,t){const n="string"==typeof e?e:t||"(default)",r=jn("object"==typeof e?e:Mn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=He("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Sf(e,kf))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&_d("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=pd.MOCK_USER;else{t=Ke(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Sd(Cd.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new pd(s)}e._authCredentials=new Id(new kd(t,n))}}(r,...e)}}(Pf),n.p+"static/media/img21.b7fe25510fa30bef7df4.png"),Af=()=>{const e=ne(),[t,n]=(0,i.useState)(""),[r,s]=(0,i.useState)("");return(0,Se.jsx)("div",{children:(0,Se.jsxs)("div",{className:"wrapper2",children:[(0,Se.jsx)("div",{className:"admintransparent-box",children:(0,Se.jsxs)("form",{onSubmit:n=>{n.preventDefault(),console.log("Signing in with email:",t),Yi(jf,t,r).then((n=>{const r=n.user;console.log("User signed in:",r);Bh(td(Mh(Of,"users"),Jh("username"),ed(t))).then((t=>{if(t.exists()){let n=null;t.forEach((e=>{n=e.val()})),console.log("User data retrieved:",n),"Admin"===n.occupation?(console.log("User is an admin:",n),e("/pages/Admin")):(console.error("User is not an admin"),jf.signOut(),alert("You are not authorized to access this system."))}else console.error("No user data found"),jf.signOut(),alert("No user data found.")})).catch((e=>{console.error("Error fetching user data:",e),jf.signOut(),alert("Error fetching user data.")}))})).catch((e=>{console.error("Error signing in:",e.code,e.message),alert(`Error signing in: ${e.message}`)}))},children:[(0,Se.jsx)("center",{children:(0,Se.jsx)("img",{src:Rf})}),(0,Se.jsxs)("h2",{children:["Administration ",(0,Se.jsx)("br",{}),"Login"]}),(0,Se.jsx)("div",{className:"input-box1",children:(0,Se.jsx)("input",{type:"text",placeholder:"Email",value:t,onChange:e=>n(e.target.value),required:!0})}),(0,Se.jsx)("div",{className:"input-box1",children:(0,Se.jsx)("input",{type:"password",placeholder:"Password",value:r,onChange:e=>s(e.target.value),required:!0})}),(0,Se.jsx)("div",{className:"remember-forgot",children:(0,Se.jsx)("a",{href:"#",onClick:()=>{t?Gi(jf,t).then((()=>{alert("Password reset email sent. Please check your inbox.")})).catch((e=>{console.error("Error sending password reset email:",e),alert("Error sending password reset email. Please try again.")})):alert("Please enter your email address to reset your password.")},children:"Forgot Password"})}),(0,Se.jsx)("button",{type:"submit",children:"Sign In"})]})}),(0,Se.jsx)("div",{className:"footer",children:(0,Se.jsx)("p",{children:"\xa9 2024 Delta Apparels"})})]})})};function Df(){const e=ne();return(0,Se.jsxs)("div",{className:"holder",children:[(0,Se.jsx)(Ee,{}),(0,Se.jsx)("center",{children:(0,Se.jsxs)("div",{className:"Ithome",children:[(0,Se.jsx)("button",{className:"adminbutton",onClick:()=>e("/components/AdminLog"),children:"Admin"}),(0,Se.jsx)("button",{className:"itsecbutton",onClick:()=>e("/components/ITSecLog"),children:"IT Section"}),(0,Se.jsx)("button",{className:"linebutton",onClick:()=>e("/components/LoginForm"),children:"Line Manager"})]})}),(0,Se.jsx)("div",{className:"footer",children:(0,Se.jsx)("p",{children:"\xa9 2024 Delta Apparels"})})]})}const Lf=()=>{const e=ne();return(0,Se.jsx)("button",{className:"b1",onClick:()=>{jf.signOut().then((()=>{console.log("User signed out"),e("/pages/Home",{replace:!0})})).catch((e=>{console.error("Error signing out:",e)}))},children:"Sign Out"})},Mf=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),a=ne();return(0,Se.jsxs)("div",{children:[(0,Se.jsx)(Ee,{}),(0,Se.jsx)(Lf,{}),(0,Se.jsx)("center",{children:(0,Se.jsx)("h3",{children:"Add new user to the system "})}),(0,Se.jsxs)("form",{onSubmit:t=>{t.preventDefault(),async function(e,t,n){if(On(e.app))return Promise.reject(ir(e));const r=ui(e),i=mi(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fi),s=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Ki(e),t})),o=await Ui._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(jf,e,n).then((t=>{const r=t.user;console.log("User signed up:",r);$h(Mh(Of,`users/${r.uid}`),{username:e,password:n,occupation:s}).then((()=>{console.log("User data added to database"),alert("New user added suceesfully"),a("/pages/Admin")})).catch((e=>{console.error("Error adding user data to database:",e)}))})).catch((e=>{console.error("Error signing up:",e.code,e.message)}))},children:[(0,Se.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Email"}),(0,Se.jsx)("input",{type:"password",value:n,onChange:e=>r(e.target.value),placeholder:"Password"}),(0,Se.jsxs)("select",{value:s,onChange:e=>o(e.target.value),required:!0,children:[(0,Se.jsx)("option",{value:"",children:"Select Occupation"}),(0,Se.jsx)("option",{value:"Admin",children:"Admin"}),(0,Se.jsx)("option",{value:"IT Section",children:"IT Section"}),(0,Se.jsx)("option",{value:"Line Manager",children:"Line Manager"})]}),(0,Se.jsx)("button",{type:"submit",children:"Sign Up"})]})]})};function Ff(){return(0,Se.jsxs)("div",{children:[(0,Se.jsx)(Ee,{}),(0,Se.jsx)(Lf,{}),(0,Se.jsx)(Mf,{})]})}const Uf=()=>{const e=ne(),[t,n]=(0,i.useState)(""),[r,s]=(0,i.useState)("");return(0,Se.jsx)("div",{children:(0,Se.jsxs)("div",{className:"wrapper2",children:[(0,Se.jsx)("div",{className:"linetransparent-box",children:(0,Se.jsxs)("form",{action:!0,onSubmit:n=>{n.preventDefault(),console.log("Signing in with email:",t),Yi(jf,t,r).then((n=>{const r=n.user;console.log("User signed in:",r);Bh(td(Mh(Of,"users"),Jh("username"),ed(t))).then((t=>{if(t.exists()){let n=null;t.forEach((e=>{n=e.val()})),console.log("User data retrieved:",n),"Line Manager"===n.occupation?(console.log("User is a line manager:",n),e("/pages/LineHome")):(console.error("User is not a line manager"),jf.signOut(),alert("You are not authorized to access this system."))}else console.error("No user data found"),jf.signOut(),alert("No user data found.")})).catch((e=>{console.error("Error fetching user data:",e),jf.signOut(),alert("Error fetching user data.")}))})).catch((e=>{console.error("Error signing in:",e.code,e.message),alert(`Error signing in: ${e.message}`)}))},children:[(0,Se.jsx)("center",{children:(0,Se.jsx)("img",{src:Rf})}),(0,Se.jsxs)("h2",{children:["Line Manager",(0,Se.jsx)("br",{})," Login"]}),(0,Se.jsx)("div",{className:"input-box1",children:(0,Se.jsx)("input",{type:"text",placeholder:"Email",value:t,onChange:e=>n(e.target.value),required:!0})}),(0,Se.jsx)("div",{className:"input-box1",children:(0,Se.jsx)("input",{type:"password",placeholder:"Password",value:r,onChange:e=>s(e.target.value),required:!0})}),(0,Se.jsx)("div",{className:"remember-forgot",children:(0,Se.jsx)("a",{href:"#",onClick:()=>{t?Gi(jf,t).then((()=>{alert("Password reset email sent. Please check your inbox.")})).catch((e=>{console.error("Error sending password reset email:",e),alert("Error sending password reset email. Please try again.")})):alert("Please enter your email address to reset your password.")},children:"Forgot Password"})}),(0,Se.jsx)("button",{type:"submit",children:"Login"})]})}),(0,Se.jsx)("div",{className:"footer",children:(0,Se.jsx)("p",{children:"\xa9 2024 Delta Apparels"})})]})})},zf=()=>{const e=ne(),[t,n]=(0,i.useState)(""),[r,s]=(0,i.useState)("");return(0,Se.jsxs)("div",{children:[(0,Se.jsx)("div",{className:"wrapper2",children:(0,Se.jsx)("div",{className:"ITtransparent-box",children:(0,Se.jsxs)("form",{onSubmit:n=>{n.preventDefault(),console.log("Signing in with email:",t),Yi(jf,t,r).then((n=>{const r=n.user;console.log("User signed in:",r);Bh(td(Mh(Of,"users"),Jh("username"),ed(t))).then((t=>{if(t.exists()){let n=null;t.forEach((e=>{n=e.val()})),console.log("User data retrieved:",n),"IT Section"===n.occupation?(console.log("User is a IT:",n),e("/pages/ItHome")):(console.error("User is not a IT"),jf.signOut(),alert("You are not authorized to access this system."))}else console.error("No user data found"),jf.signOut(),alert("No user data found.")})).catch((e=>{console.error("Error fetching user data:",e),jf.signOut(),alert("Error fetching user data.")}))})).catch((e=>{console.error("Error signing in:",e.code,e.message),alert(`Error signing in: ${e.message}`)}))},children:[(0,Se.jsx)("center",{children:(0,Se.jsx)("img",{src:Rf})}),(0,Se.jsxs)("h2",{children:["IT Section ",(0,Se.jsx)("br",{}),"Login"]}),(0,Se.jsx)("div",{className:"input-box1",children:(0,Se.jsx)("input",{type:"text",placeholder:"Email",value:t,onChange:e=>n(e.target.value),required:!0})}),(0,Se.jsx)("div",{className:"input-box1",children:(0,Se.jsx)("input",{type:"password",placeholder:"Password",value:r,onChange:e=>s(e.target.value),required:!0})}),(0,Se.jsx)("div",{className:"remember-forgot",children:(0,Se.jsx)("a",{href:"#",onClick:()=>{t?Gi(jf,t).then((()=>{alert("Password reset email sent. Please check your inbox.")})).catch((e=>{console.error("Error sending password reset email:",e),alert("Error sending password reset email. Please try again.")})):alert("Please enter your email address to reset your password.")},children:"Forgot Password"})}),(0,Se.jsx)("button",{type:"submit",children:"Login"})]})})}),(0,Se.jsx)("div",{className:"footer",children:(0,Se.jsx)("p",{children:"\xa9 2024 Delta Apparels"})})]})},$f={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center"},modal:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",maxWidth:"500px",width:"100%"},closeButton:{position:"absolute",top:"10px",right:"10px",cursor:"pointer"}},qf=e=>{let{isOpen:t,onClose:n,children:r}=e;return t?(0,Se.jsx)("div",{style:$f.overlay,children:(0,Se.jsxs)("div",{style:$f.modal,children:[(0,Se.jsx)("button",{style:$f.closeButton,onClick:n,children:"X"}),(0,Se.jsx)("div",{children:r})]})}):null},Bf={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center"},modal:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",maxWidth:"500px",width:"100%"},closeButton:{position:"absolute",top:"10px",right:"10px",cursor:"pointer"}},Hf=e=>{let{isOpen:t,onClose:n,children:r}=e;return t?(0,Se.jsx)("div",{style:Bf.overlay,children:(0,Se.jsxs)("div",{style:Bf.modal,children:[(0,Se.jsx)("button",{style:Bf.closeButton,onClick:n,children:"X"}),(0,Se.jsx)("div",{children:r})]})}):null},Vf=e=>{let{isOpen:t,onClose:n,onAuthSuccess:r}=e;const[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[u,c]=(0,i.useState)("");return(0,Se.jsxs)(qf,{isOpen:t,onClose:n,children:[(0,Se.jsx)("h2",{children:"Enter Credentials"}),(0,Se.jsx)("input",{type:"text",placeholder:"Email",value:s,onChange:e=>o(e.target.value)}),(0,Se.jsx)("input",{type:"password",placeholder:"Password",value:a,onChange:e=>l(e.target.value)}),u&&(0,Se.jsx)("p",{style:{color:"red"},children:u}),(0,Se.jsx)("button",{onClick:()=>{Yi(jf,s,a).then((e=>{o(""),l(""),c(""),r(),n()})).catch((e=>{c("Invalid email or password")}))},children:"Login"}),(0,Se.jsx)("button",{onClick:n,children:"Cancel"})]})};function Wf(){var e,t;const[n,r]=(0,i.useState)(0),[s,o]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1),[u,c]=(0,i.useState)(!1),[h,d]=(0,i.useState)(0),[f,p]=(0,i.useState)(null),[g,m]=(0,i.useState)(""),[v,y]=(0,i.useState)([]),[_,b]=(0,i.useState)(!1),[w,x]=(0,i.useState)(!1),[C,S]=(0,i.useState)(!1),E=()=>b(!1),[k,T]=(0,i.useState)(""),I=(ne(),()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}`}),[N,P]=(0,i.useState)(I());(0,i.useEffect)((()=>{const e=setInterval((()=>{P(I())}),1e3);return()=>clearInterval(e)}),[]),(0,i.useEffect)((()=>{U(k),V(k)}),[k]);const j=async()=>{c(!0),o(!1),l(!1),clearInterval(f),fe(""),we(""),r(""),Ne(null),ve(null),Ce(null);const e=(new Date).toISOString().split("T")[0],t=Mh(Of,`dailyUpdates/${e}/${k}`);await qh(t,{isPaused:!0})};(0,i.useEffect)((()=>()=>{clearInterval(f)}),[f]);const O=async e=>{const t=be,n=(new Date).toISOString().split("T")[0],r=Mh(Of,`dailyUpdates/${n}/${e}`);let i;try{const e=await Bh(r);if(!e.exists())return void console.log("No data available for the given date and line");{const t=e.val(),n=t.guestMembers||0;if(i=n+(t.hostMembers||0),0===i)return}}catch(Oo){return void console.error("Error retrieving data: ",Oo)}const s=Mh(Of,`dailyUpdates/${n}/${e}/runTime/${i}`);we("");try{const e=await Bh(r),n=await Bh(s);if(!e.exists())return void console.error("Operation data does not exist.");const i=e.val(),{startTime:o,endTime:a}=i,l=n.val(),{runTime:u}=l;if(!o)return void console.error("Start time is missing.");console.log("Run Time of ealier : "+u);const c=new Date(a).getTime();let h;if(h=c-new Date(o).getTime(),h<0)return void console.error("Invalid data: endTime is earlier than startTime.");const d=u+Math.floor(h/1e3);await qh(s,{runTime:d}),we(t),console.log("Runtime updated and selectedIncompleteBundle set."),console.log("Run Time: "+d)}catch(Oo){console.error("Error calculating and updating runtime:",Oo)}},R=async e=>{const t=be,n=(new Date).toISOString().split("T")[0],r=Mh(Of,`dailyUpdates/${n}/${e}`);we("");try{const e=await Bh(r);if(!e.exists())return void console.error("Operation data does not exist.");const n=e.val(),{startTime:i,endTime:s,pauseTime:o}=n;if(!i)return void console.error("Start time is missing.");console.log("pause Time of ealier : "+o);const a=new Date(s).getTime();let l;if(l=new Date(i).getTime()-a,l<0)return void console.error("Invalid data: endTime is earlier than startTime.");const u=o+Math.floor(l/1e3);await qh(r,{pauseTime:u}),we(t),console.log("Runtime updated and selectedIncompleteBundle set."),console.log("Pause: "+u)}catch(Oo){console.error("Error calculating and updating runtime:",Oo)}},A=async e=>{const t=be,n=(new Date).toISOString().split("T")[0],r=Mh(Of,`dailyUpdates/${n}/${e}`);let i;try{const e=await Bh(r);if(!e.exists())return void console.log("No data available for the given date and line");{const t=e.val(),n=t.guestMembers||0;if(i=n+(t.hostMembers||0),0===i)return}}catch(Oo){return void console.error("Error retrieving data: ",Oo)}const s=Mh(Of,`dailyUpdates/${n}/${e}/runTime/${i}`);we("");try{await qh(r,{endTime:ad()}),console.log("Run time successfully added to dailyUpdates.")}catch(Oo){console.error("Error updating dailyUpdates:",Oo)}try{const e=await Bh(r),n=await Bh(s);if(!e.exists())return void console.error("Operation data does not exist.");const i=e.val();console.log("Operation data from Firebase:",i);const{startTime:o,endTime:a}=i,l=n.val(),{runTime:u=0}=l;if(!a)return void console.error("endTime is undefined or missing.");console.log("used run"+u);const c=(new Date).getTime(),h=new Date(o).getTime();if(isNaN(h))return void console.error("Invalid startMillis, unable to calculate time difference.");let d;if(d=c-h,d<0)return void console.error("Invalid data: current time is earlier than startTime/pauseTime.");const f=Math.floor(d/1e3);console.log("run test: "+f);const p=u+f;try{await qh(r,{startTime:a}),await qh(s,{runTime:p}),console.log("Run time successfully added to dailyUpdates.")}catch(Oo){console.error("Error updating dailyUpdates:",Oo)}return we(t),console.log("Current Total Runtime: "+p+" seconds"),p}catch(Oo){console.error("Error fetching and calculating runtime:",Oo)}};(0,i.useEffect)((()=>{console.log("Selected Line:",k);Bh(td(Mh(Of,"employees"),Jh("lineAllocation"),ed(k))).then((e=>{if(e.exists()){const t=[];e.forEach((e=>{t.push(e.val())})),console.log("Employee Data:",t),y(t)}else console.log("No employees found for the selected line.")})).catch((e=>{console.error("Error fetching employee data:",e)}))}),[k]);const D=async e=>{const t=(new Date).toISOString().split("T")[0],n=Mh(Of,`dailyUpdates/${t}/${e}`);let r;try{const e=await Bh(n);if(!e.exists())return void console.log("No data available for the given date and line");{const t=e.val(),n=t.guestMembers||0;if(r=n+(t.hostMembers||0),0===r)return}}catch(Oo){return void console.error("Error retrieving data: ",Oo)}const i=Mh(Of,`dailyUpdates/${t}/${e}/runTime/${r}`);(await Bh(i)).exists()?console.log("already it set the time"):(await qh(i,{runTime:0}),console.log("run Time set to 0"))},L=()=>{U(k)},[M,F]=(0,i.useState)(null),U=e=>{const t=(()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`})();if(!e)return void console.error("Line cannot be undefined");const n=Qh(Mh(Of,`dailyUpdates/${t}/${e}`),(e=>{e.exists()?F(e.val()):(console.log("No data available"),F({hostMembers:0,guestMembers:0}))}),(e=>{console.error("Error fetching data:",e)}));return n},z=e=>{const t=be;let n;if(be)n=Mh(Of,`currentOperations/${k}/${be}`);else{if(!de)return void console.error("No valid selection made.");n=Mh(Of,`currentOperations/${k}/${de}`)}we(""),Bh(n).then((r=>{if(r.exists()){const i=(r.val()["1stQuality"]||0)+e;qh(n,{"1stQuality":i}).then((()=>{console.log(`1stQuality updated to ${i}`),we(t),q(k),Pe()})).catch((e=>{console.error("Error updating 1stQuality:",e),alert("Error updating 1stQuality.")}))}else alert("No data found for the selected order and bundle.")})).catch((e=>{console.error("Error fetching order data:",e),alert("Error fetching order data.")}))},$=async(e,t)=>{try{const n=Mh(Of,"serverTime/temp");await $h(n,{timestamp:ad()});const r=await Bh(n);if(r.exists()){const n=r.val().timestamp,i=new Date(n).toISOString().split("T")[0],s=Mh(Of,`dailyUpdates/${i}/${t}`),o=await Bh(s);let a=0;o.exists()&&(a=o.val().total1stQuality||0);const l=a+e;await qh(s,{total1stQuality:l}),console.log(`total1stQuality updated to ${l} for ${t} on ${i}`)}else console.error("Error fetching server timestamp."),alert("Error fetching server timestamp.")}catch(Oo){console.error("Error:",Oo),alert("An error occurred.")}};async function q(e){let t;if(be)t=Mh(Of,`currentOperations/${e}/${be}`);else{if(!de)return console.error("No valid selection made."),null;t=Mh(Of,`currentOperations/${e}/${de}`)}try{const e=await Bh(t);if(e.exists()){const t=e.val(),n=null===t||void 0===t?void 0:t["1stQuality"];return void 0!==n?(console.log("1stQuality:",n),r(n),n):(console.error("1stQuality not found in the selected bundle."),null)}return console.error("No data found at the selected bundle path."),null}catch(Oo){return console.error("Error retrieving 1stQuality:",Oo),null}}const[B,H]=(0,i.useState)(null),V=async e=>{if(!e)return void console.error("Line number cannot be undefined");const t=(new Date).toISOString().split("T")[0],n=Mh(Of,`dailyUpdates/${t}/${k}/Effiency`);let r,i=0;try{r=await Bh(n),r.exists()&&(r.forEach((e=>{const t=e.val();t.Quality&&(i+=t.Quality)})),console.log("quqlity "+i))}catch(Oo){console.error("Error retrieving runtime data:",Oo)}const s=Qh(Mh(Of,`dailyUpdates/${t}/${e}`),(e=>{if(e.exists()){const t=e.val().total1stQuality||0;H(i+t)}else H(0!==i?i:0)}),(e=>{console.error("Error fetching real-time data:",e)}));return s},W=()=>{let e;if(be)e=Mh(Of,`currentOperations/${k}/${be}`);else{if(!de)return void console.error("No valid selection made.");e=Mh(Of,`currentOperations/${k}/${de}`)}we(""),Bh(e).then((t=>{if(t.exists()){const n=(t.val()["2ndQuality"]||0)+1;qh(e,{"2ndQuality":n}).then((()=>{console.log(`2ndQuality updated to ${n}`),A(k),Pe()})).catch((e=>{console.error("Error updating 2ndQuality:",e),alert("Error updating 2ndQuality.")}))}else alert("No data found for the selected order and bundle.")})).catch((e=>{console.error("Error fetching order data:",e),alert("Error fetching order data.")}))},Q=()=>{let e;if(be)e=Mh(Of,`currentOperations/${k}/${be}`);else{if(!de)return void console.error("No valid selection made.");e=Mh(Of,`currentOperations/${k}/${de}`)}we(""),Bh(e).then((t=>{if(t.exists()){const n=(t.val().Rejection||0)+1;qh(e,{Rejection:n}).then((()=>{console.log(`Rejection updated to ${n}`),A(k),Pe()})).then((()=>{alert(`Rejection updated to ${n}`)})).catch((e=>{console.error("Error updating Rejection:",e),alert("Error updating Rejection.")}))}else alert("No data found for the selected order and bundle.")})).catch((e=>{console.error("Error fetching order data:",e),alert("Error fetching order data.")}))},K=(0,i.useRef)(!1),G=(0,i.useRef)(!1);(0,i.useEffect)((()=>{if(!k)return void console.error("Selected line is undefined or null");const e=Mh(Of,"serverTime"),t=(new Date).toISOString().split("T")[0];Mh(Of,`dailyUpdates/${t}/${k}`);$h(e,{timestamp:ad()}).then((()=>{Qh(e,(e=>{var t;const n=null===(t=e.val())||void 0===t?void 0:t.timestamp;if(n){const e=new Date(n),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),7,30,0),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,30,0);if(e>=t&&e<=r){oe||(ae(t.getTime()),localStorage.setItem("startTime",t.getTime()));const e=setInterval((async()=>{const e=new Date,t=18===e.getHours()&&e.getMinutes()>=21&&e.getMinutes()<22||18===e.getHours()&&e.getMinutes()>=23&&e.getMinutes()<24;if(t&&!w?(x(!0),G.current=!1,K.current||(A(k),K.current=!0)):!t&&w&&(x(!1),K.current=!1,G.current||(Y(k),G.current=!0)),!t){const e=Math.floor((Date.now()-oe)/1e3),t={hours:Math.floor(e/3600),minutes:Math.floor(e%3600/60)};re(t),localStorage.setItem("runTime",JSON.stringify(t))}}),1e3);return()=>clearInterval(e)}}}))})).catch((e=>{console.error("Error setting server time:",e)}))}),[w,k]);const Y=async e=>{const t=(new Date).toISOString().split("T")[0],n=Mh(Of,`dailyUpdates/${t}/${e}`);try{const t=(await Bh(n)).val(),r=((null===t||void 0===t?void 0:t.pauseTime)||0)+60;await qh(n,{pauseTime:r,isPaused:!1,startTime:ad(),endTime:ad()}),console.log(`Pause time for line ${e} has been updated to ${r} milliseconds.`)}catch(Oo){console.error("Error updating pause time:",Oo)}},[X,J]=(0,i.useState)("0"),Z=async e=>{const t=(new Date).toISOString().split("T")[0],n=Mh(Of,`dailyUpdates/${t}/${e}/runTime`),r=Mh(Of,`dailyUpdates/${t}/${e}/Effiency`);let i,s;try{s=await Bh(r),s.exists()&&(i=s.val())}catch(Oo){console.error("Error retrieving runtime data:",Oo)}let o,a=0,l=0,u=0,c=0;try{const e=await Bh(n);if(!e.exists())return console.log("No runtime data available for the given date and line"),0;{const t=e.val();let n=0;Object.keys(t).forEach((e=>{const r=t[e];if(r&&void 0!==r.runTime){const t=r.runTime,i=parseInt(e,10);n+=i*t}if(a=n/60,s.exists()){let e=0,t=0,n=0;s.forEach((r=>{const i=r.val();i.totalWorkTime&&(e+=i.totalWorkTime),i.effiency&&(t+=i.effiency,n++)})),a-=e,c=n>0?t/n:0}})),console.log("Total Work Time (in seconds):",n),console.log("minites "+a)}}catch(Oo){return console.error("Error retrieving runtime data:",Oo),0}const h=Mh(Of,`dailyUpdates/${t}/${e}/total1stQuality`),d=await Bh(h);d.exists?(l=d.val(),console.log("1 ;"+l)):console.log("No 1st Qualities for today yet.");const f=Mh(Of,`dailyUpdates/${t}/${e}/Smv`);we("");const p=await Bh(f);return p.exists()&&(o=p.val(),console.log("smv "+o)),u=o*l/a*100,0!==c&&(u=(u+c)/2),J(u),{totalWorkTimeinMinitues:a,effiency:u,totalQuality:l}},ee=async e=>{const{totalWorkTimeinMinitues:t,effiency:n,totalQuality:r}=await Z(e);await(async(e,t,n,r)=>{const i=(new Date).toISOString().split("T")[0],s=Mh(Of,`dailyUpdates/${i}/${e}/Effiency`);await Uh(s,{totalWorkTime:t,effiency:n,timestamp:(new Date).toISOString(),Quality:r})})(e,t,n,r)},[te,re]=(0,i.useState)({hours:0,minutes:0}),[ie,se]=(0,i.useState)(new Date),[oe,ae]=(0,i.useState)((new Date).setHours(7,30,0,0));(new Date).setHours(17,30,0,0);(0,i.useEffect)((()=>{se(new Date);const e=setInterval((()=>{se((e=>e?new Date(e.getTime()+1e3):null))}),1e3);return()=>clearInterval(e)}),[]);const[le,ue]=(0,i.useState)("");(0,i.useEffect)((()=>{const e=setInterval((async()=>{let e=(await Bh(Mh(Of,"/serverTime"))).val();e?e=new Date(e):($h(Mh(Of,"/serverTime"),ad()),e=new Date);const t=new Date(e);t.setHours(7,30,0);const n=new Date(e);n.setHours(17,30,0);const r=new Date(e);if(r.setHours(0,0,0,0),e>=t&&e<=n){const n=(e-t)/1e3/60,r=Math.floor(n/60),i=Math.floor(n%60);ue(`${r} hours ${i} minutes`)}else if(e<t)ue("0 hours 0 minutes");else if(e>n&&e<r){const e=600;ue(`${Math.floor(e/60)} hours ${e%60} minutes`)}else e>n?ue("10 hours 0 minutes"):e>=r&&$h(Mh(Of,"/runtime"),null)}),1e3);return()=>clearInterval(e)}),[]);const[ce,he]=(0,i.useState)([]),[de,fe]=(0,i.useState)(""),[pe,ge]=(0,i.useState)(null);(0,i.useEffect)((()=>{const e=Mh(Of,`Inqueue/${k}`),t=Mh(Of,`currentOperations/${k}`),n=Qh(e,(e=>{const n=e.val();if(n){const e=Object.keys(n);Bh(t).then((t=>{const n=t.val(),r=n?Object.keys(n):[],i=e.filter((e=>!r.includes(e)));he(i)})).catch((e=>{console.error("Error fetching current operations data:",e),he([])}))}else he([]);fe("")}));return()=>n()}),[k]);const[me,ve]=(0,i.useState)(null);(0,i.useEffect)((()=>{if(de){console.log("Selected bundle:",de);Qh(Mh(Of,`Inqueue/${k}/${de}`),(async e=>{const t=e.val();if(console.log("Bundle data:",t),t){ge(t);const{orderNumber:e,italyPo:n,productionPo:r}=t;if(e&&n&&r){Qh(Mh(Of,"orders"),(t=>{const i=t.val();let s=null;if(i)for(const o in i){const t=i[o];if(t.orderNumber===e&&t.italyPO===n&&t.productionPO===r){s=t;break}}ve(s||null)}))}else ve(null)}else ge(null),ve(null)}))}}),[de,k]);const[ye,_e]=(0,i.useState)([]),[be,we]=(0,i.useState)(""),[xe,Ce]=(0,i.useState)(null);(0,i.useEffect)((()=>{const e=Qh(Mh(Of,`currentOperations/${k}`),(e=>{const t=e.val();if(t){const e=Object.keys(t);_e(e)}else _e([]);k&&we("")}));return()=>e()}),[k]);const[ke,Te]=(0,i.useState)(null);(0,i.useEffect)((()=>{if(be){console.log("Selected incomplete bundle:",be);Qh(Mh(Of,`currentOperations/${k}/${be}`),(e=>{const t=e.val();Ce(t||null)}))}}),[be,k]);const[Ie,Ne]=(0,i.useState)(null),Pe=()=>{let e,t;if(be)e=Mh(Of,`currentOperations/${k}/${be}`);else{if(!de)return void console.error("No valid selection made.");e=Mh(Of,`currentOperations/${k}/${de}`)}if(be)t=Mh(Of,`Inqueue/${k}/${be}`);else{if(!de)return void console.error("No valid selection made.");t=Mh(Of,`Inqueue/${k}/${de}`)}Bh(e).then((e=>{if(e.exists()){const t=e.val()["1stQuality"]||0,n=e.val()["2ndQuality"]||0,r=e.val().Rejection||0,i=e.val().noOfPieces||0;Ne(i-t-n-r)}})).catch((e=>{console.error("Error fetching current 1stQuality value:",e),alert("Error fetching current 1stQuality value.")}))};(0,i.useEffect)((()=>{null!==Ie&&function(){if(0===Ie){let e;if(be)e=Mh(Of,`currentOperations/${k}/${be}`);else{if(!de)return void console.error("No valid selection made.");e=Mh(Of,`currentOperations/${k}/${de}`)}Bh(e).then((e=>{if(!e.exists())throw new Error("Order data not found in currentOperations");const t=e.val(),{italyPo:n,productionPO:r,styleNumber:i,colour:s,colourCode:o,size:a,"1stQuality":l,"2ndQuality":u,Rejection:c}=t,h=Mh(Of,`Line Operations/${t.orderId}/${t.productionPO}`);return Bh(h).then((e=>{if(e.exists()){const t=e.val(),n=(t["1stQuality"]||0)+(l||0),r=(t["2ndQuality"]||0)+(u||0),i=(t.Rejection||0)+(c||0);return $h(h,{...t,"1stQuality":n,"2ndQuality":r,Rejection:i})}return $h(h,{italyPo:n,productionPO:r,styleNumber:i,colour:s,colourCode:o,size:a,"1stQuality":l||0,"2ndQuality":u||0,Rejection:c||0})}))})).then((()=>{console.log("Order data successfully updated in Line Operations and daily runtime updated."),alert("Bundle completed successfully."),j(),zh(e)})).catch((e=>{console.error("Error updating order data or daily runtime:",e)}));const t=(new Date).toISOString().split("T")[0];qh(Mh(Of,`dailyUpdates/${t}/${k}`),{endTime:ad(),isPaused:!0}).then((()=>{console.log("Pause time calculated and updated successfully.")})).catch((e=>{console.error("Error updating pause time:",e)}))}else console.log("Pending is not 0, no action taken.")}()}),[Ie]);const[je,Oe]=(0,i.useState)(!1),[Re,Ae]=(0,i.useState)(null),De=e=>{Ae((()=>e)),S(!0)},Le=()=>{S(!1)};return(0,Se.jsxs)("div",{children:[(0,Se.jsx)(Ee,{}),(0,Se.jsx)(Lf,{}),(0,Se.jsxs)("div",{children:[(0,Se.jsxs)("div",{children:[(0,Se.jsx)("h2",{children:"Select a Line"}),(0,Se.jsxs)("select",{value:k,onChange:e=>T(e.target.value),children:[(0,Se.jsx)("option",{value:"",children:"Choose a Line"}),Array.from({length:12},((e,t)=>(0,Se.jsxs)("option",{value:`Line ${t+1}`,children:["Line ",t+1]},t+1)))]})]}),(0,Se.jsxs)("h1",{children:["Welcome to ",k]})]}),(0,Se.jsxs)("div",{children:[(0,Se.jsxs)("div",{children:[(0,Se.jsx)("h2",{children:"Select an Incomplete Bundle"}),(0,Se.jsxs)("select",{value:be,onChange:e=>we(e.target.value),disabled:s,children:[(0,Se.jsx)("option",{value:"",children:"Choose an incomplete bundle"})," ",ye.length>0?ye.map(((e,t)=>(0,Se.jsx)("option",{value:e,children:e},t))):(0,Se.jsx)("option",{value:"",children:"No incomplete bundles available"})]})]}),(0,Se.jsx)("h2",{children:"Select a Bundle"}),(0,Se.jsxs)("select",{value:de,onChange:e=>fe(e.target.value),disabled:s,children:[(0,Se.jsx)("option",{value:"",children:"Choose a bundle"})," ",ce.length>0?ce.map(((e,t)=>(0,Se.jsx)("option",{value:e,children:e},t))):(0,Se.jsx)("option",{value:"",children:"No bundles available"})]}),me&&(0,Se.jsxs)("div",{children:[(0,Se.jsx)("h2",{children:"Order Details"}),(0,Se.jsxs)("table",{border:"1",children:[(0,Se.jsx)("thead",{children:(0,Se.jsxs)("tr",{children:[(0,Se.jsx)("th",{children:"Bundle ID"}),(0,Se.jsx)("th",{children:"Order Number"}),(0,Se.jsx)("th",{children:"Italy PO"}),(0,Se.jsx)("th",{children:"Production PO"}),(0,Se.jsx)("th",{children:"Size"}),(0,Se.jsx)("th",{children:"Style Number"}),(0,Se.jsx)("th",{children:"Color"}),(0,Se.jsx)("th",{children:"Color Code"}),(0,Se.jsx)("th",{children:"Bundle Quantity"})]})}),(0,Se.jsx)("tbody",{children:(0,Se.jsxs)("tr",{children:[(0,Se.jsx)("td",{children:de}),(0,Se.jsx)("td",{children:me.orderNumber}),(0,Se.jsx)("td",{children:me.italyPO}),(0,Se.jsx)("td",{children:me.productionPO}),(0,Se.jsx)("td",{children:me.size}),(0,Se.jsx)("td",{children:me.styleNumber}),(0,Se.jsx)("td",{children:me.colour}),(0,Se.jsx)("td",{children:me.colourCode}),(0,Se.jsx)("td",{children:pe.noOfPieces})]})})]})]}),xe&&(0,Se.jsxs)("div",{children:[(0,Se.jsx)("h2",{children:"Order Details"}),(0,Se.jsxs)("table",{border:"1",children:[(0,Se.jsx)("thead",{children:(0,Se.jsxs)("tr",{children:[(0,Se.jsx)("th",{children:"Bundle ID"}),(0,Se.jsx)("th",{children:"Order Number"}),(0,Se.jsx)("th",{children:"Italy PO"}),(0,Se.jsx)("th",{children:"Style Number"}),(0,Se.jsx)("th",{children:"Production PO"}),(0,Se.jsx)("th",{children:"Color"}),(0,Se.jsx)("th",{children:"Color Code"}),(0,Se.jsx)("th",{children:"Quantity"})]})}),(0,Se.jsx)("tbody",{children:(0,Se.jsxs)("tr",{children:[(0,Se.jsx)("td",{children:xe.bundleId}),(0,Se.jsx)("td",{children:xe.orderId}),(0,Se.jsx)("td",{children:xe.italyPo}),(0,Se.jsx)("td",{children:xe.styleNumber}),(0,Se.jsx)("td",{children:xe.productionPO}),(0,Se.jsx)("td",{children:xe.colour}),(0,Se.jsx)("td",{children:xe.colourCode}),(0,Se.jsx)("td",{children:xe.noOfPieces})]})})]})]})]}),(0,Se.jsxs)("div",{children:[ie?(0,Se.jsxs)("div",{children:[(0,Se.jsxs)("p",{children:["Date: ",ie.toLocaleDateString()]}),(0,Se.jsxs)("p",{children:["Time: ",ie.toLocaleTimeString()]})]}):(0,Se.jsx)("p",{children:"Loading server time..."}),(0,Se.jsx)("br",{}),(0,Se.jsx)("button",{onClick:async()=>{const e=setInterval((()=>{d((e=>e+1))}),1e3);p(e);const t=(new Date).toISOString().split("T")[0],n=be,r=Mh(Of,`dailyUpdates/${t}/${k}`);let i;try{const e=await Bh(r);if(!e.exists())return console.log("No data available for the given date and line"),void alert("Can't start order without any employees.");{const t=e.val(),n=t.guestMembers||0;if(i=n+(t.hostMembers||0),0===i)return void alert("Can't start order without any employees.")}}catch(Oo){return void console.error("Error retrieving data: ",Oo)}const s=Mh(Of,`dailyUpdates/${t}/${k}/runTime/${i}`);let a,u;if(o(!0),l(!1),c(!1),be)u=Mh(Of,`currentOperations/${k}/${be}`),a=Mh(Of,`Inqueue/${k}/${be}`),q(k),Pe();else{if(!de)return void console.error("No valid selection made.");u=Mh(Of,`currentOperations/${k}/${de}`),a=Mh(Of,`Inqueue/${k}/${de}`)}we("");if((await Bh(u)).exists()){console.log("Starting incomplete order. Data already exists in the operations node.");const e=(await Bh(r)).val(),i=(await Bh(s)).val();if(""!==e.pauseTime){e.startTime||ad();const o=e.endTime||ad(),a=e.pauseTime||0,l=i.runTime||0,u=e.isPaused,c=Mh(Of,`currentOperations/${k}/${be}/Smv`),h=await Bh(c);let d,f="";h.exists()&&(f=h.val());const p=Mh(Of,`dailyUpdates/${t}/${k}/Smv`),g=await Bh(p);g.exists()&&(d=g.val()),f!==d&&(await ee(k),await qh(r,{Smv:f,total1stQuality:""}));const m=new Date(o).getTime();let v;if(v=(new Date).getTime()-m,u){if(console.log("order pause "+a),v<0)return void console.error("Invalid data: endTime is earlier than startTime.");const e=Math.floor(v/1e3);console.log("new "+e);const t=a+e;await qh(r,{pauseTime:t,startTime:ad(),isPaused:!1}).then((()=>{console.log("Pause time calculated and updated successfully."),we(n)})).catch((e=>{console.error("Error updating pause time:",e)}))}else{console.log("order Run time"+l);if(v=(new Date).getTime()-new Date(o).getTime(),v<0)return void console.error("Invalid data: endTime is earlier than startTime.");const e=Math.floor(v/1e3);console.log("new "+e);const t=l+e;await qh(r,{startTime:ad()}),await qh(s,{runTime:t}).then((()=>{console.log("Run time calculated and updated successfully."),we(n)})).catch((e=>{console.error("Error updating pause time:",e)}))}}else{console.log("This is first order of today.");const e=Mh(Of,`currentOperations/${k}/${be}/Smv`),t=await Bh(e);let i="";t.exists()&&(i=t.val()),await qh(r,{startTime:ad(),endTime:ad(),pauseTime:0,Smv:i}),await qh(s,{runTime:0}).then((()=>{console.log("Start time set with default values."),we(n)}))}}else{const e=await Bh(a);let i=0,o="",l="",c="";if(!e.exists())return void console.warn("Missing data in inqueue");{const t=e.val();i=t.noOfPieces||0,o=t.italyPo||"",l=t.productionPo||"",c=t.size||""}$h(u,{lineNumber:k,orderId:me.orderNumber,bundleId:de,italyPo:o,productionPO:l,size:c,styleNumber:me.styleNumber,colour:me.colour,colourCode:me.colourCode,Smv:me.smv,"1stQuality":0,"2ndQuality":0,Rejection:0,noOfPieces:i,orderStartTime:ad()}).then((()=>{console.log("Data saved successfully to current operations node!")})).catch((e=>{console.error("Error adding data:",e)}));try{const e=await Bh(r),i=await Bh(s),o=e.val(),a=i.val();if(""!==o.pauseTime){const e=o.startTime||ad(),i=o.endTime||ad(),l=o.pauseTime||0,u=a.runTime||0,c=o.isPaused,h=Mh(Of,`currentOperations/${k}/${de}/Smv`),d=await Bh(h);let f,p="";d.exists()&&(p=d.val());const g=Mh(Of,`dailyUpdates/${t}/${k}/Smv`),m=await Bh(g);m.exists()&&(f=m.val()),p!==f&&(await ee(k),await qh(r,{Smv:p,total1stQuality:""}));const v=new Date(i).getTime();let y;if(y=(new Date).getTime()-v,c){if(console.log("Already started order in this line"),y<0)return void console.error("Invalid data: endTime is earlier than startTime.");const e=Math.floor(y/1e3);console.log("new "+e);const t=l+e;await qh(r,{pauseTime:t,startTime:ad(),isPaused:!1}).then((()=>{console.log("Pause time calculated and updated successfully."),we(n)})).catch((e=>{console.error("Error updating pause time:",e)}))}else{console.log("previous order didnt pause "+u);const t=(new Date).getTime();if(y=t-new Date(e).getTime(),y<0)return void console.error("Invalid data: endTime is earlier than startTime.");const i=Math.floor(y/1e3);console.log("new "+i);const o=u+i;await qh(s,{runTime:o}),await qh(r,{startTime:ad()}).then((()=>{console.log("Run time calculated and updated successfully."),we(n)})).catch((e=>{console.error("Error updating pause time:",e)}))}}else{const e=Mh(Of,`currentOperations/${k}/${de}/Smv`),t=await Bh(e);let n="";t.exists()&&(n=t.val()),await qh(r,{startTime:ad(),endTime:ad(),pauseTime:0,Smv:n}),console.log("No data found. Default values were set.")}}catch(Oo){console.error("Error checking or updating dailyUpdates:",Oo)}}},disabled:!(""!==de||""!==be||""!==de)||s&&!u,children:"Start"}),(0,Se.jsx)("button",{onClick:()=>{const e=be,t=(new Date).toISOString().split("T")[0],n=Mh(Of,`dailyUpdates/${t}/${k}`);we(""),a?qh(n,{startTime:ad(),isPaused:!1}).then((()=>{console.log("Pause time and isPaused status updated in the database."),we(e),R(k);const t=setInterval((()=>{d((e=>e+1))}),1e3);p(t)})).catch((e=>{console.error("Failed to update pauseTime or isPaused:",e)})):(clearInterval(f),qh(n,{endTime:ad(),isPaused:!0}).then((()=>{console.log("End time and isPaused status updated in the database."),we(e),O(k)})).catch((e=>{console.error("Failed to update endTime or isPaused:",e)}))),l(!a)},disabled:!s||u,children:a?"Resume":"Pause"}),(0,Se.jsx)("button",{onClick:j,disabled:!s||a,children:"Stop"}),u&&(0,Se.jsxs)("p",{children:["Time Elapsed: ",(Me=h,`${Math.floor(Me/60)}m ${Me%60}s`)]})]}),(0,Se.jsx)("button",{onClick:()=>b(!0),disabled:s&&!a,children:"Add members to the line"}),(0,Se.jsxs)(qf,{isOpen:_,onClose:E,children:[(0,Se.jsxs)("div",{children:[(0,Se.jsx)("label",{htmlFor:"idInput",children:"Enter ID:"}),(0,Se.jsx)("input",{id:"idInput",type:"tel",value:g,onChange:e=>{m(e.target.value)},pattern:"[0-9]*",inputMode:"numeric",placeholder:"Enter your ID"}),(0,Se.jsx)("button",{className:"addGuest",onClick:()=>{((e,t)=>{Bh(td(Mh(Of,"employees"),Jh("employeeNumber"),ed(e))).then((e=>{if(e.exists()){let n=null;e.forEach((e=>{n=e.val().lineAllocation}));const r=(new Date).toISOString().split("T")[0],i=Mh(Of,`dailyUpdates/${r}/${t}`);Bh(i).then((e=>{if(e.exists()){const r=e.val(),s=r.hostMembers||0,o=r.guestMembers||0;r.isPaused||A(t),n===t?qh(i,{hostMembers:s+1}).then((()=>{console.log("Host members count updated successfully!"),m(""),D(t)})).catch((e=>{console.error("Error updating host members count:",e)})):qh(i,{guestMembers:o+1}).then((()=>{console.log("Guest members count updated successfully!"),m(""),D(t)})).catch((e=>{console.error("Error updating guest members count:",e)}))}else $h(i,{hostMembers:0,guestMembers:0,isPaused:!0}).then((()=>{console.log("Daily data initialized successfully!"),n===t?qh(i,{hostMembers:1,startTime:"",endTime:"",pauseTime:"",Smv:""}).then((()=>{console.log("Host members count set to 1."),m(""),$h(Mh(Of,`dailyUpdates/${r}/${t}/runTime/1`),{runTime:0}).then((()=>{console.log("RunTime initialized to 0 for totalMembers 1.")})).catch((e=>{console.error("Error initializing runTime for totalMembers 1:",e)}))})).catch((e=>{console.error("Error setting host members count:",e)})):qh(i,{guestMembers:1,startTime:"",endTime:"",pauseTime:"",Smv:""}).then((()=>{console.log("Guest members count set to 1."),m(""),$h(Mh(Of,`dailyUpdates/${r}/${t}/runTime/1`),{runTime:0}).then((()=>{console.log("RunTime initialized to 0 for totalMembers 1.")})).catch((e=>{console.error("Error initializing runTime for totalMembers 1:",e)}))})).catch((e=>{console.error("Error setting guest members count:",e)}))})).catch((e=>{console.error("Error initializing daily data:",e)}))})).catch((e=>{console.error("Error fetching daily data:",e)}))}else console.log("No employee found with the given ID."),alert("No employee found with the given ID.")})).catch((e=>{console.error("Error fetching employee data:",e)}))})(g,k),U(k)},children:"Add memeber to Line"}),(0,Se.jsxs)("h2",{children:["Employees assigned to ",k]}),v.length>0?(0,Se.jsx)("ul",{children:v.map((e=>(0,Se.jsxs)("li",{children:[(0,Se.jsx)("strong",{children:e.fullName})," - ",e.designation,(0,Se.jsx)("button",{onClick:L,children:"Add to Line"})]},e.employeeNumber)))}):(0,Se.jsx)("p",{children:"No employees found for this line."})]}),(0,Se.jsx)("button",{onClick:()=>(e=>{if(!e)return void console.error("Line number cannot be undefined");const t=(new Date).toISOString().split("T")[0],n=Mh(Of,`dailyUpdates/${t}/${e}`);Bh(n).then((r=>{if(r.exists()){const t=r.val().hostMembers||0;t>0?(A(e),qh(n,{hostMembers:t-1}).then((()=>{console.log(`Host member removed successfully from ${e}`)})).catch((e=>{console.error("Error removing host member:",e)}))):console.log("No host members to remove.")}else console.log(`No data found for ${e} on ${t}`)})).catch((e=>{console.error("Error fetching daily updates:",e)}))})(k),children:"Remove Host Member"}),(0,Se.jsx)("button",{onClick:()=>(e=>{if(!e)return void console.error("Line number cannot be undefined");const t=(new Date).toISOString().split("T")[0],n=Mh(Of,`dailyUpdates/${t}/${e}`);Bh(n).then((r=>{if(r.exists()){const t=r.val().guestMembers||0;t>0?(A(e),qh(n,{guestMembers:t-1}).then((()=>{console.log(`Guest member removed successfully from ${e}`)})).catch((e=>{console.error("Error removing guest member:",e)}))):console.log("No guest members to remove.")}else console.log(`No data found for ${e} on ${t}`)})).catch((e=>{console.error("Error fetching daily updates:",e)}))})(k),children:"Remove Guest Member"}),(0,Se.jsx)("button",{onClick:E,children:"Close Modal"})]}),M?(0,Se.jsxs)("div",{children:[(0,Se.jsxs)("p",{children:["Host Members: ",null!==(e=M.hostMembers)&&void 0!==e?e:0]}),(0,Se.jsxs)("p",{children:["Guest Members: ",null!==(t=M.guestMembers)&&void 0!==t?t:0]})]}):(0,Se.jsxs)("p",{children:["No memebers assigend for this ",k," yet."]}),(0,Se.jsx)("div",{children:null!==n?(0,Se.jsx)("div",{children:(0,Se.jsxs)("p",{children:["1st Quality: ",n]})}):(0,Se.jsx)("p",{children:"No 1st Quality value assigned for this order yet."})}),(0,Se.jsx)("div",{children:null!==Ie?(0,Se.jsx)("div",{children:(0,Se.jsxs)("p",{children:["Pending Pieces: ",Ie]})}):(0,Se.jsx)("p",{children:" No pending data for this order yet."})}),(0,Se.jsx)("button",{onClick:async()=>{await z(1),await $(1,k),await A(k),await Z(k)},disabled:!s||a,children:"1stQuality +1"}),(0,Se.jsx)("button",{onClick:async()=>{await z(3),await $(3,k),await A(k),await Z(k)},disabled:!s||a||null!==Ie&&Ie<3,children:"1stQuality +3"}),(0,Se.jsx)("div",{children:null!==B?(0,Se.jsxs)("p",{children:["Total 1st Quality for today: ",B]}):(0,Se.jsx)("p",{children:"No Total 1st Quality data available for today."})}),(0,Se.jsxs)("div",{children:[(0,Se.jsx)("button",{onClick:()=>De(Q),disabled:!s||a,children:"Rejection"}),(0,Se.jsx)("button",{onClick:()=>De(W),disabled:!s||a,children:"2nd Quality"}),(0,Se.jsx)(Vf,{isOpen:C,onClose:Le,onAuthSuccess:()=>{Oe(!0),Le(),Re&&Re()}})]}),(0,Se.jsxs)("p",{children:["Runtime: ",te.hours," hours and ",te.minutes," minutes"]}),(0,Se.jsx)("div",{children:(0,Se.jsxs)(Hf,{isOpen:w,onClose:()=>x(!1),children:[(0,Se.jsx)("h2",{children:"Break Time!"}),(0,Se.jsx)("p",{children:"The break is from 12:37 PM to 12:40 PM and 3:00 PM to 3:15 PM."})]})}),(0,Se.jsx)("div",{children:null===X||isNaN(X)?(0,Se.jsx)("p",{children:"No data yet."}):(0,Se.jsxs)("p",{children:["Today Efficiency: ",parseFloat(X).toFixed(2)," %"]})})]});var Me}const Qf=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[u,c]=(0,i.useState)(""),[h,d]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),[g,m]=(0,i.useState)(""),[v,y]=(0,i.useState)(""),[_,b]=(0,i.useState)(""),[w,x]=(0,i.useState)(""),[C,S]=(0,i.useState)(""),[E,k]=(0,i.useState)(""),[T,I]=(0,i.useState)(""),[N,P]=(0,i.useState)(""),[j,O]=(0,i.useState)(""),[R,A]=(0,i.useState)(""),[D,L]=(0,i.useState)(!1),[M,F]=(0,i.useState)(!1),U=ne(),z=e=>{4===e.target.value.length&&(e.target.value+="-")};return(0,Se.jsxs)("div",{children:[(0,Se.jsx)(Ee,{}),(0,Se.jsx)(Lf,{}),(0,Se.jsx)("div",{className:"holder",children:(0,Se.jsx)("div",{className:"wrapper",children:(0,Se.jsxs)("div",{className:"transparent-box",children:[(0,Se.jsx)("h2",{children:"Add Order"}),(0,Se.jsxs)("form",{className:"order-form",onSubmit:i=>{i.preventDefault();Uh(Mh(Of,"orders"),{orderNumber:e,customer:n,orderType:D?a:s,orderCategory:M?h:u,styleNumber:f,productCategory:g,colour:v,size:_,smv:w,italyPO:C,orderQuantity:E,colourCode:T,productionPO:N,psd:j,ped:R}).then((()=>{console.log("Order added successfully"),t(""),r(""),o(""),l(""),c(""),d(""),p(""),m(""),y(""),b(""),x(""),S(""),k(""),I(""),P(""),O(""),A("")})).catch((e=>{console.error("Error adding order: ",e)})),U("/pages/OrderHome")},children:[(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Order Number"}),(0,Se.jsx)("input",{type:"text",placeholder:"Order Number",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Customer"}),(0,Se.jsx)("input",{type:"text",placeholder:"Customer",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Order Type"}),D?(0,Se.jsx)("input",{type:"text",placeholder:"Enter Order Type",value:a,onChange:e=>l(e.target.value),required:!0}):(0,Se.jsxs)("select",{value:s,onChange:e=>{const t=e.target.value;o(t),"Other"===t?(L(!0),l("")):L(!1)},required:!0,children:[(0,Se.jsx)("option",{value:"",children:"Select Order Type"}),(0,Se.jsx)("option",{value:"External",children:"External"}),(0,Se.jsx)("option",{value:"Internal",children:"Internal"}),(0,Se.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Order Category"}),M?(0,Se.jsx)("input",{type:"text",placeholder:"Enter Order Category",value:h,onChange:e=>d(e.target.value),required:!0}):(0,Se.jsxs)("select",{value:u,onChange:e=>{const t=e.target.value;c(t),"Other"===t?(F(!0),d("")):F(!1)},required:!0,children:[(0,Se.jsx)("option",{value:"",children:"Select Order Category"}),(0,Se.jsx)("option",{value:"1st Quality",children:"1st Quality"}),(0,Se.jsx)("option",{value:"Outlet",children:"Outlet"}),(0,Se.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Style Number"}),(0,Se.jsx)("input",{type:"text",placeholder:"Style Number",value:f,onChange:e=>p(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Product Category"}),(0,Se.jsx)("input",{type:"text",placeholder:"Product Category",value:g,onChange:e=>m(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Colour"}),(0,Se.jsx)("input",{type:"text",placeholder:"Colour",value:v,onChange:e=>y(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Size"}),(0,Se.jsx)("input",{type:"text",placeholder:"Size",value:_,onChange:e=>b(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"SMV"}),(0,Se.jsx)("input",{type:"text",placeholder:"SMV",value:w,onChange:e=>x(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Italy PO"}),(0,Se.jsx)("input",{type:"text",placeholder:"Italy PO",value:C,onChange:e=>S(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Order Quantity"}),(0,Se.jsx)("input",{type:"text",placeholder:"Order Quantity",value:E,onChange:e=>k(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Colour Code"}),(0,Se.jsx)("input",{type:"text",placeholder:"Colour Code",value:T,onChange:e=>I(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Production PO"}),(0,Se.jsx)("input",{type:"text",placeholder:"Production PO",value:N,onChange:e=>P(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"PSD"}),(0,Se.jsx)("input",{type:"date",placeholder:"PSD",value:j,onChange:e=>{O(e.target.value),z(e)},required:!0,max:"9999-12-31"})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"PED"}),(0,Se.jsx)("input",{type:"date",placeholder:"PED",value:R,onChange:e=>{A(e.target.value),z(e)},required:!0,max:"9999-12-31"})]}),(0,Se.jsx)("button",{type:"submit",children:"Add"})]})]})})})]})};function Kf(){const e=ne();return(0,Se.jsxs)("div",{className:"holder",children:[(0,Se.jsxs)("div",{children:[(0,Se.jsx)(Ee,{}),(0,Se.jsx)(Lf,{}),(0,Se.jsxs)("div",{className:"Ithome2",children:[(0,Se.jsx)("button",{className:"empbutton",onClick:()=>e("/pages/EmployeeHome"),children:"Employee Detalis"}),(0,Se.jsx)("button",{className:"orderbutton",onClick:()=>e("/pages/OrderHome"),children:"Order Detalis"}),(0,Se.jsx)("button",{className:"cutbutton",onClick:()=>e("/pages/CutHome"),children:"Cut Detalis"})]})]}),(0,Se.jsx)("div",{className:"footer",children:(0,Se.jsx)("p",{children:"\xa9 2024 Delta Apparels"})})]})}var Gf,Yf=Object.defineProperty,Xf=Object.getOwnPropertySymbols,Jf=Object.prototype.hasOwnProperty,Zf=Object.prototype.propertyIsEnumerable,ep=(e,t,n)=>t in e?Yf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tp=(e,t)=>{for(var n in t||(t={}))Jf.call(t,n)&&ep(e,n,t[n]);if(Xf)for(var n of Xf(t))Zf.call(t,n)&&ep(e,n,t[n]);return e},np=(e,t)=>{var n={};for(var r in e)Jf.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Xf)for(var r of Xf(e))t.indexOf(r)<0&&Zf.call(e,r)&&(n[r]=e[r]);return n};(e=>{const t=class t{constructor(e,n,r,s){if(this.version=e,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(s<-1||s>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let o=[];for(let t=0;t<this.size;t++)o.push(!1);for(let t=0;t<this.size;t++)this.modules.push(o.slice()),this.isFunction.push(o.slice());this.drawFunctionPatterns();const a=this.addEccAndInterleave(r);if(this.drawCodewords(a),-1==s){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const n=this.getPenaltyScore();n<e&&(s=t,e=n),this.applyMask(t)}}i(0<=s&&s<=7),this.mask=s,this.applyMask(s),this.drawFormatBits(s),this.isFunction=[]}static encodeText(n,r){const i=e.QrSegment.makeSegments(n);return t.encodeSegments(i,r)}static encodeBinary(n,r){const i=e.QrSegment.makeBytes(n);return t.encodeSegments([i],r)}static encodeSegments(e,r){let s,a,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(t.MIN_VERSION<=l&&l<=u&&u<=t.MAX_VERSION)||c<-1||c>7)throw new RangeError("Invalid value");for(s=l;;s++){const n=8*t.getNumDataCodewords(s,r),i=o.getTotalBits(e,s);if(i<=n){a=i;break}if(s>=u)throw new RangeError("Data too long")}for(const n of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])h&&a<=8*t.getNumDataCodewords(s,n)&&(r=n);let d=[];for(const t of e){n(t.mode.modeBits,4,d),n(t.numChars,t.mode.numCharCountBits(s),d);for(const e of t.getData())d.push(e)}i(d.length==a);const f=8*t.getNumDataCodewords(s,r);i(d.length<=f),n(0,Math.min(4,f-d.length),d),n(0,(8-d.length%8)%8,d),i(d.length%8==0);for(let t=236;d.length<f;t^=253)n(t,8,d);let p=[];for(;8*p.length<d.length;)p.push(0);return d.forEach(((e,t)=>p[t>>>3]|=e<<7-(7&t))),new t(s,r,p,c)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let r=0;r<t;r++)0==n&&0==r||0==n&&r==t-1||n==t-1&&0==r||this.drawAlignmentPattern(e[n],e[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let n=t;for(let r=0;r<10;r++)n=n<<1^1335*(n>>>9);const s=21522^(t<<10|n);i(s>>>15==0);for(let i=0;i<=5;i++)this.setFunctionModule(8,i,r(s,i));this.setFunctionModule(8,7,r(s,6)),this.setFunctionModule(8,8,r(s,7)),this.setFunctionModule(7,8,r(s,8));for(let i=9;i<15;i++)this.setFunctionModule(14-i,8,r(s,i));for(let i=0;i<8;i++)this.setFunctionModule(this.size-1-i,8,r(s,i));for(let i=8;i<15;i++)this.setFunctionModule(8,this.size-15+i,r(s,i));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let n=0;n<12;n++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;i(t>>>18==0);for(let n=0;n<18;n++){const e=r(t,n),i=this.size-11+n%3,s=Math.floor(n/3);this.setFunctionModule(i,s,e),this.setFunctionModule(s,i,e)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let r=-4;r<=4;r++){const i=Math.max(Math.abs(r),Math.abs(n)),s=e+r,o=t+n;0<=s&&s<this.size&&0<=o&&o<this.size&&this.setFunctionModule(s,o,2!=i&&4!=i)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,1!=Math.max(Math.abs(r),Math.abs(n)))}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){const n=this.version,r=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(n,r))throw new RangeError("Invalid argument");const s=t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],o=t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],a=Math.floor(t.getNumRawDataModules(n)/8),l=s-a%s,u=Math.floor(a/s);let c=[];const h=t.reedSolomonComputeDivisor(o);for(let i=0,f=0;i<s;i++){let n=e.slice(f,f+u-o+(i<l?0:1));f+=n.length;const r=t.reedSolomonComputeRemainder(n,h);i<l&&n.push(0),c.push(n.concat(r))}let d=[];for(let t=0;t<c[0].length;t++)c.forEach(((e,n)=>{(t!=u-o||n>=l)&&d.push(e[t])}));return i(d.length==a),d}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let n=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let i=0;i<this.size;i++)for(let s=0;s<2;s++){const o=t-s,a=0==(t+1&2)?this.size-1-i:i;!this.isFunction[a][o]&&n<8*e.length&&(this.modules[a][o]=r(e[n>>>3],7-(7&n)),n++)}}i(n==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let r;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let i=0;i<this.size;i++){let n=!1,r=0,s=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[i][o]==n?(r++,5==r?e+=t.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,s),n||(e+=this.finderPenaltyCountPatterns(s)*t.PENALTY_N3),n=this.modules[i][o],r=1);e+=this.finderPenaltyTerminateAndCount(n,r,s)*t.PENALTY_N3}for(let i=0;i<this.size;i++){let n=!1,r=0,s=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[o][i]==n?(r++,5==r?e+=t.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,s),n||(e+=this.finderPenaltyCountPatterns(s)*t.PENALTY_N3),n=this.modules[o][i],r=1);e+=this.finderPenaltyTerminateAndCount(n,r,s)*t.PENALTY_N3}for(let i=0;i<this.size-1;i++)for(let n=0;n<this.size-1;n++){const r=this.modules[i][n];r==this.modules[i][n+1]&&r==this.modules[i+1][n]&&r==this.modules[i+1][n+1]&&(e+=t.PENALTY_N2)}let n=0;for(const t of this.modules)n=t.reduce(((e,t)=>e+(t?1:0)),n);const r=this.size*this.size,s=Math.ceil(Math.abs(20*n-10*r)/r)-1;return i(0<=s&&s<=9),e+=s*t.PENALTY_N4,i(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let n=[6];for(let r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let n=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;n-=(25*t-10)*t-55,e>=7&&(n-=36)}return i(208<=n&&n<=29648),n}static getNumDataCodewords(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let n=[];for(let t=0;t<e-1;t++)n.push(0);n.push(1);let r=1;for(let i=0;i<e;i++){for(let e=0;e<n.length;e++)n[e]=t.reedSolomonMultiply(n[e],r),e+1<n.length&&(n[e]^=n[e+1]);r=t.reedSolomonMultiply(r,2)}return n}static reedSolomonComputeRemainder(e,n){let r=n.map((e=>0));for(const i of e){const e=i^r.shift();r.push(0),n.forEach(((n,i)=>r[i]^=t.reedSolomonMultiply(n,e)))}return r}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let n=0;for(let r=7;r>=0;r--)n=n<<1^285*(n>>>7),n^=(t>>>r&1)*e;return i(n>>>8==0),n}finderPenaltyCountPatterns(e){const t=e[1];i(t<=3*this.size);const n=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];function n(e,t,n){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let r=t-1;r>=0;r--)n.push(e>>>r&1)}function r(e,t){return 0!=(e>>>t&1)}function i(e){if(!e)throw new Error("Assertion error")}e.QrCode=t;const s=class e{constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}static makeBytes(t){let r=[];for(const e of t)n(e,8,r);return new e(e.Mode.BYTE,t.length,r)}static makeNumeric(t){if(!e.isNumeric(t))throw new RangeError("String contains non-numeric characters");let r=[];for(let e=0;e<t.length;){const i=Math.min(t.length-e,3);n(parseInt(t.substring(e,e+i),10),3*i+1,r),e+=i}return new e(e.Mode.NUMERIC,t.length,r)}static makeAlphanumeric(t){if(!e.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");let r,i=[];for(r=0;r+2<=t.length;r+=2){let s=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r));s+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r+1)),n(s,11,i)}return r<t.length&&n(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r)),6,i),new e(e.Mode.ALPHANUMERIC,t.length,i)}static makeSegments(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}static makeEci(t){let r=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)n(t,8,r);else if(t<16384)n(2,2,r),n(t,14,r);else{if(!(t<1e6))throw new RangeError("ECI assignment value out of range");n(6,3,r),n(t,21,r)}return new e(e.Mode.ECI,0,r)}static isNumeric(t){return e.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return e.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(const r of e){const e=r.mode.numCharCountBits(t);if(r.numChars>=1<<e)return 1/0;n+=4+e+r.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substring(n+1,n+3),16)),n+=2);return t}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=s;e.QrSegment=s})(Gf||(Gf={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2);e.Ecc=t})(t=e.QrCode||(e.QrCode={}))})(Gf||(Gf={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]);e.Mode=t})(t=e.QrSegment||(e.QrSegment={}))})(Gf||(Gf={}));var rp=Gf,ip={L:rp.QrCode.Ecc.LOW,M:rp.QrCode.Ecc.MEDIUM,Q:rp.QrCode.Ecc.QUARTILE,H:rp.QrCode.Ecc.HIGH},sp=128,op="L",ap="#FFFFFF",lp="#000000",up=!1,cp=1;function hp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];return e.forEach((function(e,r){let i=null;e.forEach((function(s,o){if(!s&&null!==i)return n.push(`M${i+t} ${r+t}h${o-i}v1H${i+t}z`),void(i=null);if(o!==e.length-1)s&&null===i&&(i=o);else{if(!s)return;null===i?n.push(`M${o+t},${r+t} h1v1H${o+t}z`):n.push(`M${i+t},${r+t} h${o+1-i}v1H${i+t}z`)}}))})),n.join("")}function dp(e,t){return e.slice().map(((e,n)=>n<t.y||n>=t.y+t.h?e:e.map(((e,n)=>(n<t.x||n>=t.x+t.w)&&e))))}function fp(e){let{value:t,level:n,minVersion:r,includeMargin:s,marginSize:o,imageSettings:a,size:l}=e,u=i.useMemo((()=>{const e=rp.QrSegment.makeSegments(t);return rp.QrCode.encodeSegments(e,ip[n],r)}),[t,n,r]);const{cells:c,margin:h,numCells:d,calculatedImageSettings:f}=i.useMemo((()=>{let e=u.getModules();const t=function(e,t){return null!=t?Math.max(Math.floor(t),0):e?4:0}(s,o),n=e.length+2*t,r=function(e,t,n,r){if(null==r)return null;const i=e.length+2*n,s=Math.floor(.1*t),o=i/t,a=(r.width||s)*o,l=(r.height||s)*o,u=null==r.x?e.length/2-a/2:r.x*o,c=null==r.y?e.length/2-l/2:r.y*o,h=null==r.opacity?1:r.opacity;let d=null;if(r.excavate){let e=Math.floor(u),t=Math.floor(c);d={x:e,y:t,w:Math.ceil(a+u-e),h:Math.ceil(l+c-t)}}return{x:u,y:c,h:l,w:a,excavation:d,opacity:h,crossOrigin:r.crossOrigin}}(e,l,t,a);return{cells:e,margin:t,numCells:n,calculatedImageSettings:r}}),[u,l,a,s,o]);return{qrcode:u,margin:h,cells:c,numCells:d,calculatedImageSettings:f}}var pp=function(){try{(new Path2D).addPath(new Path2D)}catch(Ap){return!1}return!0}(),gp=i.forwardRef((function(e,t){const n=e,{value:r,size:s=sp,level:o=op,bgColor:a=ap,fgColor:l=lp,includeMargin:u=up,minVersion:c=cp,marginSize:h,imageSettings:d}=n,f=np(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","marginSize","imageSettings"]),{style:p}=f,g=np(f,["style"]),m=null==d?void 0:d.src,v=i.useRef(null),y=i.useRef(null),_=i.useCallback((e=>{v.current=e,"function"===typeof t?t(e):t&&(t.current=e)}),[t]),[b,w]=i.useState(!1),{margin:x,cells:C,numCells:S,calculatedImageSettings:E}=fp({value:r,level:o,minVersion:c,includeMargin:u,marginSize:h,imageSettings:d,size:s});i.useEffect((()=>{if(null!=v.current){const e=v.current,t=e.getContext("2d");if(!t)return;let n=C;const r=y.current,i=null!=E&&null!==r&&r.complete&&0!==r.naturalHeight&&0!==r.naturalWidth;i&&null!=E.excavation&&(n=dp(C,E.excavation));const o=window.devicePixelRatio||1;e.height=e.width=s*o;const u=s/S*o;t.scale(u,u),t.fillStyle=a,t.fillRect(0,0,S,S),t.fillStyle=l,pp?t.fill(new Path2D(hp(n,x))):C.forEach((function(e,n){e.forEach((function(e,r){e&&t.fillRect(r+x,n+x,1,1)}))})),E&&(t.globalAlpha=E.opacity),i&&t.drawImage(r,E.x+x,E.y+x,E.w,E.h)}})),i.useEffect((()=>{w(!1)}),[m]);const k=tp({height:s,width:s},p);let T=null;return null!=m&&(T=i.createElement("img",{src:m,key:m,style:{display:"none"},onLoad:()=>{w(!0)},ref:y,crossOrigin:null==E?void 0:E.crossOrigin})),i.createElement(i.Fragment,null,i.createElement("canvas",tp({style:k,height:s,width:s,ref:_,role:"img"},g)),T)}));gp.displayName="QRCodeCanvas",i.forwardRef((function(e,t){const n=e,{value:r,size:s=sp,level:o=op,bgColor:a=ap,fgColor:l=lp,includeMargin:u=up,minVersion:c=cp,title:h,marginSize:d,imageSettings:f}=n,p=np(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","title","marginSize","imageSettings"]),{margin:g,cells:m,numCells:v,calculatedImageSettings:y}=fp({value:r,level:o,minVersion:c,includeMargin:u,marginSize:d,imageSettings:f,size:s});let _=m,b=null;null!=f&&null!=y&&(null!=y.excavation&&(_=dp(m,y.excavation)),b=i.createElement("image",{href:f.src,height:y.h,width:y.w,x:y.x+g,y:y.y+g,preserveAspectRatio:"none",opacity:y.opacity,crossOrigin:y.crossOrigin}));const w=hp(_,g);return i.createElement("svg",tp({height:s,width:s,viewBox:`0 0 ${v} ${v}`,ref:t,role:"img"},p),!!h&&i.createElement("title",null,h),i.createElement("path",{fill:a,d:`M0,0 h${v}v${v}H0z`,shapeRendering:"crispEdges"}),i.createElement("path",{fill:l,d:w,shapeRendering:"crispEdges"}),b)})).displayName="QRCodeSVG";const mp=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[u,c]=(0,i.useState)(""),[h,d]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),[g,m]=(0,i.useState)(""),[v,y]=(0,i.useState)(""),[_,b]=(0,i.useState)(""),[w,x]=(0,i.useState)(""),[C,S]=(0,i.useState)(!1),E=(0,i.useRef)(),k=ne(),T=e=>{b(e)},I=(e,t)=>{t(e.target.value)},N=()=>{const t=E.current.querySelector("canvas").toDataURL("image/png"),n=document.createElement("a");n.href=t,n.download=`${e}_${s}_QRCode.png`,n.click()};return(0,Se.jsxs)("div",{children:[(0,Se.jsx)(Ee,{}),(0,Se.jsx)(Lf,{}),(0,Se.jsx)("header",{className:"header",children:(0,Se.jsx)("div",{className:"header-content",children:(0,Se.jsx)("h1",{children:"Employee Management"})})}),(0,Se.jsx)("div",{className:"holder",children:(0,Se.jsxs)("div",{className:"transparent-box",children:[(0,Se.jsx)("center",{children:(0,Se.jsx)("h2",{children:"Add Employee"})}),(0,Se.jsxs)("form",{className:"employee-form",onSubmit:i=>{i.preventDefault();Uh(Mh(Of,"employees"),{employeeNumber:e,fullName:n,callingName:s,homeAddress:a,contactNumber1:u,contactNumber2:h,dateJoined:f,gender:g,designation:v,workType:_,lineAllocation:w}).then((()=>{console.log("Data added successfully"),t(""),r(""),o(""),l(""),c(""),d(""),p(""),m(""),y(""),b(""),x("")})).catch((e=>{console.error("Error adding data: ",e)})),k("/pages/EmployeeHome")},children:[(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Employee Number"}),(0,Se.jsx)("input",{type:"text",placeholder:"Employee Number",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Employee Full Name"}),(0,Se.jsx)("input",{type:"text",placeholder:"Employee Full Name",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Calling Name"}),(0,Se.jsx)("input",{type:"text",placeholder:"Calling Name",value:s,onChange:e=>o(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Home Address"}),(0,Se.jsx)("input",{type:"text",placeholder:"Home Address",value:a,onChange:e=>l(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Contact Number 1"}),(0,Se.jsx)("input",{type:"text",placeholder:"Contact Number 1",value:u,onChange:e=>I(e,c),onBlur:()=>{/^\d{10}$/.test(u)||alert("Invalid Number")},required:!0})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Contact Number 2"}),(0,Se.jsx)("input",{type:"text",placeholder:"Contact Number 2 (Optional)",value:h,onChange:e=>I(e,d)})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Date of Joined"}),(0,Se.jsx)("input",{type:"date",placeholder:"Date of Joined",value:f,onChange:e=>p(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Gender"}),(0,Se.jsxs)("div",{className:"radio-group",children:[(0,Se.jsx)("input",{type:"radio",id:"male",name:"gender",value:"male",checked:"male"===g,onChange:e=>m(e.target.value)}),(0,Se.jsx)("label",{htmlFor:"male",children:"Male"}),(0,Se.jsx)("input",{type:"radio",id:"female",name:"gender",value:"female",checked:"female"===g,onChange:e=>m("female")}),(0,Se.jsx)("label",{htmlFor:"female",children:"Female"})]})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Designation"}),(0,Se.jsxs)("select",{value:v,onChange:e=>y(e.target.value),required:!0,children:[(0,Se.jsx)("option",{value:"",children:"Select Designation"}),(0,Se.jsx)("option",{value:"Manager",children:"Manager"}),(0,Se.jsx)("option",{value:"Machine Operator",children:"Machine Operator"}),(0,Se.jsx)("option",{value:"Training Machine Operator",children:"Training Machine Operator"}),(0,Se.jsx)("option",{value:"Quality Checker",children:"Quality Checker"}),(0,Se.jsx)("option",{value:"Helper",children:"Helper"})]})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Direct/Indirect"}),(0,Se.jsxs)("div",{className:"checkbox-group",children:[(0,Se.jsx)("input",{type:"checkbox",id:"direct",name:"direct",checked:"Direct"===_,onChange:()=>T("Direct")}),(0,Se.jsx)("label",{htmlFor:"direct",children:"Direct"}),(0,Se.jsx)("input",{type:"checkbox",id:"indirect",name:"indirect",checked:"Indirect"===_,onChange:()=>T("Indirect")}),(0,Se.jsx)("label",{htmlFor:"indirect",children:"Indirect"})]})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Employee Line Allocation"}),(0,Se.jsxs)("select",{value:w,onChange:e=>x(e.target.value),required:!0,children:[(0,Se.jsx)("option",{value:"",disabled:!0,children:"Select a line"}),(0,Se.jsx)("option",{value:"Line 1",children:"Line 1"}),(0,Se.jsx)("option",{value:"Line 2",children:"Line 2"}),(0,Se.jsx)("option",{value:"Line 3",children:"Line 3"}),(0,Se.jsx)("option",{value:"Line 4",children:"Line 4"}),(0,Se.jsx)("option",{value:"Line 5",children:"Line 5"}),(0,Se.jsx)("option",{value:"Line 6",children:"Line 6"})]})]}),(0,Se.jsx)("button",{type:"submit",children:"Add"}),(0,Se.jsx)("button",{type:"button",className:"generate-qr-code",onClick:()=>{S(!0),setTimeout(N,100)},children:"Generate & Download QR Code"}),C&&(0,Se.jsx)("div",{className:"qr-code",ref:E,style:{display:"none"},children:(0,Se.jsx)(gp,{value:`Employee Number: ${e}, Calling Name: ${s}`,size:256,level:"H"})})]})]})})]})};function vp(){return(0,Se.jsx)("div",{children:(0,Se.jsx)(mp,{})})}const yp=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)([]),[a,l]=(0,i.useState)(null),[u,c]=(0,i.useState)(!1),h=ne();(0,i.useEffect)((()=>{Qh(Mh(Of,"employees"),(e=>{const n=e.val();if(n){const e=Object.keys(n).map((e=>({id:e,...n[e]})));t(e),o(e)}}))}),[]);const d=e=>{const t=new Date(e),n=new Date;let r=n.getFullYear()-t.getFullYear(),i=n.getMonth()-t.getMonth();return i<0&&(r--,i+=12),0===r?`${i} months`:`${r} years ${i} months`};return(0,Se.jsxs)("div",{children:[(0,Se.jsxs)("div",{children:[(0,Se.jsx)("input",{type:"text",placeholder:"Search by Employee Number or Full Name",value:n,onChange:e=>r(e.target.value)}),(0,Se.jsx)("button",{onClick:()=>{if(""===n.trim())o(e),l(null),c(!1);else{const t=e.filter((e=>e.employeeNumber.includes(n)||e.fullName.toLowerCase().includes(n.toLowerCase())));o(t),1===t.length?(l(t[0]),c(!0)):(l(null),c(!1))}},children:"Search"})]}),s.length>0?(0,Se.jsxs)("table",{border:"1",children:[(0,Se.jsx)("thead",{children:(0,Se.jsxs)("tr",{children:[(0,Se.jsx)("th",{children:"Employee Number"}),(0,Se.jsx)("th",{children:"Full Name"}),(0,Se.jsx)("th",{children:"Calling Name"}),(0,Se.jsx)("th",{children:"Home Address"}),(0,Se.jsx)("th",{children:"Contact Number-1"}),(0,Se.jsx)("th",{children:"Contact Number-2"}),(0,Se.jsx)("th",{children:"Date Joined"}),(0,Se.jsx)("th",{children:"Experience"}),(0,Se.jsx)("th",{children:"Gender"}),(0,Se.jsx)("th",{children:"Designation"}),(0,Se.jsx)("th",{children:"Direct Or Indirect"}),(0,Se.jsx)("th",{children:"Line Allocation"})]})}),(0,Se.jsx)("tbody",{children:s.map((e=>(0,Se.jsxs)("tr",{children:[(0,Se.jsx)("td",{children:e.employeeNumber}),(0,Se.jsx)("td",{children:e.fullName}),(0,Se.jsx)("td",{children:e.callingName}),(0,Se.jsx)("td",{children:e.homeAddress}),(0,Se.jsx)("td",{children:e.contactNumber1}),(0,Se.jsx)("td",{children:e.contactNumber2}),(0,Se.jsx)("td",{children:e.dateJoined}),(0,Se.jsx)("td",{children:d(e.dateJoined)}),(0,Se.jsx)("td",{children:e.gender}),(0,Se.jsx)("td",{children:e.designation}),(0,Se.jsx)("td",{children:e.workType}),(0,Se.jsx)("td",{children:e.lineAllocation})]},e.id)))})]}):(0,Se.jsx)("p",{children:"No employee data available"}),a&&(0,Se.jsxs)("div",{children:[u&&(0,Se.jsx)("button",{onClick:()=>{a&&h("/edit-employee",{state:{employeeData:a}})},children:"Edit Employee"}),(0,Se.jsx)("button",{onClick:()=>{if(a){if(window.confirm("Are you sure you want to remove this employee?")){zh(Mh(Of,`employees/${a.id}`)).then((()=>{alert("Employee deleted successfully");const n=e.filter((e=>e.id!==a.id));t(n),o(n),l(null),c(!1)})).catch((e=>{console.error("Error deleting employee:",e)}))}}},children:"Delete Selected Employee"})]})]})};function _p(){const e=ne();return(0,Se.jsxs)("div",{className:"holder",children:[(0,Se.jsxs)("div",{children:[(0,Se.jsx)(Ee,{}),(0,Se.jsx)(Lf,{}),(0,Se.jsx)("center",{children:(0,Se.jsx)("h2",{children:"Employee List"})}),(0,Se.jsx)("button",{className:"AddEmp",onClick:()=>e("/pages/AddEmployee"),children:"Add Employee"}),(0,Se.jsx)(yp,{})]}),(0,Se.jsx)("div",{className:"footer",children:(0,Se.jsx)("p",{children:"\xa9 2024 Delta Apparels"})})]})}const bp=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)([]),[a,l]=(0,i.useState)(!1),u=ne();(0,i.useEffect)((()=>{Qh(Mh(Of,"orders"),(e=>{const n=e.val();if(n){const e=Object.keys(n).map((e=>({id:e,...n[e]}))).sort(((e,t)=>new Date(t.psd)-new Date(e.psd)));t(e),o(e)}}))}),[]);return(0,Se.jsxs)("div",{children:[(0,Se.jsxs)("div",{children:[(0,Se.jsx)("input",{type:"text",placeholder:"Search by Order Number or Customer Name",value:n,onChange:e=>r(e.target.value)}),(0,Se.jsx)("button",{onClick:()=>{if(""===n.trim()){const t=[...e].sort(((e,t)=>new Date(t.psd)-new Date(e.psd)));o(t),l(!1)}else{const t=e.filter((e=>e.orderNumber.includes(n)||e.customer.toLowerCase().includes(n.toLowerCase()))).sort(((e,t)=>new Date(t.psd)-new Date(e.psd)));o(t),l(t.length>0)}},children:"Search"})]}),s.length>0?(0,Se.jsxs)(Se.Fragment,{children:[(0,Se.jsxs)("table",{border:"1",children:[(0,Se.jsx)("thead",{children:(0,Se.jsxs)("tr",{children:[(0,Se.jsx)("th",{children:"Order Number"}),(0,Se.jsx)("th",{children:"Customer"}),(0,Se.jsx)("th",{children:"Order Type"}),(0,Se.jsx)("th",{children:"Order Category"}),(0,Se.jsx)("th",{children:"Style Number"}),(0,Se.jsx)("th",{children:"Product Category"}),(0,Se.jsx)("th",{children:"Colour"}),(0,Se.jsx)("th",{children:"Size"}),(0,Se.jsx)("th",{children:"SMV"}),(0,Se.jsx)("th",{children:"Ithaly PO"}),(0,Se.jsx)("th",{children:"Production PO"}),(0,Se.jsx)("th",{children:"Order Quantity"}),(0,Se.jsx)("th",{children:"PSD"}),(0,Se.jsx)("th",{children:"Colour Code"}),(0,Se.jsx)("th",{children:"PED"}),a&&(0,Se.jsx)("th",{children:"Actions"})," "]})}),(0,Se.jsx)("tbody",{children:s.map((n=>(0,Se.jsxs)("tr",{children:[(0,Se.jsx)("td",{children:n.orderNumber}),(0,Se.jsx)("td",{children:n.customer}),(0,Se.jsx)("td",{children:n.orderType}),(0,Se.jsx)("td",{children:n.orderCategory}),(0,Se.jsx)("td",{children:n.styleNumber}),(0,Se.jsx)("td",{children:n.productCategory}),(0,Se.jsx)("td",{children:n.colour}),(0,Se.jsx)("td",{children:n.size}),(0,Se.jsx)("td",{children:n.smv}),(0,Se.jsx)("td",{children:n.ithalyPO}),(0,Se.jsx)("td",{children:n.productionPO}),(0,Se.jsx)("td",{children:n.orderQuantity}),(0,Se.jsx)("td",{children:n.psd}),(0,Se.jsx)("td",{children:n.colourCode}),(0,Se.jsx)("td",{children:n.ped}),a&&(0,Se.jsxs)("td",{children:[(0,Se.jsx)("button",{onClick:()=>(e=>{const t=s.find((t=>t.id===e));u("/editOrder",{state:{orderData:t}})})(n.id),children:"Edit"}),(0,Se.jsx)("button",{onClick:()=>{return r=n.id,void(window.confirm("Are you sure you want to delete this order?")&&zh(Mh(Of,`orders/${r}`)).then((()=>{alert("Order deleted successfully");const n=e.filter((e=>e.id!==r));t(n),o(n),l(!1)})).catch((e=>{console.error("Error deleting order:",e)})));var r},children:"Delete"})]})]},n.id)))})]}),a&&(0,Se.jsx)("div",{children:(0,Se.jsx)("button",{onClick:()=>{if(s.length>0){const e=s[0];u("/addSizeInSameOrder",{state:{orderData:e}})}},children:"Add Another Size"})})]}):(0,Se.jsx)("p",{children:"No order data available"})]})};function wp(){const e=ne();return(0,Se.jsxs)("div",{className:"holder",children:[(0,Se.jsx)(Ee,{}),(0,Se.jsx)(Lf,{}),(0,Se.jsx)("center",{children:(0,Se.jsx)("h2",{children:" Order List"})}),(0,Se.jsx)("button",{className:"AddOrder",onClick:()=>e("/components/Orderdetails"),children:"Add Order"}),(0,Se.jsx)(bp,{})]})}const xp=function(){const e=ne(),[t,n]=(0,i.useState)([{id:1,efficiency:"58%",incentive:"67/=",quality:"1"},{id:2,efficiency:"58%",incentive:"67/=",quality:"1"},{id:3,efficiency:"58%",incentive:"67/=",quality:"1"},{id:4,efficiency:"58%",incentive:"67/=",quality:"1"},{id:5,efficiency:"58%",incentive:"67/=",quality:"1"},{id:6,efficiency:"58%",incentive:"67/=",quality:"1"}]),r=t=>e(t),s=(e,r,i)=>{n(t.map((t=>t.id===e?{...t,[r]:i}:t)))};return(0,Se.jsxs)("div",{className:"App",children:[(0,Se.jsx)(Ee,{}),(0,Se.jsx)(Lf,{}),(0,Se.jsx)("header",{className:"App-header",children:(0,Se.jsx)("h1",{children:"Admin Home"})}),(0,Se.jsxs)("div",{className:"sidebar",children:[(0,Se.jsx)("button",{className:"sidebar-button",onClick:()=>r("/pages/EmployeeHome"),children:"Employee Details"}),(0,Se.jsx)("button",{className:"sidebar-button",onClick:()=>r("/pages/OrderHome"),children:"Orderdetails"}),(0,Se.jsx)("button",{className:"sidebar-button",children:"Cutting"}),(0,Se.jsx)("button",{className:"sidebar-button",children:"Bundle"}),(0,Se.jsx)("button",{className:"sidebar-button",children:"Shift"}),(0,Se.jsx)("button",{className:"sidebar-button",onClick:()=>r("/components/AddNewUser"),children:"Add new User"})]}),(0,Se.jsxs)("div",{className:"main-content",children:[(0,Se.jsxs)("div",{className:"line-item",children:[(0,Se.jsx)("div",{className:"line-name1",children:"Line"}),(0,Se.jsx)("div",{className:"line-detail1",children:"Efficiency"}),(0,Se.jsx)("div",{className:"line-detail1",children:"Incentive"}),(0,Se.jsx)("div",{className:"line-detail1",children:"Quality"})]}),t.map((e=>(0,Se.jsxs)("div",{className:"line-item",children:[(0,Se.jsxs)("div",{className:"line-name",children:["Line ",e.id]}),(0,Se.jsx)("div",{className:"line-detail",children:(0,Se.jsx)("input",{type:"text",value:e.efficiency,onChange:t=>s(e.id,"efficiency",t.target.value)})}),(0,Se.jsx)("div",{className:"line-detail",children:(0,Se.jsx)("input",{type:"text",value:e.incentive,onChange:t=>s(e.id,"incentive",t.target.value)})}),(0,Se.jsx)("div",{className:"line-detail",children:(0,Se.jsx)("input",{type:"text",value:e.quality,onChange:t=>s(e.id,"quality",t.target.value)})})]},e.id)))]})]})},Cp=()=>{const e=ee(),{employeeData:t}=e.state||{},[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[u,c]=(0,i.useState)(""),[h,d]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),[g,m]=(0,i.useState)(""),[v,y]=(0,i.useState)(""),[_,b]=(0,i.useState)(""),[w,x]=(0,i.useState)(""),[C,S]=(0,i.useState)(""),E=ne();(0,i.useEffect)((()=>{t&&(r(t.employeeNumber||""),o(t.fullName||""),l(t.callingName||""),c(t.homeAddress||""),d(t.contactNumber1||""),p(t.contactNumber2||""),m(t.dateJoined||""),y(t.gender||""),b(t.designation||""),x(t.workType||""),S(t.lineAllocation||""))}),[t]);const k=e=>{"Direct"===e?x("Direct"):"Indirect"===e&&x("Indirect")},T=(e,t)=>{t(e.target.value)},I=e=>{10===e.replace(/\D/g,"").length?console.log("Phone number is valid"):(console.log("Phone number is invalid"),alert("Invalid Number"))};return(0,Se.jsxs)("div",{children:[(0,Se.jsx)(Ee,{}),(0,Se.jsx)(Lf,{}),(0,Se.jsx)("header",{className:"header",children:(0,Se.jsx)("div",{className:"header-content",children:(0,Se.jsx)("h1",{children:"Employee Management"})})}),(0,Se.jsx)("div",{className:"holder",children:(0,Se.jsxs)("div",{className:"transparent-box",children:[(0,Se.jsx)("center",{children:(0,Se.jsx)("h2",{children:"Edit Employee Data"})}),(0,Se.jsxs)("form",{className:"employee-form",onSubmit:e=>{if(e.preventDefault(),t&&t.id){qh(Mh(Of,`employees/${t.id}`),{employeeNumber:n,fullName:s,callingName:a,homeAddress:u,contactNumber1:h,contactNumber2:f,dateJoined:g,gender:v,designation:_,workType:w,lineAllocation:C}).then((()=>{alert("Employee data updated successfully"),E("/pages/EmployeeHome")})).catch((e=>{console.error("Error updating employee data:",e)}))}},children:[(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Employee Number"}),(0,Se.jsx)("input",{type:"text",placeholder:"Employee Number",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Employee Full Name"}),(0,Se.jsx)("input",{type:"text",placeholder:"Employee Full Name",value:s,onChange:e=>o(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Calling Name"}),(0,Se.jsx)("input",{type:"text",placeholder:"Calling Name",value:a,onChange:e=>l(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Home Address"}),(0,Se.jsx)("input",{type:"text",placeholder:"Home Address",value:u,onChange:e=>c(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Contact Number 1"}),(0,Se.jsx)("input",{type:"text",placeholder:"Contact Number 1",value:h,onChange:e=>T(e,d),onBlur:()=>I(h),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Contact Number 2"}),(0,Se.jsx)("input",{type:"text",placeholder:"Contact Number 2 (Optional)",value:f,onChange:e=>T(e,p),onBlur:()=>I(f)})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Date of Joined"}),(0,Se.jsx)("input",{type:"date",placeholder:"Date of Joined",value:g,onChange:e=>{m(e.target.value),(e=>{4===e.target.value.length&&(e.target.value+="-")})(e)},required:!0,max:"9999-12-31"})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Gender"}),(0,Se.jsxs)("div",{className:"radio-group",children:[(0,Se.jsx)("input",{type:"radio",id:"male",name:"gender",value:"male",checked:"male"===v,onChange:e=>y(e.target.value)}),(0,Se.jsx)("label",{htmlFor:"male",children:"Male"}),(0,Se.jsx)("input",{type:"radio",id:"female",name:"gender",value:"female",checked:"female"===v,onChange:()=>y("female")}),(0,Se.jsx)("label",{htmlFor:"female",children:"Female"})]})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Designation"}),(0,Se.jsxs)("select",{value:_,onChange:e=>b(e.target.value),required:!0,children:[(0,Se.jsx)("option",{value:"",children:"Select Designation"}),(0,Se.jsx)("option",{value:"Manager",children:"Manager"}),(0,Se.jsx)("option",{value:"Machine Operator",children:"Machine Operator"}),(0,Se.jsx)("option",{value:"Tranning Machine Operator",children:"tranning Machine Operator"}),(0,Se.jsx)("option",{value:"Quality Checker",children:"Quality Checker"}),(0,Se.jsx)("option",{value:"Helper",children:"Helper"}),(0,Se.jsx)("option",{value:""}),(0,Se.jsx)("option",{value:""}),(0,Se.jsx)("option",{value:""}),(0,Se.jsx)("option",{value:""}),(0,Se.jsx)("option",{value:""}),(0,Se.jsx)("option",{value:""})]})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Direct/ Indirect"}),(0,Se.jsxs)("div",{className:"checkbox-group",children:[(0,Se.jsx)("input",{type:"checkbox",id:"direct",name:"direct",checked:"Direct"===w,onChange:()=>k("Direct")}),(0,Se.jsx)("label",{htmlFor:"direct",children:"Direct"}),(0,Se.jsx)("input",{type:"checkbox",id:"indirect",name:"indirect",checked:"Indirect"===w,onChange:()=>k("Indirect")}),(0,Se.jsx)("label",{htmlFor:"indirect",children:"Indirect"})]})]}),(0,Se.jsxs)("div",{className:"form-group2",children:[(0,Se.jsx)("label",{children:"Employee Line Allocation"}),(0,Se.jsxs)("select",{value:C,onChange:e=>S(e.target.value),required:!0,children:[(0,Se.jsx)("option",{value:"",disabled:!0,children:"Select a line"}),(0,Se.jsx)("option",{value:"Line 1",children:"Line 1"}),(0,Se.jsx)("option",{value:"Line 2",children:"Line 2"}),(0,Se.jsx)("option",{value:"Line 3",children:"Line 3"}),(0,Se.jsx)("option",{value:"Line 4",children:"Line 4"}),(0,Se.jsx)("option",{value:"Line 5",children:"Line 5"}),(0,Se.jsx)("option",{value:"Line 6",children:"Line 6"}),(0,Se.jsx)("option",{value:"Line 1",children:"Line 1"}),(0,Se.jsx)("option",{value:"Line 2",children:"Line 2"}),(0,Se.jsx)("option",{value:"Line 3",children:"Line 3"}),(0,Se.jsx)("option",{value:"Line 4",children:"Line 4"}),(0,Se.jsx)("option",{value:"Line 5",children:"Line 5"}),(0,Se.jsx)("option",{value:"Line 6",children:"Line 6"})]})]}),(0,Se.jsx)("button",{type:"submit",children:"Save"})]})]})})]})},Sp=()=>{const e=ee(),{orderData:t}=e.state||{},[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[u,c]=(0,i.useState)(""),[h,d]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),[g,m]=(0,i.useState)(""),[v,y]=(0,i.useState)(""),[_,b]=(0,i.useState)(""),[w,x]=(0,i.useState)(""),[C,S]=(0,i.useState)(""),[E,k]=(0,i.useState)(""),[T,I]=(0,i.useState)(""),[N,P]=(0,i.useState)(""),[j,O]=(0,i.useState)(""),[R,A]=(0,i.useState)(""),[D,L]=(0,i.useState)(""),[M,F]=(0,i.useState)(!1),[U,z]=(0,i.useState)(!1),$=ne();(0,i.useEffect)((()=>{t&&(r(t.orderNumber||""),o(t.customer||""),l(t.orderType||""),c(t.customOrderType||""),d(t.orderCategory||""),p(t.customOrderCategory||""),m(t.styleNumber||""),y(t.productCategory||""),b(t.colour||""),x(t.size||""),S(t.smv||""),k(t.ithalyPO||""),I(t.orderQuantity||""),P(t.colourCode||""),O(t.productionPO||""),A(t.psd||""),L(t.ped||""))}),[t]);const q=e=>{4===e.target.value.length&&(e.target.value+="-")};return(0,Se.jsxs)("div",{children:[(0,Se.jsx)(Ee,{}),(0,Se.jsx)(Lf,{}),(0,Se.jsx)("div",{className:"holder",children:(0,Se.jsx)("div",{className:"wrapper",children:(0,Se.jsxs)("div",{className:"transparent-box",children:[(0,Se.jsx)("h2",{children:"Add Order"}),(0,Se.jsxs)("form",{className:"order-form",onSubmit:e=>{if(e.preventDefault(),t&&t.id){qh(Mh(Of,`orders/${t.id}`),{orderNumber:n,customer:s,orderType:M?u:a,orderCategory:U?f:h,styleNumber:g,productCategory:v,colour:_,size:w,smv:C,ithalyPO:E,orderQuantity:T,colourCode:N,productionPO:j,psd:R,ped:D}).then((()=>{alert("Order data updated successfully"),$("/pages/OrderHome")})).catch((e=>{console.error("Error updating order data:",e)}))}},children:[(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Order Number"}),(0,Se.jsx)("input",{type:"text",placeholder:"Order Number",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Customer"}),(0,Se.jsx)("input",{type:"text",placeholder:"Customer",value:s,onChange:e=>o(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Order Type"}),M?(0,Se.jsx)("input",{type:"text",placeholder:"Enter Order Type",value:u,onChange:e=>c(e.target.value),required:!0}):(0,Se.jsxs)("select",{value:a,onChange:e=>{const t=e.target.value;l(t),"Other"===t?(F(!0),c("")):F(!1)},required:!0,children:[(0,Se.jsx)("option",{value:"",children:"Select Order Type"}),(0,Se.jsx)("option",{value:"External",children:"External"}),(0,Se.jsx)("option",{value:"Internal",children:"Internal"}),(0,Se.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Order Category"}),U?(0,Se.jsx)("input",{type:"text",placeholder:"Enter Order Category",value:f,onChange:e=>p(e.target.value),required:!0}):(0,Se.jsxs)("select",{value:h,onChange:e=>{const t=e.target.value;d(t),"Other"===t?(z(!0),p("")):z(!1)},required:!0,children:[(0,Se.jsx)("option",{value:"",children:"Select Order Category"}),(0,Se.jsx)("option",{value:"1st Quality",children:"1st Quality"}),(0,Se.jsx)("option",{value:"Outlet",children:"Outlet"}),(0,Se.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Style Number"}),(0,Se.jsx)("input",{type:"text",placeholder:"Style Number",value:g,onChange:e=>m(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Product Category"}),(0,Se.jsx)("input",{type:"text",placeholder:"Product Category",value:v,onChange:e=>y(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Colour"}),(0,Se.jsx)("input",{type:"text",placeholder:"Colour",value:_,onChange:e=>b(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Size"}),(0,Se.jsx)("input",{type:"text",placeholder:"Size",value:w,onChange:e=>x(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"SMV"}),(0,Se.jsx)("input",{type:"text",placeholder:"SMV",value:C,onChange:e=>S(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Ithaly PO"}),(0,Se.jsx)("input",{type:"text",placeholder:"Ithaly PO",value:E,onChange:e=>k(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Order Quantity"}),(0,Se.jsx)("input",{type:"text",placeholder:"Order Quantity",value:T,onChange:e=>I(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Colour Code"}),(0,Se.jsx)("input",{type:"text",placeholder:"Colour Code",value:N,onChange:e=>P(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Production PO"}),(0,Se.jsx)("input",{type:"text",placeholder:"Production PO",value:j,onChange:e=>O(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"PSD"}),(0,Se.jsx)("input",{type:"date",placeholder:"PSD",value:R,onChange:e=>{A(e.target.value),q(e)},required:!0,max:"9999-12-31"})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"PED"}),(0,Se.jsx)("input",{type:"date",placeholder:"PED",value:D,onChange:e=>{L(e.target.value),q(e)},required:!0,max:"9999-12-31"})]}),(0,Se.jsx)("button",{type:"submit",children:"Save"})]})]})})})]})},Ep=()=>{const e=ee(),{orderData:t}=e.state||{},[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[u,c]=(0,i.useState)(""),[h,d]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),[g,m]=(0,i.useState)(""),[v,y]=(0,i.useState)(""),[_,b]=(0,i.useState)(""),[w,x]=(0,i.useState)(""),[C,S]=(0,i.useState)(""),[E,k]=(0,i.useState)(""),[T,I]=(0,i.useState)(""),[N,P]=(0,i.useState)(""),[j,O]=(0,i.useState)(""),[R,A]=(0,i.useState)(""),[D,L]=(0,i.useState)(""),[M,F]=(0,i.useState)(!1),[U,z]=(0,i.useState)(!1),$=ne(),[q,B]=(0,i.useState)(!1);(0,i.useEffect)((()=>{t&&(r(t.orderNumber||""),o(t.customer||""),l(t.orderType||""),c(t.customOrderType||""),d(t.orderCategory||""),p(t.customOrderCategory||""),m(t.styleNumber||""),y(t.productCategory||""),b(t.colour||""),x(t.size||""),S(t.smv||""),k(t.ithalyPO||""),I(t.orderQuantity||""),P(t.colourCode||""),O(t.productionPO||""),A(t.psd||""),L(t.ped||""))}),[t]);const H=e=>{e.preventDefault();Uh(Mh(Of,"orders"),{orderNumber:n,customer:s,orderType:M?u:a,orderCategory:U?f:h,styleNumber:g,productCategory:v,colour:_,size:w,smv:C,italyPO:E,orderQuantity:T,colourCode:N,productionPO:j,psd:R,ped:D}).then((()=>{console.log("Order added successfully"),r(""),o(""),l(""),c(""),d(""),p(""),m(""),y(""),b(""),x(""),S(""),k(""),I(""),P(""),O(""),A(""),L("")})).catch((e=>{console.error("Error adding order: ",e)})),$("/pages/OrderHome")},V=e=>{4===e.target.value.length&&(e.target.value+="-")};return(0,Se.jsxs)("div",{children:[(0,Se.jsx)(Ee,{}),(0,Se.jsx)(Lf,{}),(0,Se.jsxs)("div",{className:"holder",children:[(0,Se.jsx)("button",{onClick:()=>{B(!q)},children:q?"Change size only ":"Edit all data"}),(0,Se.jsx)("div",{className:"wrapper",children:q?(0,Se.jsxs)("div",{className:"transparent-box",children:[(0,Se.jsx)("h2",{children:"Add Order"}),(0,Se.jsxs)("form",{className:"order-form",onSubmit:H,children:[(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Order Number"}),(0,Se.jsx)("input",{type:"text",placeholder:"Order Number",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Customer"}),(0,Se.jsx)("input",{type:"text",placeholder:"Customer",value:s,onChange:e=>o(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Order Type"}),M?(0,Se.jsx)("input",{type:"text",placeholder:"Enter Order Type",value:u,onChange:e=>c(e.target.value),required:!0}):(0,Se.jsxs)("select",{value:a,onChange:e=>{const t=e.target.value;l(t),"Other"===t?(F(!0),c("")):F(!1)},required:!0,children:[(0,Se.jsx)("option",{value:"",children:"Select Order Type"}),(0,Se.jsx)("option",{value:"External",children:"External"}),(0,Se.jsx)("option",{value:"Internal",children:"Internal"}),(0,Se.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Order Category"}),U?(0,Se.jsx)("input",{type:"text",placeholder:"Enter Order Category",value:f,onChange:e=>p(e.target.value),required:!0}):(0,Se.jsxs)("select",{value:h,onChange:e=>{const t=e.target.value;d(t),"Other"===t?(z(!0),p("")):z(!1)},required:!0,children:[(0,Se.jsx)("option",{value:"",children:"Select Order Category"}),(0,Se.jsx)("option",{value:"1st Quality",children:"1st Quality"}),(0,Se.jsx)("option",{value:"Outlet",children:"Outlet"}),(0,Se.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Style Number"}),(0,Se.jsx)("input",{type:"text",placeholder:"Style Number",value:g,onChange:e=>m(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Product Category"}),(0,Se.jsx)("input",{type:"text",placeholder:"Product Category",value:v,onChange:e=>y(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Colour"}),(0,Se.jsx)("input",{type:"text",placeholder:"Colour",value:_,onChange:e=>b(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"SMV"}),(0,Se.jsx)("input",{type:"text",placeholder:"SMV",value:C,onChange:e=>S(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Colour Code"}),(0,Se.jsx)("input",{type:"text",placeholder:"Colour Code",value:N,onChange:e=>P(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"PSD"}),(0,Se.jsx)("input",{type:"date",placeholder:"PSD",value:R,onChange:e=>{A(e.target.value),V(e)},required:!0,max:"9999-12-31"})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"PED"}),(0,Se.jsx)("input",{type:"date",placeholder:"PED",value:D,onChange:e=>{L(e.target.value),V(e)},required:!0,max:"9999-12-31"})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Size"}),(0,Se.jsx)("input",{type:"text",placeholder:"Size",onChange:e=>x(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Italy PO"}),(0,Se.jsx)("input",{type:"text",placeholder:"Italy PO",onChange:e=>k(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Order Quantity"}),(0,Se.jsx)("input",{type:"text",placeholder:"Order Quantity",onChange:e=>I(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Production PO"}),(0,Se.jsx)("input",{type:"text",placeholder:"Production PO",onChange:e=>O(e.target.value),required:!0})]}),(0,Se.jsx)("button",{type:"submit",children:"Add New Order"})]})]}):(0,Se.jsxs)("div",{className:"transparent-box",children:[(0,Se.jsx)("h2",{children:"Add Order"}),(0,Se.jsxs)("form",{className:"order-form",onSubmit:H,children:[(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Order Number"}),(0,Se.jsx)("label",{children:n})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Customer"}),(0,Se.jsx)("label",{children:s})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Order Type"}),(0,Se.jsxs)("label",{children:[a," "]})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Order Category"}),(0,Se.jsxs)("label",{children:[h," "]})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Style Number"}),(0,Se.jsx)("label",{children:g})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Product Category"}),(0,Se.jsx)("label",{children:v})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Colour"}),(0,Se.jsx)("label",{children:_})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"SMV"}),(0,Se.jsx)("label",{children:C})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Colour Code"}),(0,Se.jsx)("label",{children:N})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"PSD"}),(0,Se.jsx)("label",{children:R})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"PED"}),(0,Se.jsx)("label",{children:D})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Size"}),(0,Se.jsx)("input",{type:"text",placeholder:"Size",onChange:e=>x(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Italy PO"}),(0,Se.jsx)("input",{type:"text",placeholder:"Italy PO",onChange:e=>k(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Order Quantity"}),(0,Se.jsx)("input",{type:"text",placeholder:"Order Quantity",onChange:e=>I(e.target.value),required:!0})]}),(0,Se.jsxs)("div",{className:"form-group1",children:[(0,Se.jsx)("label",{children:"Production PO"}),(0,Se.jsx)("input",{type:"text",placeholder:"Production PO",onChange:e=>O(e.target.value),required:!0})]}),(0,Se.jsx)("button",{type:"submit",children:"Add New Size"})]})]})})]})]})},kp=()=>{const[e,t]=(0,i.useState)("Line 1"),n=ne();return(0,Se.jsxs)("div",{children:[(0,Se.jsx)("h2",{children:"Select a Line"}),(0,Se.jsx)("select",{value:e,onChange:e=>t(e.target.value),children:Array.from({length:12},((e,t)=>(0,Se.jsxs)("option",{value:`Line ${t+1}`,children:["Line ",t+1]},t+1)))}),(0,Se.jsx)("button",{onClick:()=>{n("/pages/LineHome",{state:{selectedLine:e}})},children:"Select Line"})]})},Tp=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)([]),s=ee(),{selectedLine:o,orderNumber:a,italyPo:l,bundleId:u}=s.state||{};ne();(0,i.useEffect)((()=>{console.log("Selected Line:",o);Bh(td(Mh(Of,"employees"),Jh("lineAllocation"),ed(o))).then((e=>{if(e.exists()){const t=[];e.forEach((e=>{t.push(e.val())})),console.log("Employee Data:",t),r(t)}else console.log("No employees found for the selected line.")})).catch((e=>{console.error("Error fetching employee data:",e)}))}),[o]);const c=()=>{console.log("Selected Line:",o),console.log("Order Number:",a),console.log("Italy PO:",l),console.log("Bundle ID:",u);Bh(td(Mh(Of,`${o}`),Jh("orderId"),ed(a))).then((e=>{if(e.exists()){let t=null;if(e.forEach((e=>{const n=e.val();n.italyPo===l&&n.bundleId===u&&(t=e)})),t){const e=(t.val().hostMembers||0)+1;qh(t.ref,{hostMembers:e}).then((()=>{console.log("Host members count updated successfully!")})).catch((e=>{console.error("Error updating host members count:",e)}))}else console.log("No matching order found for the specified details.")}else console.log("Selected line does not exist in the database.")})).catch((e=>{console.error("Error fetching line data:",e)}))};return(0,Se.jsxs)("div",{children:[(0,Se.jsx)("label",{htmlFor:"idInput",children:"Enter ID:"}),(0,Se.jsx)("input",{id:"idInput",type:"tel",value:e,onChange:e=>{t(e.target.value)},pattern:"[0-9]*",inputMode:"numeric",placeholder:"Enter your ID"}),(0,Se.jsxs)("h2",{children:["Employees assigned to ",o]}),n.length>0?(0,Se.jsx)("ul",{children:n.map((e=>(0,Se.jsxs)("li",{children:[(0,Se.jsx)("strong",{children:e.fullName})," - ",e.designation,(0,Se.jsx)("button",{onClick:c,children:"Add to Line"})]},e.employeeNumber)))}):(0,Se.jsx)("p",{children:"No employees found for this line."})]})},Ip=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)([]),[a,l]=(0,i.useState)(!1),[u,c]=(0,i.useState)(!1),[h,d]=(0,i.useState)(!1),[f,p]=(0,i.useState)({}),[g,m]=(0,i.useState)({}),[v,y]=(0,i.useState)({}),[_,b]=(0,i.useState)({});(0,i.useEffect)((()=>{Qh(Mh(Of,"orders"),(e=>{const n=e.val();if(n){const e=Object.keys(n).map((e=>({id:e,...n[e]}))).sort(((e,t)=>new Date(t.psd)-new Date(e.psd)));t(e)}}))}),[]),(0,i.useEffect)((()=>{o([]),c(!1),d(!1)}),[n]);const w=(e,t,n,r)=>{const i=e.target.value;r((e=>({...e,[t]:i})))};(0,i.useEffect)((()=>{const e={};s.forEach((t=>{const n=parseFloat(g[t.id]||0),r=parseFloat(v[t.id]||0);e[t.id]=n*r})),b(e)}),[g,v,s]);const x=e=>e&&"string"===typeof e?e.replace(/[.#$/\[\]]/g,"_"):"default";return(0,Se.jsxs)("div",{children:[(0,Se.jsx)(Ee,{}),(0,Se.jsxs)("div",{children:[(0,Se.jsx)("input",{type:"text",placeholder:"Search by Order Number or Customer Name",value:n,onChange:e=>r(e.target.value),required:!0}),(0,Se.jsx)("button",{onClick:()=>{if(""===n.trim())return void alert("Please enter an Order Number or Customer Name to search.");const t=e.filter((e=>e.orderNumber.includes(n)||e.customer.toLowerCase().includes(n.toLowerCase())));0===t.length?(d(!0),o([])):(o(t),c(!0),d(!1))},children:"Search"})]}),h&&(0,Se.jsx)("p",{children:"No order with that order number."}),u&&(0,Se.jsxs)("div",{children:[(0,Se.jsxs)("table",{children:[(0,Se.jsx)("thead",{children:(0,Se.jsxs)("tr",{children:[(0,Se.jsx)("th",{children:"Order Number"}),(0,Se.jsx)("th",{children:"Size"}),(0,Se.jsx)("th",{children:"Style"}),(0,Se.jsx)("th",{children:"Color"}),(0,Se.jsx)("th",{children:"Color Code"}),(0,Se.jsx)("th",{children:"Production PO"}),(0,Se.jsx)("th",{children:"Italy PO"}),(0,Se.jsx)("th",{children:"Cut No"}),(0,Se.jsx)("th",{children:"No of Pieces"}),(0,Se.jsx)("th",{children:"Ratio"}),(0,Se.jsx)("th",{children:"Cut Quantity"}),a&&(0,Se.jsx)("th",{children:"Actions"})]})}),(0,Se.jsx)("tbody",{children:s.map((e=>(0,Se.jsxs)("tr",{children:[(0,Se.jsx)("td",{children:e.orderNumber}),(0,Se.jsx)("td",{children:e.size}),(0,Se.jsx)("td",{children:e.styleNumber}),(0,Se.jsx)("td",{children:e.colour}),(0,Se.jsx)("td",{children:e.colourCode}),(0,Se.jsx)("td",{children:e.productionPO}),(0,Se.jsx)("td",{children:e.italyPO}),(0,Se.jsx)("td",{children:(0,Se.jsx)("input",{type:"text",value:f[e.id]||"",onChange:t=>w(t,e.id,0,p)})}),(0,Se.jsx)("td",{children:(0,Se.jsx)("input",{type:"text",value:g[e.id]||"",onChange:t=>w(t,e.id,0,m)})}),(0,Se.jsx)("td",{children:(0,Se.jsx)("input",{type:"text",value:v[e.id]||"",onChange:t=>w(t,e.id,0,y)})}),(0,Se.jsxs)("td",{children:[_[e.id]||0," "]}),a&&(0,Se.jsx)("td",{})]},e.id)))})]}),(0,Se.jsx)("button",{onClick:()=>{s.forEach((e=>{const t=x(e.size),n=x(f[e.id]||""),r=x(e.productionPO),i=x(e.italyPO);if(console.log("italyPoKey:",i),t)if(n&&g[e.id]&&v[e.id]&&r&&i){const s=Mh(Of,`Cuttingdetails/${e.orderNumber}/productionPOs/${r}`),o={italyPo:i,cutNumbers:{[n]:{noOfPieces:g[e.id]||"",size:t,ratio:v[e.id]||""}}};Bh(s).then((e=>{const t=e.val()||{},n={...t,italyPo:i,cutNumbers:{...t.cutNumbers,...o.cutNumbers}};return $h(s,n)})).then((()=>{alert(`Data for order ${e.orderNumber}, productionPO ${r}, cutNumber ${n} saved successfully.`),p(""),b("0"),m(""),y("")})).catch((e=>{console.error("Error saving data:",e)}))}else console.warn(`Skipping save for order ${e.orderNumber} due to missing cut number, productionPO, or other required data.`);else console.warn(`Invalid size for order ${e.orderNumber}. Skipping save.`)})),s.forEach((e=>{const t=x(e.size),n=x(f[e.id]||""),r=v[e.id],i=g[e.id],s=x(e.productionPO),o=x(e.italyPO);if(!t||!n||!r||!i)return void console.warn(`Skipping bundle save for order ${e.orderNumber} due to missing data.`);const a=parseInt(r,10),l=Mh(Of,`BundleStore/${e.orderNumber}/${n}/sizes/${t}/bundles`);Bh(l).then((e=>{const t=e.val()||{},n={};for(let l=1;l<=a;l++)n[`bundle_${Date.now()}_${Math.floor(1e4*Math.random())}`]={noOfPieces:i,ratio:r,productionPo:s,italyPo:o};const u={...t,...n};return $h(l,u)})).then((()=>{alert(`Bundle data for order ${e.orderNumber} saved successfully.`),p(""),m(""),y("")})).catch((e=>{console.error("Error saving bundle data:",e)}))}))},className:"save-button",children:"Create Bunndle"})]})]})},Np=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)([]),[a,l]=(0,i.useState)({}),[u,c]=(0,i.useState)({}),[h,d]=(0,i.useState)([]),[f,p]=(0,i.useState)(!1),g=(e,t,n)=>{if(!e||!t)return void alert("Please provide both Bundle ID and Line.");const r=u[e]||e;if(!r||r===e)return void alert("Please enter a Bundle ID.");const i=Mh(Of,`BundleStore/${n.orderNumber}/${n.cutNumber}/sizes/${n.size}/bundles/${e}`),s=Mh(Of,`Inqueue/${t}/${r}`);zh(i).then((()=>(console.log(`Old Bundle ID ${e} removed from BundleStore.`),$h(s,{orderNumber:n.orderNumber,size:n.size,noOfPieces:n.noOfPieces,italyPo:n.italyPo,productionPo:n.productionPo})))).then((()=>{console.log(`New Bundle ID ${r} added to Inqueue under ${t}.`),o((t=>t.filter((t=>t.bundleId!==e)))),c((t=>{const{[e]:n,...r}=t;return r}))})).catch((e=>{console.error("Error during the transfer process:",e)}))},m=(e,t)=>{c((n=>({...n,[e]:t})))};(0,i.useEffect)((()=>{console.log("Updated bundles in the table:",s)}),[s]);return(0,Se.jsxs)("div",{children:[(0,Se.jsx)(Ee,{}),(0,Se.jsx)(Lf,{}),(0,Se.jsx)("h1",{children:"Search Cutting Details"}),(0,Se.jsx)("input",{type:"text",placeholder:"Order Number",value:e,onChange:e=>{const n=e.target.value;t(n),(async e=>{if(!e)return;const t=Mh(Of,`BundleStore/${e}`);try{const e=await Bh(t);if(e.exists()){const t=e.val(),n=Object.keys(t);n.length>0?(d(n),p(!1)):p(!0)}else p(!0),d([])}catch(Oo){console.error("Error fetching cut numbers:",Oo),p(!0)}})(n)}}),f?(0,Se.jsx)("p",{children:"No available cut numbers for this order."}):h.length>0?(0,Se.jsxs)("select",{value:n,onChange:t=>{const n=t.target.value;r(n),n&&((e,t)=>{if(!e||!t)return void alert("Please enter both Order Number and Cut Number.");console.log(`Loading bundles for Order Number: ${e}, Cut Number: ${t}`),Bh(Mh(Of,`BundleStore/${e}/${t}/sizes`)).then((n=>{const r=n.val();if(console.log("Fetched size data:",r),r){const n=[];Object.entries(r).forEach((r=>{let[i,s]=r;console.log(`Processing size: ${i}`);const o=s.bundles||{};console.log("Bundles for size:",o),Object.entries(o).forEach((r=>{let[s,o]=r;n.push({bundleId:s,size:i,...o,orderNumber:e,cutNumber:t})}))})),console.log("Bundles array:",n),o(n);const i=n.reduce(((e,t)=>(e[t.bundleId]="",e)),{});l(i)}else alert(`No bundles found for order ${e} and cut number ${t}.`)})).catch((e=>{console.error("Error fetching bundles:",e)}))})(e,n)},children:[(0,Se.jsx)("option",{value:"",children:"Select Cut Number"}),h.map((e=>(0,Se.jsx)("option",{value:e,children:e},e)))]}):null," ",s.length>0&&(e=>(0,Se.jsxs)("table",{border:1,children:[(0,Se.jsx)("thead",{children:(0,Se.jsxs)("tr",{children:[(0,Se.jsx)("th",{children:"Bundle ID"}),(0,Se.jsx)("th",{children:"Size"}),(0,Se.jsx)("th",{children:"No of Pieces"}),(0,Se.jsx)("th",{children:"Line"}),(0,Se.jsx)("th",{children:"Actions"})]})}),(0,Se.jsx)("tbody",{children:e.length>0?e.map((e=>(0,Se.jsxs)("tr",{children:[(0,Se.jsx)("td",{children:(0,Se.jsx)("input",{type:"text",onChange:t=>m(e.bundleId,t.target.value)})}),(0,Se.jsx)("td",{children:e.size}),(0,Se.jsx)("td",{children:e.noOfPieces}),(0,Se.jsx)("td",{children:(0,Se.jsxs)("select",{onChange:t=>{return n=e.bundleId,r=t.target.value,void l((e=>({...e,[n]:r})));var n,r},value:a[e.bundleId]||"",children:[(0,Se.jsx)("option",{value:"",children:"Select Line"}),Array.from({length:12},((e,t)=>`Line ${t+1}`)).map((e=>(0,Se.jsx)("option",{value:e,children:e},e)))]})}),(0,Se.jsx)("td",{children:(0,Se.jsx)("button",{onClick:()=>{return t=e.bundleId,n=a[e.bundleId],r=e,void(t&&n?g(t,n,r):alert("Please provide both Bundle ID and Line."));var t,n,r},disabled:!a[e.bundleId]||!e.bundleId,children:"Transfer to Line"})})]},e.bundleId))):(0,Se.jsx)("tr",{children:(0,Se.jsx)("td",{colSpan:"5",children:"No bundles available"})})})]}))(s)]})};function Pp(){const e=ne();return(0,Se.jsxs)("div",{children:[(0,Se.jsx)(Ee,{}),(0,Se.jsx)(Lf,{}),(0,Se.jsxs)("div",{children:[(0,Se.jsx)("button",{onClick:()=>e("/comp/cutting"),children:"Cut Detalis"}),(0,Se.jsx)("button",{onClick:()=>e("/comp/bundle"),children:"Bundle"}),(0,Se.jsx)("button",{onClick:()=>e("/comp/inqueue"),children:"Inqueue"})]})]})}const jp=()=>{const[e,t]=(0,i.useState)({}),[n,r]=(0,i.useState)(!0),[s,o]=(0,i.useState)(null);(0,i.useEffect)((()=>{a()}),[]);const a=async()=>{const e=Mh(Of,"Inqueue");try{const t=await Bh(e);if(t.exists()){const e=t.val();await l(e)}else o("No data found in Inqueue."),r(!1)}catch(t){console.error("Error fetching Inqueue data:",t),o("Error fetching data."),r(!1)}},l=async e=>{const n={...e};for(const t of Object.keys(e)){const r=e[t];for(const e of Object.keys(r)){const i=r[e],{orderNumber:s,italyPo:o,productionPo:a}=i;if(!s||!o||!a){console.warn("Missing data in bundle:",i);continue}const l=await u(s,o,a);n[t][e]={...i,...l}}}t(n),r(!1)},u=async(e,t,n)=>{const r=Mh(Of,"orders");try{const i=await Bh(r);if(i.exists()){const r=i.val();for(const i in r){const s=r[i];if(s.orderNumber===e&&s.italyPO===t&&s.productionPO===n)return{styleNumber:s.styleNumber||"N/A",italypo:s.italyPO||"N/A",productionpo:s.productionPO||"N/A",color:s.colour||"N/A",colorCode:s.colourCode||"N/A"}}return console.warn(`No order details found for Order Number: ${e}`),{styleNumber:"N/A",color:"N/A",colorCode:"N/A"}}return console.warn("No orders found in the database."),{styleNumber:"N/A",color:"N/A",colorCode:"N/A"}}catch(s){return console.error("Error fetching order details:",s),{styleNumber:"N/A",color:"N/A",colorCode:"N/A"}}};return(0,Se.jsxs)("div",{children:[(0,Se.jsx)(Ee,{}),(0,Se.jsx)(Lf,{}),(0,Se.jsx)("h1",{children:"Inqueue Bundles Data"}),n&&(0,Se.jsx)("p",{children:"Loading data..."}),s&&(0,Se.jsx)("p",{children:s}),!n&&!s&&Object.keys(e).map((t=>{const n=e[t];return(0,Se.jsxs)("div",{children:[(0,Se.jsx)("h2",{children:t}),(0,Se.jsxs)("table",{border:"1",children:[(0,Se.jsx)("thead",{children:(0,Se.jsxs)("tr",{children:[(0,Se.jsx)("th",{children:"Bundle ID"}),(0,Se.jsx)("th",{children:"Order Number"}),(0,Se.jsx)("th",{children:"Size"}),(0,Se.jsx)("th",{children:"Number of Pieces"}),(0,Se.jsx)("th",{children:"Style Number"}),(0,Se.jsx)("th",{children:"Italy PO"}),(0,Se.jsx)("th",{children:"Production PO"}),(0,Se.jsx)("th",{children:"Color"}),(0,Se.jsx)("th",{children:"Color Code"})]})}),(0,Se.jsx)("tbody",{children:Object.entries(n).map((e=>{let[t,n]=e;return(0,Se.jsxs)("tr",{children:[(0,Se.jsx)("td",{children:t}),(0,Se.jsx)("td",{children:n.orderNumber}),(0,Se.jsx)("td",{children:n.size}),(0,Se.jsx)("td",{children:n.noOfPieces}),(0,Se.jsx)("td",{children:n.styleNumber}),(0,Se.jsx)("td",{children:n.italypo}),(0,Se.jsx)("td",{children:n.productionpo}),(0,Se.jsx)("td",{children:n.color}),(0,Se.jsx)("td",{children:n.colorCode})]},t)}))})]})]},t)}))]})};const Op=function(){return(0,Se.jsx)("div",{className:"App",children:(0,Se.jsx)(be,{children:(0,Se.jsxs)(ve,{children:[(0,Se.jsx)(ge,{path:"/components/AdminLog",element:(0,Se.jsx)(Af,{})}),(0,Se.jsx)(ge,{path:"/components/ITSecLog",element:(0,Se.jsx)(zf,{})}),(0,Se.jsx)(ge,{path:"/components/LoginForm",element:(0,Se.jsx)(Uf,{})}),(0,Se.jsx)(ge,{path:"/pages/Login",element:(0,Se.jsx)(Df,{})}),(0,Se.jsx)(ge,{path:"/pages/Home",element:(0,Se.jsx)(Te,{})}),(0,Se.jsx)(ge,{path:"/pages/AdminHome",element:(0,Se.jsx)(Ff,{})}),(0,Se.jsx)(ge,{path:"/pages/ItHome",element:(0,Se.jsx)(Kf,{})}),(0,Se.jsx)(ge,{path:"/pages/LineHome",element:(0,Se.jsx)(Wf,{})}),(0,Se.jsx)(ge,{path:"/pages/SelectLine",element:(0,Se.jsx)(kp,{})}),(0,Se.jsx)(ge,{path:"/pages/Admin",element:(0,Se.jsx)(xp,{})}),(0,Se.jsx)(ge,{path:"/pages/EmployeeHome",element:(0,Se.jsx)(_p,{})}),(0,Se.jsx)(ge,{path:"/pages/OrderHome",element:(0,Se.jsx)(wp,{})}),(0,Se.jsx)(ge,{path:"/pages/CutHome",element:(0,Se.jsx)(Pp,{})}),(0,Se.jsx)(ge,{path:"/components/Orderdetails",element:(0,Se.jsx)(Qf,{})}),(0,Se.jsx)(ge,{path:"/pages/AddEmployee",element:(0,Se.jsx)(vp,{})}),(0,Se.jsx)(ge,{path:"/edit-employee",element:(0,Se.jsx)(Cp,{})}),(0,Se.jsx)(ge,{path:"/editOrder",element:(0,Se.jsx)(Sp,{})}),(0,Se.jsx)(ge,{path:"/addSizeInSameOrder",element:(0,Se.jsx)(Ep,{})}),(0,Se.jsx)(ge,{path:"/components/AddNewUser",element:(0,Se.jsx)(Mf,{})}),(0,Se.jsx)(ge,{path:"/line/selectLine",element:(0,Se.jsx)(kp,{})}),(0,Se.jsx)(ge,{path:"/line/AssignEmp",element:(0,Se.jsx)(Tp,{})}),(0,Se.jsx)(ge,{path:"/comp/cutting",element:(0,Se.jsx)(Ip,{})}),(0,Se.jsx)(ge,{path:"/comp/bundle",element:(0,Se.jsx)(Np,{})}),(0,Se.jsx)(ge,{path:"/comp/cutting",element:(0,Se.jsx)(Ip,{})}),(0,Se.jsx)(ge,{path:"/comp/inqueue",element:(0,Se.jsx)(jp,{})}),(0,Se.jsx)(ge,{path:"/",element:(0,Se.jsx)(Te,{})})]})})})},Rp=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};o.createRoot(document.getElementById("root")).render((0,Se.jsx)(i.StrictMode,{children:(0,Se.jsx)(Op,{})})),Rp()})();
//# sourceMappingURL=main.e1fa6416.js.map